<!doctype html>



  


<html class="theme-next pisces use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
    
  
  <link href="//cdn.jsdelivr.net/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet" type="text/css" />




  
  
  
  

  

  

  

  

  

  






  

<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.2/css/font-awesome.min.css" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />





  <link rel="alternate" href="/atom.xml" title="前端学习之路" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="前端学习之路">
<meta property="og:type" content="website">
<meta property="og:title" content="前端学习之路">
<meta property="og:url" content="https://zhulichao.github.io/page/10/index.html">
<meta property="og:site_name" content="前端学习之路">
<meta property="og:description" content="前端学习之路">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="前端学习之路">
<meta name="twitter:description" content="前端学习之路">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: undefined,
      author: '博主'
    }
  };
</script>

  <title> 前端学习之路 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?41d77ee7657d4e19a7f8a6361fe2121f";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>








  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">前端学习之路</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="#" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      

  <div class="popup">
 <span class="search-icon fa fa-search"></span>
 <input type="text" id="local-search-input">
 <div id="local-search-result"></div>
 <span class="popup-btn-close">close</span>
</div>

    </div>
  
</nav>

 </div>
      
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/uploads/me.png"
               alt="小朱" />
          <p class="site-author-name" itemprop="name">小朱</p>
          <p class="site-description motion-element" itemprop="description">前端学习之路</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">168</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">37</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">37</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/zhulichao" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-inline">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              友情链接
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="http://www.jikexueyuan.com/" title="极客学院" target="_blank">极客学院</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://caniuse.com" title="caniuse" target="_blank">caniuse</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://codepen.io" title="codepen" target="_blank">codepen</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://jsbin.com/?html,css,output" title="JS Bin" target="_blank">JS Bin</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://babeljs.io/repl/" title="Babel在线编译" target="_blank">Babel在线编译</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://www.iconfinder.com/iconsets/miu" title="Iconfinder图标" target="_blank">Iconfinder图标</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://www.bejson.com/" title="在线JSON格式化" target="_blank">在线JSON格式化</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://img.top/" title="智能图像压缩" target="_blank">智能图像压缩</a>
                </li>
              
            </ul>
          </div>
        

      </section>

      

    </div>
  </aside>


        
    </header>
 
    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2018/07/17/javascript-good-parts/" itemprop="url">
                  《JavaScript语言精粹》笔记（未完成）
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2018-07-17T22:02:59+08:00" content="2018-07-17">
              2018-07-17
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Reading-Notes/" itemprop="url" rel="index">
                    <span itemprop="name">Reading Notes</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2018/07/08/google-analytics/" itemprop="url">
                  集成谷歌分析
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2018-07-08T12:53:24+08:00" content="2018-07-08">
              2018-07-08
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/数据分析/" itemprop="url" rel="index">
                    <span itemprop="name">数据分析</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="网站跟踪"><a href="#网站跟踪" class="headerlink" title="网站跟踪"></a>网站跟踪</h2><p>登录 <a href="https://analytics.google.com/" target="_blank" rel="external">Google Analytics</a> 后，根据项目情况创建媒体资源并集成到项目中，通常包括以下步骤：</p>
<ul>
<li>初始化跟踪实例</li>
<li>上报页面访问事件，集成 Google Analytics 后会自动上报页面访问事件，但现在的应用通常是单页应用，需要特殊处理一下，在路由发生变化时上报页面信息</li>
<li>标识用户<ul>
<li>Google 后台，管理 -&gt; 媒体资源/.js 跟踪信息 -&gt; User-ID，启用 User-ID 功能，可查看示例代码</li>
<li>代码中再获取到用户信息时进行上报，如 <code>gtag(&#39;set&#39;, {&#39;user_id&#39;: &#39;USER_ID&#39;});</code></li>
<li>清除 cookie 后，将产生一个新用户，即使设置了相同的 user_id</li>
<li>在报告 -&gt; 受众群体 -&gt; 行为 -&gt; User ID 覆盖率中，可查看被标识用户的比例</li>
</ul>
</li>
<li>跟踪流量来源<ul>
<li>在页面 url 中带有的 <code>utm_</code> 系列参数会自动上报，utm_source 是必须的，否则无法收集其它数据</li>
<li>也可通过代码手动上报</li>
<li>utm_source，广告系列来源，用于确定具体的搜索引擎、简报或其他来源，如 google 或 weixin</li>
<li>utm_medium，广告系列媒介，用于确定电子邮件或采用每次点击费用的广告等媒介，如 cpc 或 appmessage 或 timeline</li>
<li>utm_campaign，广告系列名称，用于关键字分析，以标识具体的产品推广活动或战略广告系列，如 spring_sale 或 sharePlan</li>
<li>utm_term，广告系列字词，用于付费搜索，为广告提供关键字，如 running + shoes</li>
<li>utm_content，广告系列内容，用于 A/B 测试和内容定位广告，以区分指向相同网址的不同广告或链接，如 logolink 或 textlink</li>
</ul>
</li>
<li><p>上报事件，可上报自定义指标和维度</p>
<ul>
<li>事件类别，如购买</li>
<li>事件操作，如购买成功、购买失败</li>
<li>事件标签，如单品1、单品2</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line">gtag(&apos;config&apos;, config.gaTrackingId, &#123;</div><div class="line">  custom_map: &#123;</div><div class="line">    dimension1: &apos;viewerId&apos;,</div><div class="line">    dimension2: &apos;activityName&apos;,</div><div class="line">  &#125;,</div><div class="line">&#125;);</div><div class="line"></div><div class="line">gtag(&apos;event&apos;, &apos;事件操作&apos;, &#123;</div><div class="line">  event_category: &apos;事件类别&apos;,</div><div class="line">  event_label: &apos;事件标签&apos;,</div><div class="line">  viewerId: &apos;维度1&apos;,</div><div class="line">  activityName: &apos;维度2&apos;,</div><div class="line">&#125;);</div></pre></td></tr></table></figure></li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2018/07/07/ux-design/" itemprop="url">
                  《用户体验要素》笔记
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2018-07-07T22:54:48+08:00" content="2018-07-07">
              2018-07-07
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Reading-Notes/" itemprop="url" rel="index">
                    <span itemprop="name">Reading Notes</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p>“如何提出正确的问题”。</p>
<p>用户体验并不是指一见产品本身是如何工作的，用户体验是指“产品如何与外界发生联系并发挥作用”，也就是人们如何“接触”和“使用”它。</p>
<p>拥有更多的“产品特性”，被证明只能保持短时间的竞争优势。随着功能的不断膨胀，网站变得越来越复杂、越来越笨重、越来越难以使用，最后就失去了对初次访问者应有的吸引力。</p>
<p>转化率是一种常用的方式，来衡量用户体验的效果。</p>
<p>任何在用户体验上所做的努力，目的都是为了提高效率。“帮助人们工作得更快”和“减少他们犯错的几率”。</p>
<p>创建吸引人的、高效的用户体验的方法称为“以用户为中心的设计（user-centered design）”。以用户为中心的设计思想非常简单：在开发产品的每一个步骤中，都要把用户列入考虑范围。</p>
<p>用户体验的整个开发流程，都是为了确保用户在你的产品上的所有体验不会发生在你“明确的、有意识的意图”之外。这就是说，要考虑到用户有可能采取的每一个行动的每一种可能性，并且去理解在这个过程的每一个步骤中用户的期望值。</p>
<img src="/2018/07/07/ux-design/ux.png" title="五个层面">
<p>每一个层面都是根据它下面的那个层面来决定的。当我们做出的决定没有和上下层面保持一致的时候，项目常常会偏离正常轨道，完成日期延迟，而在开发团队试图把各个不匹配的要素勉强拼凑在一起的同时，费用也开始飞速上涨。</p>
<h2 id="战略层"><a href="#战略层" class="headerlink" title="战略层"></a>战略层</h2><p>成功的用户体验，其基础是一个被明确表达的“战略”。经营者想从网站得到什么，是产品目标；用户想从网站得到什么，是用户需求，结合内外两者就组成了战略层。</p>
<p>对于任何一个网站，它需要明确描述的基础目标之一就是品牌识别（brand identity）。</p>
<p>理解你的目标，有一个重要的部分，就是理解你要怎样才能知道“什么时候到达了终点”，一些可追踪的指标，在产品上线以后用来显示它是否满足了我们自己的目标和用户的需求，这就是成功标准（success metrics）。</p>
<p>对驱动用户体验决策而言有意义的成功标准，一定是可以明确地与用户行为绑定的标准，而这些用户行为也一定是可以通过设计来影响的行为。</p>
<p>理想化用户就是“某些与我们完全一样的人”。</p>
<p>要对用户需求寻根究底，必须要定义谁是我们的用户。可以通过用户细分（user segmentation）把大量的用户需求划分成几个可管理的部分。</p>
<p>可根据人口统计学（demographic）、消费心态档案（psychographic profile）、对技术和网页本身的想法、对网站相关内容的知识多少等标准来划分用户。</p>
<p>创建细分用户群只是一种用于“揭示用户最终需求的手段”，你真正只需要得到的是和你发现的“用户需求数目”一样多的细分用户群。</p>
<p>创建细分用户群还有其他重要的原因，不仅仅是因为不同的用户群有不同的需求，还因为有时候这些需求是彼此矛盾的。我们无法提供一种方案可以同时满足这两种用户的需求，要么选择针对单一用户群设计而排除其他用户群，要么为执行相同任务的不同用户群提供不同的方式。</p>
<p>用户研究（User Research）的领域致力于收集必要的信息来达成共识，问卷调查、用户访谈、焦点小组最适合用于收集用户的普遍观点与感知，用户测试、现场调查则更适用于理解具体的用户行为以及用户在和产品交互时的表现。</p>
<h2 id="范围层"><a href="#范围层" class="headerlink" title="范围层"></a>范围层</h2><p>定义项目范围则同时在做两件事：这是一个有价值的过程，同时能产生有价值的产品。过程（process）的价值在于，当整个事情还处在假设阶段的时候，它能迫使你去考虑潜在的冲突和产品中一些粗糙的点。我们能确定现在能解决哪些事情，而哪些必须要再迟一点才能解决。产品（product）的价值在于，被定义的这个产品给了整个团队一个参考点，明确了这个项目中要完成的全部工作，它也提供了一门用于讨论这件事情的共同的语言。</p>
<p>用文档定义产品需求，很麻烦但必须要做。原因是：这样你才知道你正在建设什么，这样你才知道你不需要建什么。</p>
<p>功能型产品考虑的是功能规格，哪些方面应该被当成软件产品的功能以及相应的组合。在信息型产品方面，考虑的是内容，这属于编辑和营销推广的传统领域。我使用一个词“特性（feature）”来同时表示软件的功能和所提供的内容。真正的内容常常是通过一个内容管理系统（Content Management System,CMS）来进行管理。</p>
<p>撰写功能规格说明的几条原则：乐观、具体、避免主观语气，功能规格必须可验证。</p>
<h2 id="结构层"><a href="#结构层" class="headerlink" title="结构层"></a>结构层</h2><p>确定网站各种特性和功能最合适的组合方式。用来设计用户如何到达某个页面，并且在他们做完事情之后能去什么地方。</p>
<p>在传统的软件开发行业，涉及“为用户涉及结构化体验”的方法被称为交互设计（interaction design）。在内容建设方面，主要是通过信息架构（information architecture）来构建用户体验。交互设计和信息架构都强调一个重点：确定各个将要呈献给用户的元素的“模式”和“顺序”。交互设计关注于将影响用户执行和完成任务的元素。信息架构则关注如何将信息表达给用户的元素。</p>
<p>交互设计关注于描述“可能的用户行为”，同时定义“系统如何配合与相应”这些用户行为。</p>
<p>用户对于“交互组件将怎样工作”的观点称为概念模型（conceptual model）。规划好概念模型能帮助你做出一致的设计决定。</p>
<p>第一个同时也是最好的防止错误的方法，是将系统设计成不可能犯错的那种。第二个避免错误的方法就是使错误难以发生。一些最令人反感的行为，往往出现在软件试图善意地修正用户错误的时候。系统应该为用户提供从错误中恢复的方式。</p>
<p>信息架构研究的是人们如何认知信息的过程，对于产品而言，信息架构关注的就是呈现给用户的信息是否合理并具有意义。在以内容为主的网站上，信息架构主要的工作是设计组织分类和导航的结构，让用户可以高效率、有效地浏览网站的内容。</p>
<p>从上到下的信息架构方法将从战略层所考虑的内容，即根据产品目标与用户需求直接进行结构设计。从下到上的信息架构方法也包括了主要分类与次级分类，但它是根据对“内容和功能需求的分析”而来的。</p>
<p>架构图最重要的是记录概念关系：哪些类别需要放在一起，而哪些需要保持独立？在交互过程中那些步骤要怎样相互配合？</p>
<h2 id="框架层"><a href="#框架层" class="headerlink" title="框架层"></a>框架层</h2><p>框架是结构的具体表现方式，用于确定用什么样的功能和形式来实现，关注点几乎全部在独立的组件以及它们之间的相互关系上。通过界面设计来确定框架，通过导航设计呈现信息的一种界面形式，信息设计呈现有效的信息沟通。如果涉及提供给用户做某些事的能力，则属于界面设计；如果提供给用户去某个地方的能力，则属于导航设计；如果是传达想法给用户，则是信息设计。</p>
<p>界面设计要做的全部事情就是选择正确的界面元素，还要通过适当的方式让它们容易被理解和使用。成功的界面设计是那些能让用户一眼就看到“最重要的东西”的界面设计。</p>
<p>任何一个网站的导航设计都必须同时完成三个目标：必须提供给用户一种在网站间跳转的方法，必须传达出这些元素和它们所包含内容之间的关系，必须传达出它的内容和用户当前浏览页面之间的关系。</p>
<p>信息设计常常充当一种把各种设计元素聚合到一起的粘合剂的角色，最后，信息设计变成决定如何呈现这些信息，使人们能很容易使用或理解它们。</p>
<h2 id="表现层"><a href="#表现层" class="headerlink" title="表现层"></a>表现层</h2><p>解决并弥补“产品框架层的逻辑排布”的感知呈现问题。如果你对设计是成功的，用户眼睛的移动轨迹的模式应该遵循的是一条流畅的路径，在不需要用户太多细节来吓倒用户的前提下，它为用户提供有效选择的、某种可能的“引导”。</p>
<p>在视觉设计中，我们用于吸引用户注意的一个主要工具就是对比。一致性能使你的设计有效地传达信息，而不会导致用户迷惑或焦略。</p>
<p>内部一致性的问题，是说在产品的两个不同的地方反应了不同的设计方法。解决内部一致性问题比较好的方法，是在进行设计之前，从这些不同的环境中反复出现的设计元素独立出来，然后将这个设计方案应用到整个产品中去，在需要的时候进行调整。</p>
<p>色彩可能是向外界传递品牌识别的一个最有效的方法。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2018/06/24/next-js-learn/" itemprop="url">
                  Next.js 学习
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2018-06-24T11:56:27+08:00" content="2018-06-24">
              2018-06-24
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Project-Base/" itemprop="url" rel="index">
                    <span itemprop="name">Project Base</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h2><p><a href="https://nextjs.org/" target="_blank" rel="external">Next.js</a> 是一个轻量级的 React 服务端渲染应用框架，是 <a href="https://github.com/facebook/create-react-app" target="_blank" rel="external">Create-React-App</a> 的升级版。当使用 React 开发时，常常需要配置很多繁琐的参数，如 Webpack 配置、Router 配置和服务器配置等。如果需要做 SEO，要考虑的事情就更多了，怎么让服务端渲染和客户端渲染保持一致是一件很麻烦的事情，需要引入很多第三方库。针对这些问题，Next.js 提供了一个很好的解决方案，使开发人员可以将精力放在业务上，从繁琐的配置中解放出来。</p>
<h2 id="优点"><a href="#优点" class="headerlink" title="优点"></a>优点</h2><ul>
<li><strong>服务端渲染（SSR）</strong></li>
<li>基于文件系统的页面路由</li>
<li>自动按页面拆分代码</li>
<li>静态页面导出</li>
<li>使用 styled-jsx</li>
<li>零配置，基于 Webpack 的开发环境，支持热模块替换</li>
<li>支持 Babel 和 Webpack 的配置项定制，可定制服务端、路由 和 next 插件</li>
</ul>
<h2 id="缺点"><a href="#缺点" class="headerlink" title="缺点"></a>缺点</h2><ul>
<li>注意 window、document 等只能在浏览器端使用的变量</li>
<li>区分服务端还是客户端</li>
<li>图片等静态文件只能放在 static 目录下，不能通过 require 来引入，也就是没办法通过 webpack 来进行模块化管理，如果各个组件有自身依赖的图片，也只能一股脑放 static 里，也很难实现版本管理控制浏览器缓存</li>
</ul>
<p>简单地说，很适合快速搭建简单站点，但自由度不高，且带样式或图片的 React 组件无法直接使用，个人看法是一个用自由度和通用性来换取易用性的框架</p>
<h2 id="Next-js-vs-create-react-app"><a href="#Next-js-vs-create-react-app" class="headerlink" title="Next.js vs create-react-app"></a>Next.js vs create-react-app</h2><p>Next.js：优化首屏加载速度，有SEO，如着陆页项目<br>create-react-app：适用于 SPA，不需SEO、SSR的项目，如后台项目</p>
<h2 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h2><h3 id="Command"><a href="#Command" class="headerlink" title="Command"></a>Command</h3><p>next dev  开发模式，编译完后只是搭建基础模块，访问到哪些页面再进行编译，提升开发效率<br>next build 构建打包生产环境代码<br>next start 发布模式编译后本地运行 server<br>next export 导出静态页面，使用 next.config.js</p>
<h3 id="Pages"><a href="#Pages" class="headerlink" title="Pages"></a>Pages</h3><p>Next.js 项目有两个特殊目录，pages 和 public。public 目录存放静态文件和 robots.txt 文件。pages 目录下的文件可以是页面路由或 api 路由，可通过文件名直接访问，pages/api 目录下的文件都是 api 路由，可通过 /api/* 访问，其它为页面路由。pages 目录下文件名由 [] 包裹的会产生动态路由，文件的名称会作为query参数传入页面，Link 中需要使用 as 属性。</p>
<h3 id="Router-and-Link"><a href="#Router-and-Link" class="headerlink" title="Router and Link"></a>Router and Link</h3><p>useRouter() 可以获取 router 对象，withRouter() 可以将 router 对象传入组件。页面跳转不要使用 <code>&lt;a&gt;</code>，它不会执行客户端导航，而是浏览器发起请求到服务器页面，会刷新整个页面，使用 <code>&lt;Link&gt;</code> 是客户端导航，并且使用了 <code>location.history</code>。<code>Link</code> 只是一个接受 href 和类似属性的包装组件，如果想给链接标签添加属性，需要添加到它的子组件上，href 属性是到 pages 下的路径，as 属性是浏览器地址栏显示的地址。</p>
<h3 id="Style"><a href="#Style" class="headerlink" title="Style"></a>Style</h3><p>使用 <code>&lt;style jsx&gt;</code> 内联样式，只作用在本组件内，可以通过 global 属性定义全局样式，也可以使用引用 css 文件的方式。可以通过 <code>[name].module.css</code> 命名方式使用 css module。可以继承 styled-components 来支持服务端渲染。</p>
<h3 id="Data-Fetching"><a href="#Data-Fetching" class="headerlink" title="Data Fetching"></a>Data Fetching</h3><p>Next.js 有两种预渲染方式，Static Generation 和 Server-side Rendering。有3个方法可以用于预渲染获取数据：</p>
<ul>
<li>getStaticProps (Static Generation): 在打包构建生产环境时获取数据，因此无法获取 query 参数或 headers 等再请求发生时才有的信息，只在服务端执行，然后把获取到的数据用 props 传入页面</li>
<li>getStaticPaths (Static Generation): 根据数据指定动态路由进行预渲染，如果一个动态路由页面使用了 getStaticProps 方法，那它也必须使用 getStaticPaths 方法</li>
<li>getServerSideProps (Server-side Rendering): 每次请求时获取数据，只在服务端执行，</li>
</ul>
<p>除此之外，还可使用 getInitialProps API 获取数据，getInitialProps 适合通用数据抓取和服务器端渲染，有利于 SEO。这些方法只能在 page 页面导出。</p>
<h3 id="有用的包"><a href="#有用的包" class="headerlink" title="有用的包"></a>有用的包</h3><ul>
<li>使用 next-optimized-images 引入图片文件，并在部署时自动优化图片</li>
<li>使用 next-css 加载 css 文件</li>
<li>使用 next-compose-plugin 维护 next.config.js 文件整洁性</li>
<li>使用 @next/bundle-analyzer 分析打包效果</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2018/05/26/create-react-app-learn/" itemprop="url">
                  create-react-app 学习
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2018-05-26T15:20:06+08:00" content="2018-05-26">
              2018-05-26
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Project-Base/" itemprop="url" rel="index">
                    <span itemprop="name">Project Base</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Monorepo"><a href="#Monorepo" class="headerlink" title="Monorepo"></a>Monorepo</h2><p>先说一下 Multirepos 的管理方式，一个项目会有一个 repo 或者说一个 module 一个 repo，缺点：</p>
<ul>
<li>项目或者 module 因为功能或者属性或者历史的原因不得不拆分到不同的 organization 中，这会导致后期人员交接或者自己项目管理时不知道哪里去找 repo 的境地</li>
<li>issue 不知道往哪里提，导致项目管理混乱</li>
<li>版本管理带来的日常开销，如 webpack 需要变更时，需要人工同步所有的项目</li>
<li>changelog 梳理又是一场灾难，需要人工同步所有变动的仓库最终列出一个 changelog</li>
</ul>
<p>Monorepo 是一种相反的思路，可以将以上问题都解决。 Monorepo 是一种管理代码的方式，在这种方式下会摒弃原先一个 module 一个 repo 的方式，取而代之的是把所有的 modules 都放在一个 repo 内来管理，用一个项目维护所有的代码，每个子项目单独管理发布和运行，内部互相引用，但 Monorepo 也有缺陷，就是单个 repo 体积较大、如何进行权限管理。从代码结构看，一般使用 Monorepo 管理方式的项目，都会有一个 packages 目录，里面是一个个独立管理和发布的子项目。</p>
<p>目前诸如 Babel、React、Angular、Ember、Jest、Create-React-App 等等都采用了 Monorepo 这种方式来进行源码管理。</p>
<p>个人思考：<br>1、如果由一个 repo 管理所有项目，这个 repo 体积会越来越大，这会需要强大的构建工具，版本控制、权限管理也会变难。Monorepo 适用于什么场景呢？是否是由多个子项目共同完成一件事或者跟一件事相关，而且至少存在内部互相引用的情况，适用的边界在哪里？<br>2、我们的3个前端项目适用 monorepo 的管理方式吗？</p>
<h2 id="Lerna"><a href="#Lerna" class="headerlink" title="Lerna"></a>Lerna</h2><p><a href="https://lernajs.io/" target="_blank" rel="external">Lerna</a> 是基于 Monorepo 理念在工具端的实现，优化使用 git 和 npm 管理多包代码库的工作流程，可以在主项目下管理多个子项目，从而解决多个包互相依赖，且发布时需要手动维护多个包的问题，根据 git 提交记录自动生成 CHANGELOG。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">yarn global add lerna</div><div class="line">git init monorepo-example</div><div class="line">cd monorepo-example</div><div class="line">lerna init</div></pre></td></tr></table></figure>
<p>此时目录结构为：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">.</div><div class="line">|-- packages/     存放之后所有的官方维护的 module</div><div class="line">|-- lerna.json</div><div class="line">|-- package.json</div></pre></td></tr></table></figure></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">cd packages</div><div class="line">mkdir module-a &amp;&amp; cd module-a &amp;&amp; yarn init</div><div class="line">mkdir module-b &amp;&amp; cd module-b &amp;&amp; yarn init</div></pre></td></tr></table></figure>
<p>此时目录结构为：<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">.</div><div class="line">|-- packages</div><div class="line">|       |-- module-a</div><div class="line">|               |-- package.json</div><div class="line">|       |-- module-b</div><div class="line">|               |-- package.json</div><div class="line">|-- lerna.json</div><div class="line">|-- package.json</div></pre></td></tr></table></figure></p>
<p>在 module-a 的 package.json 的 dependencies 中添加 module-b，执行 lerna bootstrap，引导packages安装各自的依赖。如果想把 package 发布到 npm 上，可以执行 lerna publish 命令。</p>
<h2 id="如何学习"><a href="#如何学习" class="headerlink" title="如何学习"></a>如何学习</h2><p>CONTRIBUTION.md 看项目结构，怎么更改和维护。React-boilerplate 样板 ，最佳实践，弄成项目样板，在此基础上写业务代码。</p>
<ul>
<li>读代码</li>
<li>看 commit 记录</li>
</ul>
<h2 id="packages"><a href="#packages" class="headerlink" title="packages"></a>packages</h2><p>把配置和开发调试依赖的东西分成独立项目了，使用者只关注业务代码。</p>
<p>babel-preset-react-app：react-scripts 使用的 babel 预设，将 ES6 以上的语法转义。<br>eslint-config-react-app：eslint 语法检查配置。<br>react-dev-utils：开发调试模式用到的一些脚本和方法，如编译时的错误提示？<br>create-react-app：全局 CLI 命令行工具，不应该经常变换，需适配多版本的 node，委托所有的配置给了 react-scripts。<br>react-scripts：项目核心，项目基础配置，包括开发服务的脚本和设置，如 webpack、babel、eslint 配置，构建生产模式等。</p>
<h3 id="create-react-app"><a href="#create-react-app" class="headerlink" title="create-react-app"></a>create-react-app</h3><p>create-react-app 由于是全局安装的，不会经常升级，因此要保持简单，少变更。它只负责做好一件事，初始化仓库，把其他版本的包下载到本地配置好，应适配多版本的 node。</p>
<p>create-react-app 好的思路：</p>
<ul>
<li>index.js 中 ： 生成一个新项目到本地，加载依赖项。检查 node 版本，过低给出警告。这样很安全。</li>
<li>使用 commander 项目，解决控制台如何使用指令。</li>
<li>react-script 中执行 init，把 package.json 填充好，把 template 目录中的模板文件拷贝到项目中。</li>
<li>配置相关的安装包都以特定的方式预配置到项目中，如果需要更高程度的自定义，使用 eject 命令。</li>
</ul>
<p><code>npx</code> 需要全局安装的包，用了一次或两次就不用了。全局安装包 + 执行命令 + 删除全局包。<br><code>npx create-react-app my-app</code> ===<br><code>npm install -g create-react-app &amp;&amp; create-react-app my-app &amp;&amp; npm uninstall -g create-react-app</code></p>
<p>通过 create-react-app + 自定义 react-scripts 的方式，fork create-react-app 项目，做了：</p>
<ul>
<li>将使用 js 改为 ts</li>
<li>添加了 fork-ts-checker-webpack-plugin 负责语法检查，添加了使用 ts-lint 的配置</li>
<li>添加了 cache</li>
<li>增加了 ts-jest 的配置</li>
<li>修改了 template 下的模板文件</li>
<li>增加了对 graphql 文件类型的处理 graphql-tag/loader</li>
<li>加载文件预处理的耗时多的操作，都用了 thread-loader</li>
<li>原来使用 webpack 的 uglyjs 的 plugin ，但是效率低，改为使用社区开源的 uglyjsplugin</li>
<li>使用 module.css 思路，以 .module.css 使用 css module 的处理，增加了对 scss sass 的处理</li>
<li>webpack 由3升级到4</li>
</ul>
<p>使用我们自定义的安装包<br><code>npx create-react-app@next --scripts-version=@canway/react-scripts my-app</code></p>
<p>性能优化：Typescript，会运行 tsc，src/complier/tsc.ts，使用 server-client 的设计思路模式。对于 typescript 其实是一个编译器，把 ts 文件转成 js 文件，把一个文件怎么编译和转换当做一个基础的服务放到 server，client 在个个地方怎么调用这些服务，tsc 是去调用提供的服务，所以 tsc 不在 server 下。ts 的服务一共两大部分：语法检查和转义。好处是，vscode 等 ide 中只要语法检查部分。直接使用 tsc 进行语法检查和转义，效率低，webpack 打包的时候只进行转义，独立的使用 fork-ts-checker-webpack-plugin 做语法检查，ts-loader 添加选项 happyPackMode: true 只进行转义，配合了 thread-loader 利用电脑多核使用多线程，使用 cache-loader 缓存转义（babel-loader本身是有缓存机制的，ts-loader 没有）。用独立的线程进行语法检查 fork-ts-checker-webpack-plugin。</p>
<hr>
<p>我的问题：</p>
<ul>
<li>node_modules 没有包括所有 package.json 中的 dependencies 下的包</li>
<li>执行 yarn install 后没有 yarn.lock 文件</li>
<li>createReactApp.js 中执行过安装 react、react-dom了，在 react-scripts/init.js 中再次执行</li>
<li>tasks 目录</li>
<li>yarn e2e:docker</li>
</ul>
<h2 id="项目中如何修改"><a href="#项目中如何修改" class="headerlink" title="项目中如何修改"></a>项目中如何修改</h2><ul>
<li>yarn add @private/react-scripts –exact</li>
<li><p>删除编译相关的包、scripts</p>
  <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div></pre></td><td class="code"><pre><div class="line">graphql-tag</div><div class="line">isomorphic-loader</div><div class="line">serialize-javascript</div><div class="line">whatwg-fetch</div><div class="line">@babel/*</div><div class="line">jest 相关</div><div class="line">webpack 相关</div><div class="line">postcss 相关</div><div class="line">ts 相关</div><div class="line">ali-oss</div><div class="line">async-retry</div><div class="line">autoprefixer</div><div class="line">chalk</div><div class="line">chokidar</div><div class="line">front-matter</div><div class="line">fs-extra</div><div class="line">glob</div><div class="line">identify-obj-proxy</div><div class="line">markdown-it</div><div class="line">mkdirp</div><div class="line">object-assign</div><div class="line">prettier-error</div><div class="line">promise</div><div class="line">react-deep-force-update</div><div class="line">react-dev-utils</div><div class="line">react-error-overlay</div><div class="line">rimraf</div><div class="line">source-map-support</div></pre></td></tr></table></figure>
<p>  更新 scripts 只留 precommit、start、build、test、eject<br>  更新 browerslist</p>
</li>
<li>删除 config 、scripts、test 目录，babel、docker、jest、nginx 配置文件</li>
<li>拷贝 tsconfig、tslint</li>
<li>修改入口文件为 src/index.tsx</li>
<li>添加 serviceWorker.ts 文件</li>
<li>添加 node-sass 安装包</li>
<li>可能存在 react、react-dom 类型文件版本冲突，redux、apollo 也可能有问题，可能需要手动修改 yarn.lock 文件</li>
<li>webpack 4 “export does not found” 问题，修改 webpack 配置中 <code>strictExportPresence: false</code></li>
<li>更新环境变量为 REACT<em>APP</em> 开头</li>
</ul>
<h2 id="PostCss-改为-SCSS"><a href="#PostCss-改为-SCSS" class="headerlink" title="PostCss 改为 SCSS"></a>PostCss 改为 SCSS</h2><ul>
<li>删除 css.d.ts 声明文件</li>
<li>css 文件改为 module.scss，修改文件引入</li>
<li>变量的定义及使用、多媒体查询、@next 替换为 @at-root</li>
<li>图标样式文件 Icon.module.scss 中变量需定义为字符串</li>
<li>antd 样式没有生效，原因是 webpack 配置中使用了 thread-loader</li>
<li>修正 stylelint 配置文件，支持 scss 中的 @include 等使用  <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">module.exports = &#123;</div><div class="line">   plugins: [</div><div class="line">     ...</div><div class="line">     &apos;stylelint-scss&apos;, // 需安装</div><div class="line">   ],</div><div class="line">   ...</div><div class="line">   rules: &#123;</div><div class="line">     ...</div><div class="line">     &apos;at-rule-no-unknow&apos;: null,</div><div class="line">     &apos;scss/at-rule-no-unknow&apos;: true,</div><div class="line">   &#125;</div><div class="line">&#125;;</div></pre></td></tr></table></figure></li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2018/05/13/mac-use/" itemprop="url">
                  Mac-使用
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2018-05-13T00:48:21+08:00" content="2018-05-13">
              2018-05-13
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Mac/" itemprop="url" rel="index">
                    <span itemprop="name">Mac</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li>新建：command + n</li>
<li>返回行首/尾：command + 左箭头 / 右箭头</li>
<li>返回页顶/底：command + 上箭头 / 下箭头</li>
<li>重命名文件夹：点击文件夹回车</li>
<li>显示桌面：command + f3 / fn + f11</li>
<li>打开Finder：option + command + 空格</li>
<li>最小化当前窗口：command + m</li>
<li>最小化当前应用程序所有窗口：command + option + m</li>
<li>隐藏当前应用程序：command + h </li>
<li>关闭当前应用程序：command + q </li>
<li>将模拟器屏幕截图保存到桌面：command + s </li>
<li>command + tab 选中程序，松开Tab，按住Command不放的同时按住Opt，松开Command 将最小化的窗口恢复回来</li>
<li>Xcode中clean项目：command + shift + k  </li>
<li>调整模拟器窗口大小：Simulator -&gt; window -&gt; Scale</li>
<li>模拟器返回主界面：shift + command + h  </li>
<li>全屏：ctrl + command + f</li>
<li>显示隐藏文件夹  <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">defaults write com.apple.finder AppleShowAllFiles -bool true;</div><div class="line">KillAll Finder</div></pre></td></tr></table></figure>
</li>
</ul>
<h2 id="终端命令"><a href="#终端命令" class="headerlink" title="终端命令"></a>终端命令</h2><ul>
<li>新建文件夹：mkdir</li>
<li>文件重命名：mv old.ar new.ar</li>
<li>列出当前目录所有文件：ls</li>
<li>列出当前目录某格式文件：ls *.ar</li>
<li>删除文件：rm 只能删除文件或者空的文件夹<ul>
<li>-r  删除文件夹内的子文件夹及内容</li>
<li>-f 强制删除参数</li>
</ul>
</li>
<li>查看文件内容：vi aa.txt，i 进行编辑，shift + : + w + q 保存</li>
<li>进入目录：cd</li>
<li>回到根目录：cd ~</li>
<li>输入补全：tab键</li>
<li>终端新建文件：touch .gitignore</li>
<li>查看ip：ifconfig</li>
<li>删除整行命令：ctrl + u</li>
<li>清除屏幕并将当前行移到页面顶部：Ctrl + L</li>
<li>删除一个单词：alt + delete</li>
<li>列出文件和目录的详细信息：ls -l</li>
<li>sudo chmod +x xx.sh</li>
<li>查找命令执行文件的路径：where node</li>
<li>输出：echo $PATH</li>
<li>打印系统环境变量：printenv</li>
<li>显示当前的目录路径：pwd</li>
<li>显示或连接文件内容：cat /etc/profile</li>
<li>通过简单正则表达式搜索文件：grep</li>
<li>处理文本文件的程序：awk </li>
<li>追加式写入：ifconfig &gt;&gt; .log</li>
<li>覆盖式写入：ifconfig &gt; .log 覆盖</li>
<li>查看当前运行的 Shell：echo $SHELL</li>
<li>判断命令的来源：type echo</li>
</ul>
<p><a href="https://www.jianshu.com/p/11584cbfb4a5" target="_blank" rel="external">Mac：终端常用命令 - 简书</a></p>
<h2 id="好用工具"><a href="#好用工具" class="headerlink" title="好用工具"></a>好用工具</h2><ul>
<li>Magnet 分屏工具</li>
<li>Xnip 截图工具</li>
<li>Bear Markdown 笔记</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2018/05/06/project-base/" itemprop="url">
                  项目基础配置
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2018-05-06T09:57:52+08:00" content="2018-05-06">
              2018-05-06
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Project-Base/" itemprop="url" rel="index">
                    <span itemprop="name">Project Base</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <ul>
<li><p>在 github 中配置</p>
<ul>
<li>默认分支</li>
<li>保护分支，注意里面的配置项</li>
</ul>
</li>
<li><p>VSCode 中添加 Code Spell Checker 进行拼写检查</p>
</li>
<li><p>VSCode 中添加 EditorConfig for VS Code 进行风格统一</p>
<ul>
<li>参考 <a href="http://editorconfig.org" target="_blank" rel="external">EditorConfig 官网</a></li>
<li>项目根目录添加 .editorconfig 文件</li>
<li>editorConfig 不是什么软件，而是一个名称为 .editorconfig 的自定义文件，该文件用来定义项目的编码规范，编辑器的行为会与.editorconfig 文件中定义的一致，并且其优先级比编辑器自身的设置要高</li>
</ul>
</li>
<li><p>格式检查</p>
<ul>
<li>参考 <a href="https://prettier.io" target="_blank" rel="external">prettier 官网</a> 进行配置，它可以很好的集成的到项目中，利用 git 的 hooks 的机制，在提交 commit 时自动调用 prettier，使用 husky 和 lint-staged 配合使用<ul>
<li>husky ：可以方便的通过 npm scripts 来调用各种 git hooks</li>
<li>lint-staged ：利用 git 的 staged 特性，可以提取出本次提交的变动文件，让 prettier 只处理这些文件</li>
</ul>
</li>
<li>husky 配合 lint-stage 的过程可以通过 pretty-quick 来取代，但如果项目中也使用了其它工具，比如ESLint，请使用lint-stage</li>
<li>VSCode 中添加 Prettier - Code formatter 插件</li>
<li>执行 <code>./node_modules/.bin/prettier --single-quote --write &quot;src/**/*.{js,jsx,json,css}&quot;</code> 来检查整个项目</li>
</ul>
</li>
<li><p>样式检查</p>
<ul>
<li>参考 <a href="https://stylelint.io/" target="_blank" rel="external">stylelint</a> 进行配置</li>
<li>安装 stylelint-config-standard、stylelint-order</li>
<li>VSCode 中添加 stylelint 插件</li>
</ul>
</li>
<li><p>语法检查</p>
<ul>
<li>参考 <a href="https://palantir.github.io/tslint/" target="_blank" rel="external">TSLint 官网</a> <a href="https://github.com/palantir/tslint-react" target="_blank" rel="external">tslint-react</a> 进行配置</li>
<li><a href="https://github.com/alexjoverm/tslint-config-prettier" target="_blank" rel="external">tslint-config-prettier</a> 防止 tslint 和 prettier 发生冲突，prettier 负责格式，tslint 负责其它</li>
<li>VSCode 中添加 TSLint 插件</li>
</ul>
</li>
<li><p>自动化测试</p>
<ul>
<li>参考 <a href="https://facebook.github.io/jest/" target="_blank" rel="external">Jest</a>，需安装 @types/jest</li>
<li>参考 <a href="https://github.com/kulshekhar/ts-jest" target="_blank" rel="external">ts-jest</a>，作用是将 ts 写的测试文件转为 js 的，再对这些文件执行 jest</li>
<li><p>VSCode 中添加 jest 插件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div></pre></td><td class="code"><pre><div class="line">import * as React from &apos;react&apos;;</div><div class="line">import * as renderer from &apos;react-test-renderer&apos;;</div><div class="line">import configureStore from &apos;redux-mock-store&apos;;</div><div class="line">import thunk from &apos;redux-thunk&apos;;</div><div class="line"></div><div class="line">import App from &apos;../App&apos;;</div><div class="line">import Badge, &#123; BadgeVariant &#125; from &apos;./Badge&apos;;</div><div class="line"></div><div class="line">const middlewares = [thunk];</div><div class="line">const mockStore = configureStore(middlewares);</div><div class="line">const initialState = &#123;&#125;;</div><div class="line"></div><div class="line">test(&apos;正确渲染&apos;, () =&gt; &#123;</div><div class="line">const store = mockStore(initialState);</div><div class="line"></div><div class="line">let tree = renderer</div><div class="line">    .create(</div><div class="line">    &lt;App</div><div class="line">        context=&#123;&#123;</div><div class="line">        fetch: () =&gt; &#123;</div><div class="line">            return;</div><div class="line">        &#125;,</div><div class="line">        store,</div><div class="line">        client: &#123;&#125;,</div><div class="line">        &#125;&#125;</div><div class="line">    &gt;</div><div class="line">        &lt;Badge className=&quot;badge&quot;&gt;&#123;10&#125;&lt;/Badge&gt;</div><div class="line">    &lt;/App&gt;,</div><div class="line">    )</div><div class="line">    .toJSON();</div><div class="line">expect(tree).toMatchSnapshot();</div><div class="line"></div><div class="line">tree = renderer</div><div class="line">    .create(</div><div class="line">    &lt;App</div><div class="line">        context=&#123;&#123;</div><div class="line">        fetch: () =&gt; &#123;</div><div class="line">            return;</div><div class="line">        &#125;,</div><div class="line">        store,</div><div class="line">        client: &#123;&#125;,</div><div class="line">        &#125;&#125;</div><div class="line">    &gt;</div><div class="line">        &lt;Badge&gt;New&lt;/Badge&gt;</div><div class="line">    &lt;/App&gt;,</div><div class="line">    )</div><div class="line">    .toJSON();</div><div class="line">expect(tree).toMatchSnapshot();</div><div class="line">&#125;);</div><div class="line"></div><div class="line">test(&apos;variant属性值应为 primary, info, success, warning, error 中的一个&apos;, () =&gt; &#123;</div><div class="line">const store = mockStore(initialState);</div><div class="line">for (const variant in BadgeVariant) &#123;</div><div class="line">    if (BadgeVariant[variant]) &#123;</div><div class="line">    const tree = renderer</div><div class="line">    .create(</div><div class="line">        &lt;App</div><div class="line">        context=&#123;&#123;</div><div class="line">            fetch: () =&gt; &#123;</div><div class="line">            return;</div><div class="line">            &#125;,</div><div class="line">            store,</div><div class="line">            client: &#123;&#125;,</div><div class="line">        &#125;&#125;</div><div class="line">        &gt;</div><div class="line">        &lt;Badge variant=&#123;BadgeVariant[variant]&#125;&gt;职问&lt;/Badge&gt;</div><div class="line">        &lt;/App&gt;,</div><div class="line">    )</div><div class="line">    .toJSON();</div><div class="line"></div><div class="line">    expect(tree).toMatchSnapshot();</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>配置文件</p>
<ul>
<li><p>.editorconfig 文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line">root = true</div><div class="line"></div><div class="line">[*]</div><div class="line">indent_style = space</div><div class="line">indent_size = 2</div><div class="line">end_of_line = lf</div><div class="line">charset = utf-8</div><div class="line">trim_trailing_whitespace = true</div><div class="line">insert_final_newline = true</div><div class="line"></div><div class="line"># editorconfig-tools is unable to ignore long strings or urls</div><div class="line">max_line_length = null</div></pre></td></tr></table></figure>
</li>
<li><p>.prettierrc 文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">    &quot;singleQuote&quot;: true,</div><div class="line">    &quot;trailingComma&quot;: &quot;all&quot;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>.stylelintrc 文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div><div class="line">192</div><div class="line">193</div><div class="line">194</div><div class="line">195</div><div class="line">196</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">    extends: &apos;stylelint-config-standard&apos;,</div><div class="line">    plugins: [</div><div class="line">        &apos;stylelint-order&apos;,</div><div class="line">    ],</div><div class="line">    rules: &#123;</div><div class="line">        &apos;property-no-unknown&apos;: [</div><div class="line">            true,</div><div class="line">            &#123;</div><div class="line">                ignoreProperties: [</div><div class="line">                &apos;composes&apos;,</div><div class="line">            ],</div><div class="line">            &#125;,</div><div class="line">        ],</div><div class="line">        &apos;selector-pseudo-class-no-unknown&apos;: [</div><div class="line">            true,</div><div class="line">            &#123;</div><div class="line">                ignorePseudoClasses: [</div><div class="line">                    &apos;global&apos;,</div><div class="line">                ],</div><div class="line">            &#125;,</div><div class="line">        ],</div><div class="line">        &apos;string-quotes&apos;: &apos;single&apos;,</div><div class="line">        &apos;order/order&apos;: [</div><div class="line">            &apos;custom-properties&apos;,</div><div class="line">            &apos;dollar-variables&apos;,</div><div class="line">            &apos;declarations&apos;,</div><div class="line">            &apos;at-rules&apos;,</div><div class="line">            &apos;rules&apos;,</div><div class="line">        ],</div><div class="line">        &apos;order/properties-order&apos;: [</div><div class="line">            &apos;composes&apos;,</div><div class="line">            &apos;position&apos;,</div><div class="line">            &apos;top&apos;,</div><div class="line">            &apos;right&apos;,</div><div class="line">            &apos;bottom&apos;,</div><div class="line">            &apos;left&apos;,</div><div class="line">            &apos;z-index&apos;,</div><div class="line">            &apos;display&apos;,</div><div class="line">            &apos;align-content&apos;,</div><div class="line">            &apos;align-items&apos;,</div><div class="line">            &apos;align-self&apos;,</div><div class="line">            &apos;flex&apos;,</div><div class="line">            &apos;flex-basis&apos;,</div><div class="line">            &apos;flex-direction&apos;,</div><div class="line">            &apos;flex-flow&apos;,</div><div class="line">            &apos;flex-grow&apos;,</div><div class="line">            &apos;flex-shrink&apos;,</div><div class="line">            &apos;flex-wrap&apos;,</div><div class="line">            &apos;justify-content&apos;,</div><div class="line">            &apos;order&apos;,</div><div class="line">            &apos;float&apos;,</div><div class="line">            &apos;width&apos;,</div><div class="line">            &apos;height&apos;,</div><div class="line">            &apos;max-width&apos;,</div><div class="line">            &apos;max-height&apos;,</div><div class="line">            &apos;min-width&apos;,</div><div class="line">            &apos;min-height&apos;,</div><div class="line">            &apos;padding&apos;,</div><div class="line">            &apos;padding-top&apos;,</div><div class="line">            &apos;padding-right&apos;,</div><div class="line">            &apos;padding-bottom&apos;,</div><div class="line">            &apos;padding-left&apos;,</div><div class="line">            &apos;margin&apos;,</div><div class="line">            &apos;margin-top&apos;,</div><div class="line">            &apos;margin-right&apos;,</div><div class="line">            &apos;margin-bottom&apos;,</div><div class="line">            &apos;margin-left&apos;,</div><div class="line">            &apos;margin-collapse&apos;,</div><div class="line">            &apos;margin-top-collapse&apos;,</div><div class="line">            &apos;margin-right-collapse&apos;,</div><div class="line">            &apos;margin-bottom-collapse&apos;,</div><div class="line">            &apos;margin-left-collapse&apos;,</div><div class="line">            &apos;overflow&apos;,</div><div class="line">            &apos;overflow-x&apos;,</div><div class="line">            &apos;overflow-y&apos;,</div><div class="line">            &apos;clip&apos;,</div><div class="line">            &apos;clear&apos;,</div><div class="line">            &apos;font&apos;,</div><div class="line">            &apos;font-family&apos;,</div><div class="line">            &apos;font-size&apos;,</div><div class="line">            &apos;font-smoothing&apos;,</div><div class="line">            &apos;osx-font-smoothing&apos;,</div><div class="line">            &apos;font-style&apos;,</div><div class="line">            &apos;font-weight&apos;,</div><div class="line">            &apos;hyphens&apos;,</div><div class="line">            &apos;src&apos;,</div><div class="line">            &apos;line-height&apos;,</div><div class="line">            &apos;letter-spacing&apos;,</div><div class="line">            &apos;word-spacing&apos;,</div><div class="line">            &apos;color&apos;,</div><div class="line">            &apos;text-align&apos;,</div><div class="line">            &apos;text-decoration&apos;,</div><div class="line">            &apos;text-indent&apos;,</div><div class="line">            &apos;text-overflow&apos;,</div><div class="line">            &apos;text-rendering&apos;,</div><div class="line">            &apos;text-size-adjust&apos;,</div><div class="line">            &apos;text-shadow&apos;,</div><div class="line">            &apos;text-transform&apos;,</div><div class="line">            &apos;word-break&apos;,</div><div class="line">            &apos;word-wrap&apos;,</div><div class="line">            &apos;white-space&apos;,</div><div class="line">            &apos;vertical-align&apos;,</div><div class="line">            &apos;list-style&apos;,</div><div class="line">            &apos;list-style-type&apos;,</div><div class="line">            &apos;list-style-position&apos;,</div><div class="line">            &apos;list-style-image&apos;,</div><div class="line">            &apos;pointer-events&apos;,</div><div class="line">            &apos;cursor&apos;,</div><div class="line">            &apos;background&apos;,</div><div class="line">            &apos;background-attachment&apos;,</div><div class="line">            &apos;background-color&apos;,</div><div class="line">            &apos;background-image&apos;,</div><div class="line">            &apos;background-position&apos;,</div><div class="line">            &apos;background-repeat&apos;,</div><div class="line">            &apos;background-size&apos;,</div><div class="line">            &apos;border&apos;,</div><div class="line">            &apos;border-collapse&apos;,</div><div class="line">            &apos;border-top&apos;,</div><div class="line">            &apos;border-right&apos;,</div><div class="line">            &apos;border-bottom&apos;,</div><div class="line">            &apos;border-left&apos;,</div><div class="line">            &apos;border-color&apos;,</div><div class="line">            &apos;border-image&apos;,</div><div class="line">            &apos;border-top-color&apos;,</div><div class="line">            &apos;border-right-color&apos;,</div><div class="line">            &apos;border-bottom-color&apos;,</div><div class="line">            &apos;border-left-color&apos;,</div><div class="line">            &apos;border-spacing&apos;,</div><div class="line">            &apos;border-style&apos;,</div><div class="line">            &apos;border-top-style&apos;,</div><div class="line">            &apos;border-right-style&apos;,</div><div class="line">            &apos;border-bottom-style&apos;,</div><div class="line">            &apos;border-left-style&apos;,</div><div class="line">            &apos;border-width&apos;,</div><div class="line">            &apos;border-top-width&apos;,</div><div class="line">            &apos;border-right-width&apos;,</div><div class="line">            &apos;border-bottom-width&apos;,</div><div class="line">            &apos;border-left-width&apos;,</div><div class="line">            &apos;border-radius&apos;,</div><div class="line">            &apos;border-top-right-radius&apos;,</div><div class="line">            &apos;border-bottom-right-radius&apos;,</div><div class="line">            &apos;border-bottom-left-radius&apos;,</div><div class="line">            &apos;border-top-left-radius&apos;,</div><div class="line">            &apos;border-radius-topright&apos;,</div><div class="line">            &apos;border-radius-bottomright&apos;,</div><div class="line">            &apos;border-radius-bottomleft&apos;,</div><div class="line">            &apos;border-radius-topleft&apos;,</div><div class="line">            &apos;content&apos;,</div><div class="line">            &apos;quotes&apos;,</div><div class="line">            &apos;outline&apos;,</div><div class="line">            &apos;outline-offset&apos;,</div><div class="line">            &apos;outline-width&apos;,</div><div class="line">            &apos;outline-style&apos;,</div><div class="line">            &apos;outline-color&apos;,</div><div class="line">            &apos;opacity&apos;,</div><div class="line">            &apos;filter&apos;,</div><div class="line">            &apos;visibility&apos;,</div><div class="line">            &apos;size&apos;,</div><div class="line">            &apos;zoom&apos;,</div><div class="line">            &apos;transform&apos;,</div><div class="line">            &apos;box-align&apos;,</div><div class="line">            &apos;box-flex&apos;,</div><div class="line">            &apos;box-orient&apos;,</div><div class="line">            &apos;box-pack&apos;,</div><div class="line">            &apos;box-shadow&apos;,</div><div class="line">            &apos;box-sizing&apos;,</div><div class="line">            &apos;table-layout&apos;,</div><div class="line">            &apos;animation&apos;,</div><div class="line">            &apos;animation-delay&apos;,</div><div class="line">            &apos;animation-duration&apos;,</div><div class="line">            &apos;animation-iteration-count&apos;,</div><div class="line">            &apos;animation-name&apos;,</div><div class="line">            &apos;animation-play-state&apos;,</div><div class="line">            &apos;animation-timing-function&apos;,</div><div class="line">            &apos;animation-fill-mode&apos;,</div><div class="line">            &apos;transition&apos;,</div><div class="line">            &apos;transition-delay&apos;,</div><div class="line">            &apos;transition-duration&apos;,</div><div class="line">            &apos;transition-property&apos;,</div><div class="line">            &apos;transition-timing-function&apos;,</div><div class="line">            &apos;background-clip&apos;,</div><div class="line">            &apos;backface-visibility&apos;,</div><div class="line">            &apos;resize&apos;,</div><div class="line">            &apos;appearance&apos;,</div><div class="line">            &apos;user-select&apos;,</div><div class="line">            &apos;interpolation-mode&apos;,</div><div class="line">            &apos;direction&apos;,</div><div class="line">            &apos;marks&apos;,</div><div class="line">            &apos;page&apos;,</div><div class="line">            &apos;set-link-source&apos;,</div><div class="line">            &apos;unicode-bidi&apos;,</div><div class="line">            &apos;speak&apos;,</div><div class="line">        ],</div><div class="line">    &#125;,</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>tslint.json 文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">   &#123;</div><div class="line">        &quot;extends&quot;: [&quot;tslint:latest&quot;, &quot;tslint-config-prettier&quot;, &quot;tslint-react&quot;],</div><div class="line">        &quot;rules&quot;: &#123;</div><div class="line">            &quot;interface-name&quot;: [true, &quot;never-prefix&quot;],</div><div class="line">            &quot;no-submodule-imports&quot;: false,</div><div class="line">            &quot;jsx-boolean-value&quot;: false,</div><div class="line">            &quot;jsx-no-multiline-js&quot;: false,</div><div class="line">            &quot;jsx-wrap-multiline&quot;: false,</div><div class="line">            &quot;class-name&quot;: true,</div><div class="line">            &quot;comment-format&quot;: [true, &quot;check-space&quot;],</div><div class="line">            &quot;curly&quot;: true,</div><div class="line">            &quot;indent&quot;: [true, &quot;spaces&quot;],</div><div class="line">            &quot;one-line&quot;: [true, &quot;check-open-brace&quot;, &quot;check-whitespace&quot;],</div><div class="line">            &quot;no-var-keyword&quot;: true,</div><div class="line">            &quot;quotemark&quot;: [true, &quot;single&quot;, &quot;avoid-escape&quot;, &quot;jsx-double&quot;],</div><div class="line">            &quot;semicolon&quot;: [true, &quot;always&quot;, &quot;ignore-bound-class-methods&quot;],</div><div class="line">            &quot;whitespace&quot;: [</div><div class="line">                true,</div><div class="line">                &quot;check-branch&quot;,</div><div class="line">                &quot;check-decl&quot;,</div><div class="line">                &quot;check-operator&quot;,</div><div class="line">                &quot;check-module&quot;,</div><div class="line">                &quot;check-separator&quot;,</div><div class="line">                &quot;check-type&quot;</div><div class="line">            ],</div><div class="line">            &quot;typedef-whitespace&quot;: [</div><div class="line">            true,</div><div class="line">            &#123;</div><div class="line">                &quot;call-signature&quot;: &quot;nospace&quot;,</div><div class="line">                &quot;index-signature&quot;: &quot;nospace&quot;,</div><div class="line">                &quot;parameter&quot;: &quot;nospace&quot;,</div><div class="line">                &quot;property-declaration&quot;: &quot;nospace&quot;,</div><div class="line">                &quot;variable-declaration&quot;: &quot;nospace&quot;</div><div class="line">            &#125;,</div><div class="line">            &#123;</div><div class="line">                &quot;call-signature&quot;: &quot;onespace&quot;,</div><div class="line">                &quot;index-signature&quot;: &quot;onespace&quot;,</div><div class="line">                &quot;parameter&quot;: &quot;onespace&quot;,</div><div class="line">                &quot;property-declaration&quot;: &quot;onespace&quot;,</div><div class="line">                &quot;variable-declaration&quot;: &quot;onespace&quot;</div><div class="line">            &#125;</div><div class="line">            ],</div><div class="line">            &quot;no-internal-module&quot;: true,</div><div class="line">            &quot;no-trailing-whitespace&quot;: true,</div><div class="line">            &quot;no-null-keyword&quot;: true,</div><div class="line">            &quot;prefer-const&quot;: true,</div><div class="line">            &quot;jsdoc-format&quot;: true,</div><div class="line">            &quot;object-literal-sort-keys&quot;: false</div><div class="line">        &#125;</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>tsConfig.json 文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">    &quot;compilerOptions&quot;: &#123;</div><div class="line">        &quot;outDir&quot;: &quot;build/dist&quot;,</div><div class="line">        &quot;module&quot;: &quot;esnext&quot;,</div><div class="line">        &quot;target&quot;: &quot;es5&quot;,</div><div class="line">        &quot;lib&quot;: [&quot;es7&quot;, &quot;dom&quot;],</div><div class="line">        &quot;sourceMap&quot;: true,</div><div class="line">        &quot;allowJs&quot;: true,</div><div class="line">        &quot;jsx&quot;: &quot;react&quot;,</div><div class="line">        &quot;moduleResolution&quot;: &quot;node&quot;,</div><div class="line">        &quot;rootDirs&quot;: [&quot;src&quot;, &quot;config&quot;],</div><div class="line">        &quot;forceConsistentCasingInFileNames&quot;: true,</div><div class="line">        &quot;noImplicitReturns&quot;: true,</div><div class="line">        &quot;noImplicitThis&quot;: true,</div><div class="line">        &quot;noImplicitAny&quot;: true,</div><div class="line">        &quot;strictNullChecks&quot;: true,</div><div class="line">        &quot;suppressImplicitAnyIndexErrors&quot;: true,</div><div class="line">        &quot;noUnusedLocals&quot;: true</div><div class="line">    &#125;,</div><div class="line">    &quot;exclude&quot;: [</div><div class="line">        &quot;node_modules&quot;,</div><div class="line">        &quot;build&quot;,</div><div class="line">        &quot;scripts&quot;,</div><div class="line">        &quot;acceptance-tests&quot;,</div><div class="line">        &quot;webpack&quot;,</div><div class="line">        &quot;jest&quot;,</div><div class="line">        &quot;src/setupTests.ts&quot;</div><div class="line">    ]</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
<li><p>package.json 文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div></pre></td><td class="code"><pre><div class="line">&#123;</div><div class="line">    ...</div><div class="line">    &quot;lint-staged&quot;: &#123;</div><div class="line">        &quot;*.&#123;json,md,graphql&#125;&quot;: [</div><div class="line">            &quot;prettier --write&quot;,</div><div class="line">            &quot;git add&quot;</div><div class="line">        ],</div><div class="line">        &quot;*.&#123;ts,tsx&#125;&quot;: [</div><div class="line">            &quot;prettier --write&quot;,</div><div class="line">            &quot;tslint --fix&quot;,</div><div class="line">            &quot;git add&quot;</div><div class="line">        ],</div><div class="line">        &quot;*.&#123;css,less,scss,sass,sss&#125;&quot;: [</div><div class="line">            &quot;prettier --write&quot;,</div><div class="line">            &quot;stylelint --fix&quot;,</div><div class="line">            &quot;git add&quot;</div><div class="line">        ]</div><div class="line">    &#125;,</div><div class="line">    &quot;scripts&quot;: &#123;</div><div class="line">        &quot;precommit&quot;: &quot;lint-staged&quot;,</div><div class="line">        &quot;lint&quot;: &quot;yarn run lint-ts &amp;&amp; yarn run lint-css&quot;,</div><div class="line">        &quot;fix&quot;: &quot;yarn run fix-ts &amp;&amp; yarn run fix-css&quot;,</div><div class="line">        &quot;lint-ts&quot;: &quot;tslint &apos;src/**/*.&#123;ts,tsx&#125;&apos;&quot;,</div><div class="line">        &quot;fix-ts&quot;: &quot;tslint --fix &apos;src/**/*.&#123;ts,tsx&#125;&apos;&quot;,</div><div class="line">        &quot;lint-css&quot;: &quot;stylelint &apos;src/**/*.&#123;css,less,scss,sass,sss&#125;&apos;&quot;,</div><div class="line">        &quot;fix-css&quot;: &quot;stylelint --fix &apos;src/**/*.&#123;css,less,scss,sass,sss&#125;&apos;&quot;,</div><div class="line">        ...</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>jest.config.js 文件</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">module.exports = &#123;</div><div class="line">    automock: false,</div><div class="line">    browser: false,</div><div class="line">    bail: false,</div><div class="line">    collectCoverageFrom: [</div><div class="line">        &apos;src/**/*.&#123;ts,tsx&#125;&apos;,</div><div class="line">        &apos;!**/node_modules/**&apos;,</div><div class="line">        &apos;!**/vendor/**&apos;,</div><div class="line">    ],</div><div class="line">    coverageDirectory: &apos;&lt;rootDir&gt;/coverage&apos;,</div><div class="line">    globals: &#123;</div><div class="line">        __DEV__: true,</div><div class="line">    &#125;,</div><div class="line">    moduleFileExtensions: [&apos;ts&apos;, &apos;tsx&apos;, &apos;js&apos;, &apos;jsx&apos;, &apos;json&apos;, &apos;node&apos;],</div><div class="line">    moduleNameMapper: &#123;</div><div class="line">        &apos;\\.(css|less|scss|sss)$&apos;: &apos;identity-obj-proxy&apos;,</div><div class="line">        &apos;\\.(jpg|jpeg|png|gif|eot|otf|webp|svg|ttf|woff|woff2|mp4|webm|wav|mp3|m4a|aac|oga)$&apos;:</div><div class="line">        &apos;GlobalImageStub&apos;,</div><div class="line">    &#125;,</div><div class="line">    transform: &#123;</div><div class="line">        &apos;^.+\\.tsx?$&apos;: &apos;ts-jest&apos;,</div><div class="line">    &#125;,</div><div class="line">    testRegex: &apos;(/__tests__/.*|(\\.|/)(test|spec))\\.(jsx?|tsx?)$&apos;,</div><div class="line">    verbose: true,</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
</li>
</ul>
</li>
<li><p>持续集成 CI</p>
<ul>
<li>参考 <a href="https://circleci.com" target="_blank" rel="external">CircleCi</a></li>
<li>登录 CircleCi，进入 Projects，Add Project，找到项目，Follow Project，Builds 中运行</li>
<li>登录 GitHub，github setting branches，require status check，ci/circleci</li>
<li>项目中配置 .circleci/config.yml 文件如下</li>
<li><p>CI 中需配置环境变量</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line">version: 2</div><div class="line">jobs:</div><div class="line">build:</div><div class="line">    working_directory: ~/repo</div><div class="line">    docker:</div><div class="line">    - image: circleci/node:latest</div><div class="line">    steps:</div><div class="line">    - checkout</div><div class="line">    - restore_cache:</div><div class="line">        keys:</div><div class="line">        - v1-dependencies-&#123;&#123; checksum &quot;package.json&quot; &#125;&#125;</div><div class="line">        - v1-dependencies-</div><div class="line">    - run: yarn install</div><div class="line">    - save_cache:</div><div class="line">        paths:</div><div class="line">            - node_modules</div><div class="line">        key: v1-dependencies-&#123;&#123; checksum &quot;package.json&quot; &#125;&#125;</div><div class="line">    - run: yarn run lint</div><div class="line">    - run: yarn run test</div><div class="line">    - run:</div><div class="line">        name: yarn build</div><div class="line">        command: |</div><div class="line">            if [ &quot;$CIRCLE_BRANCH&quot; != &quot;develop&quot; ] &amp;&amp; [ &quot;$CIRCLE_BRANCH&quot; != &quot;master&quot; ]; then</div><div class="line">            yarn build;</div><div class="line">            fi</div><div class="line">    - store_artifacts:</div><div class="line">        path: build</div><div class="line">        destination: build</div><div class="line">    - store_test_results:</div><div class="line">        path: coverage</div></pre></td></tr></table></figure>
<p>在运行测试时 <code>yarn test</code> 命令有时会带参数 <code>yarn test --maxWorkers 2</code>，<a href="https://facebook.github.io/jest/docs/zh-Hans/cli.html" target="_blank" rel="external">Jest 官方文档</a>描述如下：</p>
<blockquote>
<p>设定测试会使用的最大 worker 数目。 默认会使用你的计算机上可用的内核的数量。 在类似 CI 等有资源限制的环境下需要进行相关调整时很有用。但多数场景都应该使用默认值。</p>
</blockquote>
</li>
</ul>
</li>
</ul>
<p>注意：<a href="https://www.typescriptlang.org/docs/handbook/release-notes/typescript-2-7.html" target="_blank" rel="external">TypeScript 2.7</a> 支持 <code>import React from &#39;react&#39;</code> 的方式，需要在 ts.config 中配置 <code>&quot;module&quot;: &quot;commonjs&quot;</code> <code>&quot;esModuleInterop&quot;: true</code>。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2018/05/04/git-base2/" itemprop="url">
                  Git-基础2
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2018-05-04T07:08:45+08:00" content="2018-05-04">
              2018-05-04
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Git/" itemprop="url" rel="index">
                    <span itemprop="name">Git</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="git-diff"><a href="#git-diff" class="headerlink" title="git diff"></a>git diff</h2><p>工作区：就是你在电脑里能看到的目录<br>暂存区：git add 是把文件到暂存区<br>本地仓库：工作区有一个隐藏目录 .git，这个不算工作区，而是 Git 的版本库</p>
<p>git diff 进行对比时不会对比新创建的文件。</p>
<p><code>git diff branchName</code> 比较当前分支与 branchName 分支<br><code>git diff branchName1 branchName2</code> 比较 branchName1 分支与 branchName2 分支<br><code>git diff develop origin/develop</code>  比较本地 develop 分支和远程 develop 分支的差别<br><code>git diff --staged</code>  比较暂存区与 HEAD<br><code>git diff HEAD</code> 比较工作区与 HEAD<br><code>git diff</code> 比较工作区与暂存区</p>
<h2 id="git-commit"><a href="#git-commit" class="headerlink" title="git commit"></a>git commit</h2><ul>
<li><p><code>git commit</code>  提交所有添加到索引库中、或从索引库删除的文件<br>输入 i 进入编辑状态，第一行添加的内容作为 summary 描述, 隔一个空行，再添加的内容作为 description 描述，按 esc 退出编辑状态，输入 shift + :，输入 wq，保存并提交。</p>
</li>
<li><p><code>git commit -m &quot;summary 描述&quot;</code>  提交所有添加到索引库中、或从索引库删除的文件<br>简化版提交命令，-m 添加 summary 描述，不能添加 description 描述。</p>
</li>
<li><p><code>git commit -a</code>  提交所有已在索引库中发生了修改的文件，新添加的文件不会被提交<br>输入 i 进入编辑状态，第一行添加的内容作为 summary 描述, 隔一个空行，再添加的内容作为 description 描述，按 esc 退出编辑状态，输入 shift + :，输入 wq，保存并提交。</p>
</li>
<li><p><code>git commit --amend</code>  产生一个新的提交用来替换掉当前指向的这个提交<br>输入 i 进入编辑状态，第一行添加的内容作为 summary 描述, 隔一个空行，再添加的内容作为 description 描述，按 esc 退出编辑状态，输入 shift + :，输入 wq，保存并提交。</p>
</li>
<li><p><code>git commit --fixup [commitId]</code>  提交所有添加到索引库中、或从索引库删除的文件<br>提交一个新的 commit，summary 为指定 commitId 的 summary 添加了 “fixup!” 前缀。在执行 <code>rebase --autosquash</code> 命令时针对该次 commit 的操作默认为 fixup，本次提交信息会被清除，不会进入编辑提交信息的状态。</p>
</li>
<li><p><code>git commit --squash [commitId]</code>  提交所有添加到索引库中、或从索引库删除的文件<br>提交一个新的 commit，summary 为指定 commitId 的 summary 添加了 squash!” 前缀。在执行 <code>rebase --autosquash</code> 命令时针对该次 commit 的操作默认为 squash，会进入编辑提交信息的状态。</p>
</li>
</ul>
<h2 id="git-rebase"><a href="#git-rebase" class="headerlink" title="git rebase"></a>git rebase</h2><p>类似于 git merge，将指定分支合并到当前分支。区别是 git merge 会创建一次新的提交记录，git rebase 不会，它会把当前分支里的每个提交取消掉，并且把它们临时保存为补丁(这些补丁放到”.git/rebase”目录中)，然后把当前分支更新为最新的指定分支，最后再把保存的这些补丁应用到当前分支上，<strong>形成一个线性的历史记录</strong>。</p>
<p>“-i” 是指交互模式，就是说你可以干预 rebase 这个事务的过程，包括设置 commit message，删除 commit 等等。<br>“–autosquash” 是自动合并 commit 的参数。</p>
<p><code>git rebase -i --autosquash [branchName]</code> 当前在特性分支上执行，合并 branchName 分支到当前分支</p>
<p><code>git rebase -i --autosquash [branchName] [feature]</code> 无需在特性分支上执行</p>
<p><code>git rebase --abort</code> 终止 rebase 的行动，回到 rebase 前的状态</p>
<p>特性分支合并了最新的主分支后，原有的 commit 是逐个应用到当前分支的，当正常执行的 commit 与已有代码发生冲突时，需执行下面三部，直到 rebase 成功。</p>
<p>① 解决冲突</p>
<p>② <code>git add .</code></p>
<p>③ <code>git rebase --continue</code></p>
<p>变基操作会改变提交历史，如果分支已经推送到远程分支，需要使用 <code>git push --force</code> 强制推送到远程。如果有其它人跟你一起在该分支上协同开发，需使用破坏性没那么强的 <code>--force-with-lease</code> 参数，如果远程有其它人推送了新的提交，那么推送将被拒绝。在使用 <code>git push --force-with-lease</code> 命令被拒绝时，需要 fetch 仓库，然后确认其它人是否对此分支有新的修改，如果没有你才可以继续强制推送。</p>
<h2 id="git-hooks"><a href="#git-hooks" class="headerlink" title="git hooks"></a>git hooks</h2><ul>
<li><code>pre-commit</code> 在键入提交信息前运行，被用来检查即将提交的快照，当从该挂钩返回非零值时，Git 放弃此次提交，但可以用 git commit –no-verify 来忽略</li>
<li><code>prepare-commit-msg</code> 在提交信息编辑器显示之前，默认信息被创建之后运行，该挂钩对通常的提交来说不是很有用，只在自动产生默认提交信息的情况下有作用，如提交信息模板、合并、压缩和修订提交等</li>
<li><code>commit-msg</code> 接收一个参数，此参数是包含最近提交信息的临时文件的路径，如果该挂钩脚本以非零退出，Git 放弃提交，可以用来在提交通过前验证项目状态或提交信息</li>
<li><code>post-commit</code> 挂钩在整个提交过程完成后运行，作为通知之类使用的</li>
<li><code>pre-rebase</code> 在衍合前运行，脚本以非零退出可以中止衍合的过程，可以使用这个挂钩来禁止衍合已经推送的提交对象</li>
<li><code>post-rewrite</code> 被那些会替换提交记录的命令调用，如 git commit –amend 和 git rebase</li>
<li><code>post-checkout</code> git checkout 成功运行后，该挂钩会被调用，可以用来为你的项目环境设置合适的工作目录</li>
<li><code>post-merge</code> 在merge命令成功执行后，该挂钩会被调用，可以用来在 Git 无法跟踪的工作树中恢复数据</li>
<li><code>pre-push</code> 会在 git push 运行期间，更新了远程引用但尚未传送对象时被调用，可以在推送开始之前，用它验证对引用的更新操作</li>
</ul>
<p><code>cd .git/hooks</code> 可查看 git 所有 hooks</p>
<h2 id="git-fork-机制"><a href="#git-fork-机制" class="headerlink" title="git fork 机制"></a>git fork 机制</h2><p>使用场景：如果想要修改他人 github 的项目，直接 clone 代码到本地是不能 pull 或 push 的，所以要使用 fork，先把他人代码 fork 到自己的 github 仓库，然后 clone 到本地修改，然后再提交到自己 github 仓库，这时候想要把修改的代码提交给他人的话，就可以在自己的 github 上提交 pull request，等其他人看到后就可以把代码做一个合并。当他人的代码有更新的时候，也可以将更新同步到自己的 github 仓库。</p>
<h4 id="github-的-fork"><a href="#github-的-fork" class="headerlink" title="github 的 fork"></a>github 的 fork</h4><p>在 github 上，fork 一个项目，如 lodash，如果远程有更新，红框内会有提示，点击 Pull request，base fork 选则本地仓库，head fork 选则 lodash 仓库，可将 lodash 的更新通过一个 pull request 合并到自己的仓库中。也可以通过交换 base fork 和 head fork 提交一个 pull request 到 lodash 仓库。</p>
<img src="/2018/05/04/git-base2/fork-1.png" title="fork 一个项目">
<img src="/2018/05/04/git-base2/fork-2.png" title="提交 pull request">
<img src="/2018/05/04/git-base2/fork-3.png" title="git remote -v">
<h4 id="git-命令"><a href="#git-命令" class="headerlink" title="git 命令"></a>git 命令</h4><p>在 github 创建一个仓库命名为 local-lodash 后，执行下面操作：<br><code>git clone https://github.com/lodash/lodash.git local-lodash</code> 克隆远程 lodash 仓库到本地<br><code>git remote remove origin</code> 删除远程仓库地址<br><code>git remote add origin https://github.com/zhulichao/local-lodash.git</code> 添加自己的远程仓库地址<br><code>git remote add upstream https://github.com/lodash/lodash.git</code> 添加上游远程仓库地址<br><code>git push -u origin master</code> 初次提交到自己的远程仓库<br><code>git pull upstream master</code> 同步上游仓库 lodash 的更新<br><code>git push origin</code> 提交到自己的远程仓库<br><code>git remote -v</code>  查看远程仓库地址，pull 和 push 可以是两个不同的地址</p>
<img src="/2018/05/04/git-base2/fork-4.png" title="git remote -v">
<p>这种方式与在 github 上执行 fork 还是有区别的，如图所示，没有上面图片中红框中的内容，在 github 上是无法通过 pull request 同步远程 lodash 更新的，当然也不能提交 pull request 到远程 lodash，只能通过上面的命令 <code>git pull upstream master</code> 同步远程 lodash 的更新。如果你恰好也是远程 lodash 的贡献者，也可以通过 <code>git push upstream master</code> 直接提交 commit 到 远程 lodash。</p>
<img src="/2018/05/04/git-base2/fork-5.png" title="github 上查看">
<img src="/2018/05/04/git-base2/fork-6.png" title="提交 pull request">
<h2 id="git-分支"><a href="#git-分支" class="headerlink" title="git 分支"></a>git 分支</h2><p>删除所有已经不在远程仓库维护的分支<br><code>git fetch -p &amp;&amp; for branch in</code>git branch -vv | grep ‘: gone]’ | awk ‘{print $1}’<code>; do git branch -D $branch; done</code></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2018/04/07/lean-startup/" itemprop="url">
                  《精益创业》笔记（未完成）
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2018-04-07T00:10:11+08:00" content="2018-04-07">
              2018-04-07
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Reading-Notes/" itemprop="url" rel="index">
                    <span itemprop="name">Reading Notes</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2018/03/16/statistics-base/" itemprop="url">
                  统计基础
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2018-03-16T23:34:34+08:00" content="2018-03-16">
              2018-03-16
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Statistics/" itemprop="url" rel="index">
                    <span itemprop="name">Statistics</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="基础概念"><a href="#基础概念" class="headerlink" title="基础概念"></a>基础概念</h2><p>数据集是由数据组成的集合，数据质量越好价值也越高。<br>统计能够帮助我们：量化不确定性（quantify uncertainty）、辨别偏见（discern biases）。<br>需要考虑数据是哪里来的、是如何计算的，需要辨别哪些数据好、哪些数据不好，这些数据是做出决定的正确数据吗。<br>一手数据是自己从自然环境或实验中调查收集到的；二手数据就是现成的数据，从别人手里拿到的数据。<br>整理后的数据能够提供服务和方便、帮助做决定、有说服力、节省时间和金钱。</p>
<h2 id="数据的中心-The-Center-of-the-Data"><a href="#数据的中心-The-Center-of-the-Data" class="headerlink" title="数据的中心(The Center of the Data)"></a>数据的中心(The Center of the Data)</h2><h3 id="平均值-Mean-Average"><a href="#平均值-Mean-Average" class="headerlink" title="平均值(Mean/Average)"></a>平均值(Mean/Average)</h3><p>数据的总和除以数据的个数。</p>
<img src="/2018/03/16/statistics-base/mean.png" title="平均值">
<h3 id="中位数-Median"><a href="#中位数-Median" class="headerlink" title="中位数(Median)"></a>中位数(Median)</h3><p>有相同数量的高于该点的数据和低于该点的数据，如果数据的个数是偶数个，Median 是中间两个数的平均值。</p>
<h3 id="加权平均数-Weighted-Mean"><a href="#加权平均数-Weighted-Mean" class="headerlink" title="加权平均数(Weighted Mean)"></a>加权平均数(Weighted Mean)</h3><p>将各数值乘以相应的权重，然后求和得到总体值，再除以总的权重和。<br>场景：课程总分由多部分构成，考试成绩、出勤情况、完成练习程度</p>
<img src="/2018/03/16/statistics-base/weighted_mean.png" title="加权平均数">
<h3 id="众数-Mode"><a href="#众数-Mode" class="headerlink" title="众数(Mode)"></a>众数(Mode)</h3><p>一组数据中出现最多的那个数，表示最有可能出现的数。</p>
<h2 id="数据的变化性-Data-Variability"><a href="#数据的变化性-Data-Variability" class="headerlink" title="数据的变化性(Data Variability)"></a>数据的变化性(Data Variability)</h2><h3 id="极差-范围误差-全距-Range"><a href="#极差-范围误差-全距-Range" class="headerlink" title="极差/范围误差/全距(Range)"></a>极差/范围误差/全距(Range)</h3><p>数据集中最大值与最小值的差。</p>
<h3 id="标准差-均方差-Standard-Deviation"><a href="#标准差-均方差-Standard-Deviation" class="headerlink" title="标准差/均方差(Standard Deviation)"></a>标准差/均方差(Standard Deviation)</h3><p>标准差是离均值平方的算术平均数的平方根。标准差能反映一个数据集的离散程度，一个较大的标准差，代表大部分数值和其平均值之间差异较大；一个较小的标准差，代表这些数值较接近平均值。方差是标准差的平方。</p>
<img src="/2018/03/16/statistics-base/standard.png" title="标准差">
<h3 id="离群值-Outlier"><a href="#离群值-Outlier" class="headerlink" title="离群值(Outlier)"></a>离群值(Outlier)</h3><p>离群点是指一个数据集中，远离序列的一般水平的极端大值和极端小值。可通过表格和图标、标准差、z分数可以帮助我们识别离群点。</p>
<p>离群点没有明确的定义，离群点可以被认为是机会，它们是新趋势的开端。关于离群点，需要考虑这是一个真的离群点吗，它是怎么产生的，其中能学到什么，需要改进什么。</p>
<h2 id="分布和相对位置-Distribution-and-Relative-Position"><a href="#分布和相对位置-Distribution-and-Relative-Position" class="headerlink" title="分布和相对位置(Distribution and Relative Position)"></a>分布和相对位置(Distribution and Relative Position)</h2><h3 id="标准分数-z分数-Z-Score"><a href="#标准分数-z分数-Z-Score" class="headerlink" title="标准分数/z分数(Z-Score)"></a>标准分数/z分数(Z-Score)</h3><p>z分数是以标准差为单位度量原始分数离开平均数多少个标准差，正数表示大于平均数，负数表示小于平均数。</p>
<img src="/2018/03/16/statistics-base/z_score.png" title="z分数">
<h3 id="经验规则-Empirical-Rule-Three-Sigma-Rule"><a href="#经验规则-Empirical-Rule-Three-Sigma-Rule" class="headerlink" title="经验规则(Empirical Rule/Three Sigma Rule)"></a>经验规则(Empirical Rule/Three Sigma Rule)</h3><p>这里的 Sigma 代表标准差，作用于对称分布，对称分布通常用一个以均值为中心的钟形曲线。</p>
<p>经验规则是统计规律，指出了在正态分布，几乎所有数据都将落在均值的三倍标准差内。经验规则表明，68%的数据将分布在距离均值的一个标准差之内，95%的数据将分布在距离均值的两个标准差之内，99.7%的数据将分布在均值的三个标准偏差之内。</p>
<p>经验法则最常在统计中用于预测最后结果。在得到数据的标准差，并在可以收集确切的数据之前，该规则可作为一个对即将到来的数据的结果的粗略估计。该概率特别适用与一些需要消耗大量时间去收集的数据，或者甚至是不可能获得的数据。</p>
<img src="/2018/03/16/statistics-base/empirical.png" title="经验规则">
<h3 id="百分位数-Percentile-Rank"><a href="#百分位数-Percentile-Rank" class="headerlink" title="百分位数(Percentile Rank)"></a>百分位数(Percentile Rank)</h3><p>将一组数据从小到大排序，并计算相应的累计百分位，则某一百分位所对应数据的值就称为这一百分位的百分位数，可表示为：一组n个观测值按数值大小排列，如处于p%位置的值称第p百分位数，中位数是第50百分位数。第100百分位数是不可能的，因为那就是说你是班级中的前0%，既可以说你是班级的前1%，也可以说你是第99百分位数。</p>
<img src="/2018/03/16/statistics-base/percentile.png" title="百分位数">
<h2 id="概率-Probability"><a href="#概率-Probability" class="headerlink" title="概率(Probability)"></a>概率(Probability)</h2><p>概率是事件发生的可能性，样本空间所有可能结果的概率之和一定是100%，概率分为客观概率和主观概率。客观概率是基于计算的，又分为：古典概率/事前概率，所有可能是已知的，并且出现概率相同，如投币；经验概率，特定的事件发生的次数占总体实验样本的比率，如估算任意一年的二月份中最低的日最高温度低于零度的概率，罚球命中率。主观概率没办法计算，无法重复，建立在过去的经验与判断的基础上，根据对未来事态发展的预测和历史统计资料的研究确定的概率，如解雇率。</p>
<h2 id="多事件概率-Multiple-Event-Probability"><a href="#多事件概率-Multiple-Event-Probability" class="headerlink" title="多事件概率(Multiple Event Probability)"></a>多事件概率(Multiple Event Probability)</h2><p>事件1/事件2出现的概率 = 事件1出现的概率 + 事件2出现的概率 - 事件1和事件2共同出现的概率。<br>条件概率，事件1已经发生的情况下，事件2出现的概率。两个事件 A 和 B 是独立的当且仅当 Pr(A∩B) = Pr(A)Pr(B)。</p>
<p>贝叶斯定理(Bayes theorem)<br><img src="/2018/03/16/statistics-base/theorem.png" title="贝叶斯公式"></p>
<h2 id="贝叶斯经典问题"><a href="#贝叶斯经典问题" class="headerlink" title="贝叶斯经典问题"></a>贝叶斯经典问题</h2><p>Monty Hall problem: 出自美国的电视游戏节 Let’s Make a Deal。问题名字来自该节目的主持人蒙提·霍尔(Monty Hall)。参赛者会看见三扇关闭的门，其中一扇的后面有辆汽车，选中后面有车的那扇门可赢得该汽车，另外两扇门后面则各藏有一只山羊。当参赛者选定了一扇门，但未去开启它的时候，节目主持人开启剩下两扇门的其中一扇，露出其中一只山羊。主持人其后会问参赛者要不要换另一扇仍然关上的门。问题是:换另一扇门参赛者可以赢得汽车的概率是多少?</p>
<p>答案：简单的想选择当前门赢汽车的概率是1/3，选择另外两扇门赢汽车的概率是2/3，其中一扇已经打开了，换成另一个门赢汽车的概率就是2/3了。<br><img src="/2018/03/16/statistics-base/question1.png" title="计算方式"></p>
<p>毒品检测问题。已知一家公司 0.5% 的员工吸毒。现在引入一个毒品检测的方式，对吸毒者检测为阳性的概率是 99%，非吸毒者检测出阳性的概率是 1%。已知一个公司的员工被检测出阳性，那么他吸毒的概率是多少?</p>
<p>答案：使用贝叶斯公式<br><img src="/2018/03/16/statistics-base/question2.png" title="计算方式"></p>
<h2 id="事物是如何排列的-How-Objects-Are-Arranged"><a href="#事物是如何排列的-How-Objects-Are-Arranged" class="headerlink" title="事物是如何排列的(How Objects Are Arranged)"></a>事物是如何排列的(How Objects Are Arranged)</h2><h3 id="排列-Permutation"><a href="#排列-Permutation" class="headerlink" title="排列(Permutation)"></a>排列(Permutation)</h3><p>总数为n，有序的排列，有多少可能 = n!<br>总数为n，选出有序的x个，有多少可能 = n! / (n - x)!</p>
<h3 id="组合-Combination"><a href="#组合-Combination" class="headerlink" title="组合(Combination)"></a>组合(Combination)</h3><p>总数为n，选出无序的x个，有多少可能 = n! / [(n - x)! * x!]</p>
<h2 id="离散与连续-Discrete-VS-Continuous"><a href="#离散与连续-Discrete-VS-Continuous" class="headerlink" title="离散与连续(Discrete VS. Continuous)"></a>离散与连续(Discrete VS. Continuous)</h2><p>实验最终出现的结果是未知的、随机的，因此实验的结果叫做随机变量。随机变量表示随机试验各种结果的实值单值函数，随机事件不论与数量是否直接有关，都可以数量化，即都能用数量化的方式表达。离散指的是有限多种可能性，自然数或整数计算。连续指的是有无限多种可能性，是某个区间内的任一实数。因为连续随机变量的取值有无限多种可能，因此需要使用一种替代的方式来计算这种类型的概率。</p>
<h2 id="离散概率分布-Discrete-Probability-Distributions"><a href="#离散概率分布-Discrete-Probability-Distributions" class="headerlink" title="离散概率分布(Discrete Probability Distributions)"></a>离散概率分布(Discrete Probability Distributions)</h2><img src="/2018/03/16/statistics-base/discrete.png" title="离散型方差">
<h2 id="连续概率分布-Continuous-Probability-Distributions"><a href="#连续概率分布-Continuous-Probability-Distributions" class="headerlink" title="连续概率分布(Continuous Probability Distributions)"></a>连续概率分布(Continuous Probability Distributions)</h2><img src="/2018/03/16/statistics-base/continuous.png" title="连续型方差">
<img src="/2018/03/16/statistics-base/other.png" title="随机变量的期望和方差">
<h3 id="概率密度-Probability-densities"><a href="#概率密度-Probability-densities" class="headerlink" title="概率密度(Probability densities)"></a>概率密度(Probability densities)</h3><p>结果的可能是无限时，用曲线来描述结果的分布，这个曲线被叫做概率密度，曲线下的区域表示每种可能的结果。</p>
<h3 id="钟形曲线-Bell-shaped-curve"><a href="#钟形曲线-Bell-shaped-curve" class="headerlink" title="钟形曲线(Bell-shaped curve)"></a>钟形曲线(Bell-shaped curve)</h3><p>正态分布。<br><img src="/2018/03/16/statistics-base/curve.png" title="钟形曲线"></p>
<h3 id="模糊中心极限定理-Fuzzy-central-limit-theorem"><a href="#模糊中心极限定理-Fuzzy-central-limit-theorem" class="headerlink" title="模糊中心极限定理(Fuzzy central limit theorem)"></a>模糊中心极限定理(Fuzzy central limit theorem)</h3><p>一些现象受到许多相互独立的随机因素的影响，如果每个因素所产生的影响都很微小时，总的影响可以看作是服从正态分布的。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/9/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/9/">9</a><span class="page-number current">10</span><a class="page-number" href="/page/11/">11</a><span class="space">&hellip;</span><a class="page-number" href="/page/17/">17</a><a class="extend next" rel="next" href="/page/11/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
       
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">小朱</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="//cdn.jsdelivr.net/jquery/2.1.3/jquery.min.js"></script>

  
  <script type="text/javascript" src="//cdn.jsdelivr.net/fastclick/1.0.6/fastclick.min.js"></script>

  
  <script type="text/javascript" src="//cdn.jsdelivr.net/jquery.lazyload/1.9.3/jquery.lazyload.min.js"></script>

  
  <script type="text/javascript" src="//cdn.jsdelivr.net/velocity/1.2.3/velocity.min.js"></script>

  
  <script type="text/javascript" src="//cdn.jsdelivr.net/velocity/1.2.3/velocity.ui.min.js"></script>

  
  <script type="text/javascript" src="//cdn.jsdelivr.net/fancybox/2.1.5/jquery.fancybox.pack.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.0.1"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  



  



  
  
  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
       search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body").append('<div class="popoverlay">').css('overflow', 'hidden');
      $('.popup').toggle();

    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
    'use strict';
    $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
            // get the contents from search data
            isfetched = true;

            $('.popup').detach().appendTo('.container');
            //$('.popup').detach().appendTo('.header-inner');

            var datas = $( "entry", xmlResponse ).map(function() {
                return {
                    title: $( "title", this ).text(),
                    content: $("content",this).text(),
                    url: $( "url" , this).text()
                };
            }).get();
            var $input = document.getElementById(search_id);
            var $resultContent = document.getElementById(content_id);
            $input.addEventListener('input', function(){
                var matchcounts = 0;
                var str='<ul class=\"search-result-list\">';                
                var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                $resultContent.innerHTML = "";
                if (this.value.trim().length > 1) {
                // perform local searching
                datas.forEach(function(data) {
                    var isMatch = true;
                    var content_index = [];
                    var data_title = data.title.trim().toLowerCase();
                    var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                    var data_url = data.url;
                    var index_title = -1;
                    var index_content = -1;
                    var first_occur = -1;
                    // only match artiles with not empty titles and contents
                    if(data_title != '' && data_content != '') {
                        keywords.forEach(function(keyword, i) {
                            index_title = data_title.indexOf(keyword);
                            index_content = data_content.indexOf(keyword);
                            if( index_title < 0 && index_content < 0 ){
                                isMatch = false;
                            } else {
                                if (index_content < 0) {
                                    index_content = 0;
                                }
                                if (i == 0) {
                                    first_occur = index_content;
                                }
                            }
                        });
                    }
                    // show search results
                    if (isMatch) {
                        matchcounts += 1;
                        str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                        var content = data.content.trim().replace(/<[^>]+>/g,"");
                        if (first_occur >= 0) {
                            // cut out 100 characters
                            var start = first_occur - 20;
                            var end = first_occur + 80;
                            if(start < 0){
                                start = 0;
                            }
                            if(start == 0){
                                end = 50;
                            }
                            if(end > content.length){
                                end = content.length;
                            }
                            var match_content = content.substring(start, end);
                            // highlight all keywords
                            keywords.forEach(function(keyword){
                                var regS = new RegExp(keyword, "gi");
                                match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                            });
                            
                            str += "<p class=\"search-result\">" + match_content +"...</p>"
                        }
                        str += "</li>";
                    }
                })};
                str += "</ul>";
                if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
                if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
                $resultContent.innerHTML = str;
            });
            proceedsearch();
        }
    });}

    // handle and trigger popup window;
    $('.popup-trigger').mousedown(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };

    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".popoverlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>

  

  

  

</body>
</html>
