<!doctype html>



  


<html class="theme-next pisces use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
    
  
  <link href="//cdn.jsdelivr.net/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet" type="text/css" />




  
  
  
  

  

  

  

  

  

  






  

<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.2/css/font-awesome.min.css" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />





  <link rel="alternate" href="/atom.xml" title="前端学习之路" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="前端学习之路">
<meta property="og:type" content="website">
<meta property="og:title" content="前端学习之路">
<meta property="og:url" content="https://zhulichao.github.io/page/5/index.html">
<meta property="og:site_name" content="前端学习之路">
<meta property="og:description" content="前端学习之路">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="前端学习之路">
<meta name="twitter:description" content="前端学习之路">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: undefined,
      author: '博主'
    }
  };
</script>

  <title> 前端学习之路 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?41d77ee7657d4e19a7f8a6361fe2121f";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>








  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">前端学习之路</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="#" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      

  <div class="popup">
 <span class="search-icon fa fa-search"></span>
 <input type="text" id="local-search-input">
 <div id="local-search-result"></div>
 <span class="popup-btn-close">close</span>
</div>

    </div>
  
</nav>

 </div>
      
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/uploads/me.png"
               alt="小朱" />
          <p class="site-author-name" itemprop="name">小朱</p>
          <p class="site-description motion-element" itemprop="description">前端学习之路</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">168</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">37</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">37</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/zhulichao" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-inline">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              友情链接
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="http://www.jikexueyuan.com/" title="极客学院" target="_blank">极客学院</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://caniuse.com" title="caniuse" target="_blank">caniuse</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://codepen.io" title="codepen" target="_blank">codepen</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://jsbin.com/?html,css,output" title="JS Bin" target="_blank">JS Bin</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://babeljs.io/repl/" title="Babel在线编译" target="_blank">Babel在线编译</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://www.iconfinder.com/iconsets/miu" title="Iconfinder图标" target="_blank">Iconfinder图标</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://www.bejson.com/" title="在线JSON格式化" target="_blank">在线JSON格式化</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://img.top/" title="智能图像压缩" target="_blank">智能图像压缩</a>
                </li>
              
            </ul>
          </div>
        

      </section>

      

    </div>
  </aside>


        
    </header>
 
    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2020/05/22/es6-class/" itemprop="url">
                  ES6-Class
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2020-05-22T09:58:38+08:00" content="2020-05-22">
              2020-05-22
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/ES6/" itemprop="url" rel="index">
                    <span itemprop="name">ES6</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="Class-的基本语法"><a href="#Class-的基本语法" class="headerlink" title="Class 的基本语法"></a>Class 的基本语法</h2><p>ECMAScript 的原生构造函数大致有下面这些：</p>
<ul>
<li>Boolean()</li>
<li>Number()</li>
<li>String()</li>
<li>Array()</li>
<li>Date()</li>
<li>Function()</li>
<li>RegExp()</li>
<li>Error()</li>
<li>Object()</li>
</ul>
<p>ES6 的 class 可以看作只是一个语法糖，它的绝大部分功能，ES5 都可以做到，新的 class 写法只是让对象原型的写法更加清晰、更像面向对象编程的语法而已。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123;</div><div class="line">  <span class="comment">// 实例属性也可以定义在类的最顶层</span></div><div class="line">  x = <span class="number">0</span>;</div><div class="line">  y = <span class="number">0</span>;</div><div class="line">  <span class="comment">// 一个类必须有 constructor 方法，如果没有显式定义，一个空的 constructor 方法会被默认添加</span></div><div class="line">  <span class="keyword">constructor</span>(x, y) &#123;</div><div class="line">    <span class="keyword">this</span>.x = x;</div><div class="line">    <span class="keyword">this</span>.y = y;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  get prop() &#123;</div><div class="line">    <span class="keyword">return</span> <span class="string">'getter'</span>;</div><div class="line">  &#125;</div><div class="line">  set prop(value) &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'setter: '</span> + value);</div><div class="line">  &#125;</div><div class="line">  <span class="comment">// 类的属性名可以采用表达式</span></div><div class="line">  toString() &#123;</div><div class="line">    <span class="keyword">return</span> <span class="string">'('</span> + <span class="keyword">this</span>.x + <span class="string">', '</span> + <span class="keyword">this</span>.y + <span class="string">')'</span>;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 等同于</span></div><div class="line"><span class="comment">// Point.prototype = &#123;</span></div><div class="line"><span class="comment">//   constructor() &#123;&#125;,</span></div><div class="line"><span class="comment">//   toString() &#123;&#125;,</span></div><div class="line"><span class="comment">// &#125;;</span></div><div class="line"></div><div class="line"><span class="comment">// 类必须使用 new 调用</span></div><div class="line"><span class="keyword">var</span> point = <span class="keyword">new</span> Point(<span class="number">2</span>, <span class="number">3</span>);</div><div class="line">point.prop = <span class="number">123</span>; <span class="comment">// setter: 123</span></div><div class="line">point.prop; <span class="comment">// 'getter'</span></div><div class="line">point.toString(); <span class="comment">// (2,3)</span></div><div class="line"></div><div class="line"><span class="comment">// ES6 的类，完全可以看作构造函数的另一种写法</span></div><div class="line">Point === Point.prototype.constructor <span class="comment">// true</span></div><div class="line"></div><div class="line"><span class="comment">// 在类的实例上面调用方法，其实就是调用原型上的方法</span></div><div class="line">point.constructor === Point.prototype.constructor <span class="comment">// true</span></div><div class="line"></div><div class="line"><span class="comment">// prototype 对象的 constructor 属性，直接指向“类”的本身，与 ES5 是一致的</span></div><div class="line">Point.prototype.constructor === Point <span class="comment">// true</span></div><div class="line"></div><div class="line"><span class="comment">// 类的内部所有定义的方法，都是不可枚举的，与 ES5 不一致</span></div><div class="line"><span class="built_in">Object</span>.keys(Point.prototype) <span class="comment">// []</span></div><div class="line"><span class="built_in">Object</span>.getOwnPropertyNames(Point.prototype)<span class="comment">// ["constructor","toString"]</span></div><div class="line"></div><div class="line"><span class="comment">// 实例的属性除非显式定义在其本身（this对象上），否则都是定义在原型上（class上）</span></div><div class="line">point.hasOwnProperty(<span class="string">'x'</span>) <span class="comment">// true</span></div><div class="line">point.hasOwnProperty(<span class="string">'y'</span>) <span class="comment">// true</span></div><div class="line">point.hasOwnProperty(<span class="string">'toString'</span>) <span class="comment">// false</span></div><div class="line">point.__proto__.hasOwnProperty(<span class="string">'toString'</span>) <span class="comment">// true</span></div><div class="line"></div><div class="line"><span class="comment">// 类的所有实例共享一个原型对象</span></div><div class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> Point(<span class="number">2</span>,<span class="number">3</span>);</div><div class="line"><span class="keyword">var</span> p2 = <span class="keyword">new</span> Point(<span class="number">3</span>,<span class="number">2</span>);</div><div class="line">p1.__proto__ === p2.__proto__ <span class="comment">// true</span></div><div class="line"></div><div class="line"><span class="comment">// 存值函数和取值函数是设置在属性的 Descriptor 对象上的</span></div><div class="line"><span class="keyword">var</span> descriptor = <span class="built_in">Object</span>.getOwnPropertyDescriptor(</div><div class="line">  Point.prototype, <span class="string">"prop"</span></div><div class="line">);</div><div class="line"><span class="string">"get"</span> <span class="keyword">in</span> descriptor  <span class="comment">// true</span></div><div class="line"><span class="string">"set"</span> <span class="keyword">in</span> descriptor  <span class="comment">// true</span></div></pre></td></tr></table></figure>
<p>类的所有实例共享一个原型对象，这也意味着，可以通过实例的 <code>__proto__</code> 属性为“类”添加方法。<code>__proto__</code> 并不是语言本身的特性，这是各大厂商具体实现时添加的私有属性，虽然目前很多现代浏览器的 JS 引擎中都提供了这个私有属性，但依旧不建议在生产中使用该属性，避免对环境产生依赖。使用实例的 <code>__proto__</code> 属性改写原型，必须相当谨慎，不推荐使用，因为这会改变“类”的原始定义，影响到所有实例。生产环境中，我们可以使用 <code>Object.getPrototypeOf</code> 方法来获取实例对象的原型，然后再来为原型添加方法/属性。</p>
<p>与函数一样，类也可以使用表达式的形式定义，如下。需要注意的是，这个类的名字是 <code>Me</code>，但是 <code>Me</code> 只在 <code>Class</code> 的内部可用，指代当前类。在 <code>Class</code> 外部，这个类只能用 <code>MyClass</code> 引用。如果类的内部没用到的话，可以省略 <code>Me</code>。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">const</span> MyClass = <span class="class"><span class="keyword">class</span> <span class="title">Me</span> </span>&#123;</div><div class="line">  getClassName() &#123;</div><div class="line">    <span class="keyword">return</span> Me.name;</div><div class="line">  &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">let</span> inst = <span class="keyword">new</span> MyClass();</div><div class="line">inst.getClassName() <span class="comment">// Me</span></div><div class="line"></div><div class="line"><span class="comment">// 采用 Class 表达式，可以写出立即执行的 Class</span></div><div class="line"><span class="keyword">let</span> person = <span class="keyword">new</span> <span class="class"><span class="keyword">class</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span>(name) &#123;</div><div class="line">    <span class="keyword">this</span>.name = name;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  sayName() &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.name);</div><div class="line">  &#125;</div><div class="line">&#125;(<span class="string">'张三'</span>);</div><div class="line"></div><div class="line">person.sayName(); <span class="comment">// "张三"</span></div></pre></td></tr></table></figure>
<p>注意：</p>
<ul>
<li>类和模块的内部，默认就是严格模式，考虑到未来所有的代码，其实都是运行在模块之中，所以 ES6 实际上把整个语言升级到了严格模式</li>
<li>类不存在变量提升（hoist），这一点与 ES5 完全不同</li>
<li><code>name</code> 属性总是返回紧跟在 <code>class</code> 关键字后面的类名</li>
<li>如果某个方法之前加上星号（*），就表示该方法是一个 <code>Generator</code> 函数</li>
<li>类的方法内部如果含有 <code>this</code>，它默认指向类的实例。但是，一旦单独使用该方法，很可能报错，可以在构造方法中绑定 <code>this</code> 或者使用箭头函数来解决</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Logger</span> </span>&#123;</div><div class="line">  printName(name = <span class="string">'there'</span>) &#123;</div><div class="line">    <span class="keyword">this</span>.print(<span class="string">`Hello <span class="subst">$&#123;name&#125;</span>`</span>);</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  print(text) &#123;</div><div class="line">    <span class="built_in">console</span>.log(text);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">const</span> logger = <span class="keyword">new</span> Logger();</div><div class="line"><span class="keyword">const</span> &#123; printName &#125; = logger;</div><div class="line">printName(); <span class="comment">// TypeError: Cannot read property 'print' of undefined</span></div></pre></td></tr></table></figure>
<p>如果在一个方法前，加上 <code>static</code> 关键字，就表示该方法不会被实例继承，而是直接通过类来调用，这就称为“静态方法”。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Foo</span> </span>&#123;</div><div class="line">  <span class="comment">// 提案，静态属性</span></div><div class="line">  <span class="keyword">static</span> myStaticProp = <span class="number">42</span>;</div><div class="line">  <span class="comment">// 静态方法</span></div><div class="line">  <span class="keyword">static</span> classMethod() &#123;</div><div class="line">    <span class="keyword">return</span> <span class="string">'hello'</span>;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="comment">// 如果静态方法包含this关键字，这个this指的是类，而不是实例，静态方法可以与非静态方法重名</span></div><div class="line">  <span class="keyword">static</span> bar() &#123;</div><div class="line">    <span class="keyword">this</span>.baz();</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">static</span> baz() &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'hello'</span>);</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  baz() &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'world'</span>);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">Foo.classMethod() <span class="comment">// 'hello'</span></div><div class="line"></div><div class="line"><span class="keyword">var</span> foo = <span class="keyword">new</span> Foo();</div><div class="line">foo.classMethod() <span class="comment">// TypeError: foo.classMethod is not a function</span></div><div class="line">Foo.bar() <span class="comment">// hello</span></div><div class="line"></div><div class="line"><span class="comment">// 父类的静态方法，可以被子类继承</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Bar</span> <span class="keyword">extends</span> <span class="title">Foo</span> </span>&#123;</div><div class="line">  <span class="keyword">static</span> classMethod() &#123;</div><div class="line">    <span class="comment">// 静态方法也是可以从 super 对象上调用的</span></div><div class="line">    <span class="keyword">return</span> <span class="keyword">super</span>.classMethod() + <span class="string">', too'</span>;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line">Bar.bar() <span class="comment">// 'hello'</span></div><div class="line">Bar.classMethod() <span class="comment">// "hello, too"</span></div><div class="line"></div><div class="line"><span class="comment">// 静态属性</span></div><div class="line">Foo.prop = <span class="number">1</span>;</div><div class="line">Foo.prop <span class="comment">// 1</span></div></pre></td></tr></table></figure>
<p>私有方法和私有属性， ES6 不提供，只能通过变通方法模拟实现。私有属性和私有方法前面，也可以加上 <code>static</code> 关键字，表示这是一个静态的私有属性或私有方法，只能在类的内部调用。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">class IncreasingCounter &#123;</div><div class="line">  // 在命名上加以区别</div><div class="line">  _count = 0;</div><div class="line">  // 提案</div><div class="line">  #count = 0;</div><div class="line">  get value() &#123;</div><div class="line">    console.log('Getting the current value!');</div><div class="line">    return this.#count;</div><div class="line">  &#125;</div><div class="line">  increment() &#123;</div><div class="line">    this.#count++;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">// 私有属性不限于从 this 引用，只要是在类的内部，实例也可以引用私有属性</div><div class="line">class Foo &#123;</div><div class="line">  #privateValue = 42;</div><div class="line">  static getPrivateValue(foo) &#123;</div><div class="line">    return foo.#privateValue;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line">Foo.getPrivateValue(new Foo()); // 42</div></pre></td></tr></table></figure>
<p>ES6 为 <code>new</code> 命令引入了一个 <code>new.target</code> 属性，该属性一般用在构造函数之中，返回 <code>new</code> 命令作用于的那个构造函数。如果构造函数不是通过 <code>new</code> 命令或 <code>Reflect.construct()</code> 调用的，<code>new.target</code> 会返回 <code>undefined</code>，因此这个属性可以用来确定构造函数是怎么调用的。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="keyword">function</span> <span class="title">Person</span>(<span class="params">name</span>) </span>&#123;</div><div class="line">  <span class="keyword">if</span> (<span class="keyword">new</span>.target === Person) &#123;</div><div class="line">    <span class="keyword">this</span>.name = name;</div><div class="line">  &#125; <span class="keyword">else</span> &#123;</div><div class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="built_in">Error</span>(<span class="string">'必须使用 new 命令生成实例'</span>);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> person = <span class="keyword">new</span> Person(<span class="string">'张三'</span>); <span class="comment">// 正确</span></div><div class="line"><span class="keyword">var</span> notAPerson = Person.call(person, <span class="string">'张三'</span>);  <span class="comment">// 报错</span></div><div class="line"></div><div class="line"><span class="comment">// Class 内部调用 new.target，返回当前 Class</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Rectangle</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span>(length, width) &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">new</span>.target === Rectangle);</div><div class="line">    <span class="keyword">this</span>.length = length;</div><div class="line">    <span class="keyword">this</span>.width = width;</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> Rectangle(<span class="number">3</span>, <span class="number">4</span>); <span class="comment">// 输出 true</span></div><div class="line"></div><div class="line"><span class="comment">// 子类继承父类时，new.target 会返回子类，利用这个特点，可以写出不能独立使用、必须继承后才能使用的类</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Square</span> <span class="keyword">extends</span> <span class="title">Rectangle</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span>(length, width) &#123;</div><div class="line">    <span class="keyword">super</span>(length, width);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">var</span> obj = <span class="keyword">new</span> Square(<span class="number">3</span>); <span class="comment">// 输出 false</span></div></pre></td></tr></table></figure>
<h2 id="Class-的继承"><a href="#Class-的继承" class="headerlink" title="Class 的继承"></a>Class 的继承</h2><p>Class 可以通过 <code>extends</code> 关键字实现继承，这比 ES5 的通过修改原型链实现继承，要清晰和方便很多。父类的静态方法，也会被子类继承。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">Point</span> </span>&#123; <span class="comment">/* ... */</span> &#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ColorPoint</span> <span class="keyword">extends</span> <span class="title">Point</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span>(x, y, color) &#123;</div><div class="line">    <span class="keyword">super</span>(x, y); <span class="comment">// 调用父类的 constructor(x, y)</span></div><div class="line">    <span class="keyword">this</span>.color = color;</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  toString() &#123;</div><div class="line">    <span class="keyword">return</span> <span class="keyword">this</span>.color + <span class="string">' '</span> + <span class="keyword">super</span>.toString(); <span class="comment">// 调用父类的 toString()</span></div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> cp = <span class="keyword">new</span> ColorPoint(<span class="number">25</span>, <span class="number">8</span>, <span class="string">'green'</span>);</div><div class="line"></div><div class="line">cp <span class="keyword">instanceof</span> ColorPoint <span class="comment">// true</span></div><div class="line">cp <span class="keyword">instanceof</span> Point <span class="comment">// true</span></div><div class="line"></div><div class="line"><span class="comment">// Object.getPrototypeOf 方法可以用来从子类上获取父类，可以使用这个方法判断，一个类是否继承了另一个类</span></div><div class="line"><span class="built_in">Object</span>.getPrototypeOf(ColorPoint) === Point <span class="comment">// true</span></div></pre></td></tr></table></figure>
<p>子类必须在 <code>constructor</code> 方法中调用 <code>super</code> 方法，否则新建实例时会报错。这是因为子类自己的 <code>this</code> 对象，必须先通过父类的构造函数完成塑造，得到与父类同样的实例属性和方法，然后再对其进行加工，加上子类自己的实例属性和方法。如果不调用 <code>super</code> 方法，子类就得不到 <code>this</code> 对象。ES5 的继承，实质是先创造子类的实例对象 <code>this</code>，然后再将父类的方法添加到 <code>this</code> 上面 <code>（Parent.apply(this)）</code>。ES6 的继承机制完全不同，实质是先将父类实例对象的属性和方法，加到 <code>this</code> 上面（所以必须先调用<code>super</code> 方法），然后再用子类的构造函数修改 <code>this</code>。</p>
<p>如果子类没有定义 <code>constructor</code> 方法，这个方法会被默认添加，代码如下。也就是说，不管有没有显式定义，任何一个子类都有 <code>constructor</code> 方法。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ColorPoint</span> <span class="keyword">extends</span> <span class="title">Point</span> </span>&#123;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="comment">// 等同于</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">ColorPoint</span> <span class="keyword">extends</span> <span class="title">Point</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span>(...args) &#123;</div><div class="line">    <span class="comment">// 只有调用 super 之后，才可以使用 this 关键字</span></div><div class="line">    <span class="keyword">super</span>(...args);</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p><code>super</code> 这个关键字，既可以当作函数使用，也可以当作对象使用。在这两种情况下，它的用法完全不同。使用 <code>super</code> 的时候，必须显式指定是作为函数、还是作为对象使用，否则会报错。第一种情况，<code>super</code> 作为函数调用时，代表父类的构造函数，<code>super()</code> 只能用在子类的构造函数之中。ES6 要求，子类的构造函数必须执行一次 <code>super</code> 函数，<code>super</code> 虽然代表了父类的构造函数，但是返回的是子类的实例。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span>() &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">new</span>.target.name);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span>() &#123;</div><div class="line">    <span class="keyword">super</span>();</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">new</span> A() <span class="comment">// A</span></div><div class="line"><span class="keyword">new</span> B() <span class="comment">// B</span></div></pre></td></tr></table></figure>
<p>第二种情况，<code>super</code> 作为对象时，在普通方法中，指向父类的原型对象；在静态方法中，指向父类。ES6 规定，在子类普通方法中通过 <code>super</code> 调用父类的方法时，方法内部的 <code>this</code> 指向当前的子类实例。由于 <code>this</code> 指向子类实例，所以如果通过 <code>super</code> 对某个属性赋值，这时 <code>super</code> 就是 <code>this</code>，赋值的属性会变成子类实例的属性。在子类的静态方法中通过 <code>super</code> 调用父类的方法时，方法内部的 <code>this</code> 指向当前的子类，而不是子类的实例。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span>() &#123;</div><div class="line">    <span class="keyword">this</span>.x = <span class="number">1</span>;</div><div class="line">  &#125;</div><div class="line">  print() &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.x);</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  <span class="keyword">static</span> myMethod(msg) &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'static'</span>, msg);</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  myMethod(msg) &#123;</div><div class="line">    <span class="built_in">console</span>.log(<span class="string">'instance'</span>, msg);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span> </span>&#123;</div><div class="line">  <span class="keyword">constructor</span>() &#123;</div><div class="line">    <span class="keyword">super</span>();</div><div class="line">    <span class="keyword">this</span>.x = <span class="number">2</span>;</div><div class="line">    <span class="keyword">super</span>.x = <span class="number">3</span>;</div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">super</span>.x); <span class="comment">// undefined</span></div><div class="line">    <span class="built_in">console</span>.log(<span class="keyword">this</span>.x); <span class="comment">// 3</span></div><div class="line">  &#125;</div><div class="line">  m() &#123;</div><div class="line">    <span class="keyword">super</span>.print();</div><div class="line">  &#125;</div><div class="line">  <span class="keyword">static</span> myMethod(msg) &#123;</div><div class="line">    <span class="keyword">super</span>.myMethod(msg);</div><div class="line">  &#125;</div><div class="line"></div><div class="line">  myMethod(msg) &#123;</div><div class="line">    <span class="keyword">super</span>.myMethod(msg);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line"></div><div class="line"><span class="keyword">let</span> b = <span class="keyword">new</span> B();</div><div class="line">b.m() <span class="comment">// 2</span></div><div class="line"></div><div class="line">B.myMethod(<span class="number">1</span>); <span class="comment">// static 1</span></div><div class="line"><span class="keyword">var</span> b = <span class="keyword">new</span> B();</div><div class="line">b.myMethod(<span class="number">2</span>); <span class="comment">// instance 2</span></div></pre></td></tr></table></figure>
<p>大多数浏览器的 ES5 实现之中，每一个对象都有 <code>__proto__</code> 属性，指向对应的构造函数的 <code>prototype</code> 属性。Class 作为构造函数的语法糖，同时有 <code>prototype</code> 属性和 <code>__proto__</code> 属性，因此同时存在两条继承链：</p>
<ul>
<li>子类的 <code>__proto__</code> 属性，表示构造函数的继承，总是指向父类</li>
<li>子类 <code>prototype</code> 属性的 <code>__proto__</code> 属性，表示方法的继承，总是指向父类的 <code>prototype</code> 属性</li>
</ul>
<p>这两条继承链，可以这样理解：作为一个对象，子类（B）的原型（<code>__proto__</code> 属性）是父类（A）；作为一个构造函数，子类（B）的原型对象（<code>prototype</code> 属性）是父类的原型对象（<code>prototype</code> 属性）的实例。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;&#125;</div><div class="line"></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> <span class="keyword">extends</span> <span class="title">A</span> </span>&#123;&#125;</div><div class="line"></div><div class="line">B.__proto__ === A <span class="comment">// true</span></div><div class="line">B.prototype.__proto__ === A.prototype <span class="comment">// true</span></div><div class="line"></div><div class="line"><span class="comment">// B 的实例继承 A 的实例</span></div><div class="line"><span class="built_in">Object</span>.setPrototypeOf(B.prototype, A.prototype);</div><div class="line"><span class="comment">// 等同于</span></div><div class="line">B.prototype.__proto__ = A.prototype;</div><div class="line"><span class="comment">// B 继承 A 的静态属性</span></div><div class="line"><span class="built_in">Object</span>.setPrototypeOf(B, A);</div><div class="line"><span class="comment">// 等同于</span></div><div class="line">B.__proto__ = A;</div></pre></td></tr></table></figure>
<p><code>extends</code> 关键字后面可以跟多种类型的值，只要是一个有 <code>prototype</code> 属性的函数，就能被继承.由于函数都有 <code>prototype</code> 属性（除了 <code>Function.prototype</code> 函数），因此可以继承任意函数，还可以用来继承原生的构造函数。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line"><span class="comment">// 子类继承 Object 类，A其实就是构造函数 Object 的复制，A的实例就是 Object 的实例</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> <span class="keyword">extends</span> <span class="title">Object</span> </span>&#123;&#125;</div><div class="line"></div><div class="line">A.__proto__ === <span class="built_in">Object</span> <span class="comment">// true</span></div><div class="line">A.prototype.__proto__ === <span class="built_in">Object</span>.prototype <span class="comment">// true</span></div><div class="line"></div><div class="line"><span class="comment">// 不存在任何继承，A作为一个基类（即不存在任何继承），就是一个普通函数，所以直接继承 Function.prototype。但是，A调用后返回一个空对象（即Object实例），所以 A.prototype.__proto__ 指向构造函数（Object）的 prototype 属性</span></div><div class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;&#125;</div><div class="line"></div><div class="line">A.__proto__ === <span class="built_in">Function</span>.prototype <span class="comment">// true</span></div><div class="line">A.prototype.__proto__ === <span class="built_in">Object</span>.prototype <span class="comment">// true</span></div></pre></td></tr></table></figure>
<p>子类实例的 <code>__proto__</code> 属性的 <code>__proto__</code> 属性，指向父类实例的 <code>__proto__</code> 属性。也就是说，子类的原型的原型，是父类的原型。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="keyword">var</span> p1 = <span class="keyword">new</span> Point(<span class="number">2</span>, <span class="number">3</span>);</div><div class="line"><span class="keyword">var</span> p2 = <span class="keyword">new</span> ColorPoint(<span class="number">2</span>, <span class="number">3</span>, <span class="string">'red'</span>);</div><div class="line"></div><div class="line">p2.__proto__ === p1.__proto__ <span class="comment">// false</span></div><div class="line">p2.__proto__.__proto__ === p1.__proto__ <span class="comment">// true</span></div></pre></td></tr></table></figure>
<p>以前，这些原生构造函数是无法继承的，比如，不能自己定义一个 <code>Array</code> 的子类，因为这个类的行为与 <code>Array</code> 完全不一致，子类无法获得原生构造函数的内部属性，通过 <code>Array.apply()</code> 或者分配给原型对象都不行。原生构造函数会忽略 <code>apply</code> 方法传入的 <code>this</code>，也就是说，原生构造函数的 <code>this</code> 无法绑定，导致拿不到内部属性。ES6 允许继承原生构造函数定义子类，因为 ES6 是先新建父类的实例对象 <code>this</code>，然后再用子类的构造函数修饰 <code>this</code>，使得父类的所有行为都可以继承，这是 ES5 无法做到的。</p>
<p>注意，继承 <code>Object</code> 的子类，有一个行为差异。下面代码中，<code>NewObj</code> 继承了 <code>Object</code>，但是无法通过 <code>super</code> 方法向父类 <code>Object</code> 传参。这是因为 ES6 改变了 <code>Object</code> 构造函数的行为，一旦发现 <code>Object</code> 方法不是通过 <code>new Object()</code> 这种形式调用，ES6 规定 <code>Object</code> 构造函数会忽略参数。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2020/03/23/saber/" itemprop="url">
                  Saber 学习总结
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2020-03-23T12:26:49+08:00" content="2020-03-23">
              2020-03-23
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Saber/" itemprop="url" rel="index">
                    <span itemprop="name">Saber</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>Saber 是 SpringBlade 前端 UI 框架，主要选型技术为 Vue、Vuex、Avue、Element UI，项目基于 Vue CLI 构建。</p>
<p><a href="https://saber.bladex.vip/#/login" target="_blank" rel="external">Saber 在线演示地址</a></p>
<h2 id="搭建环境"><a href="#搭建环境" class="headerlink" title="搭建环境"></a>搭建环境</h2><p>参考 <a href="https://www.kancloud.cn/smallchill/saber" target="_blank" rel="external">Saber开发手册</a>、<a href="/2020/03/23/saber-base/">Saber 基础</a> 搭建前后端环境，后端项目 SpringBlade 是 SpringCloud 微服务架构，搭建比较复杂，可使用 SpringBlade boot 版，<strong>目前测试代码生成的功能只有在 boot 版才能跑通</strong>。</p>
<p><a href="https://gitee.com/smallc/Saber?_from=gitee_search" target="_blank" rel="external">Saber 项目地址</a></p>
<p><a href="https://gitee.com/smallc/SpringBlade" target="_blank" rel="external">SpringBlade 项目地址</a></p>
<p><a href="https://gitee.com/smallc/SpringBlade/tree/2.0-boot/" target="_blank" rel="external">SpringBlade boot 项目地址</a></p>
<h2 id="集成代码校验"><a href="#集成代码校验" class="headerlink" title="集成代码校验"></a>集成代码校验</h2><p>参考 <a href="/2020/03/23/saber-lint/">Saber 项目集成代码检查</a>，集成拼写检查、JavaScript 代码检查、CSS 代码检查、代码风格检查以及使用 Git Hook 工具进行提交前代码规范校验。</p>
<h2 id="基础学习"><a href="#基础学习" class="headerlink" title="基础学习"></a>基础学习</h2><p>对照 <a href="https://www.kancloud.cn/smallchill/saber" target="_blank" rel="external">Saber开发手册</a>进行练习，除项目发布外所有练习都可完成。</p>
<h2 id="Avue-官网学习"><a href="#Avue-官网学习" class="headerlink" title="Avue 官网学习"></a>Avue 官网学习</h2><p>Avue 是基于现有 Element UI 组件库进行的二次封装，组件库主要针对 table 表格和 form 表单场景，且有在线表单设计器和表格设计器生成代码，还有一些企业常用的组件，是一个更贴近企业级的前端开发组件库，让开发变的更容易。</p>
<p>对照官网进行练习时，可先将 Saber 中 Avue 的版本升级到最新版本后再进行，避免由于版本问题一些 demo 运行报错。</p>
<p><a href="https://avuejs.com/" target="_blank" rel="external">Avue.js 官网地址</a></p>
<p><a href="https://form.avuejs.com/" target="_blank" rel="external">Avue表单设计器</a></p>
<p><a href="https://crud.avuejs.com/" target="_blank" rel="external">Avue表格设计器</a></p>
<h2 id="Avue-cli-学习"><a href="#Avue-cli-学习" class="headerlink" title="Avue-cli 学习"></a>Avue-cli 学习</h2><p>avue-cli 是一款基于 avue 和 element-ui 完全开源、免费的企业后端产品前端集成解决方案，已经准备好了大部分的项目准备工作，可以快速进行二次开发。</p>
<p><a href="https://cli.avuejs.com/#/login" target="_blank" rel="external">avue-cli 在线演示地址</a></p>
<p><a href="https://gitee.com/smallweigit/avue-cli?_from=gitee_search" target="_blank" rel="external">avue-cli 项目地址</a></p>
<p><a href="https://www.kancloud.cn/smallwei/avue" target="_blank" rel="external">avue-cli后台模板框架讲解</a></p>
<h2 id="源码学习"><a href="#源码学习" class="headerlink" title="源码学习"></a>源码学习</h2><p>参考 <a href="https://www.kancloud.cn/smallwei/avue" target="_blank" rel="external">avue-cli后台模板框架讲解</a>、<a href="/2020/03/23/saber-code/">Saber 源码学习</a> 学习 Saber 源码。</p>
<h2 id="集成-PWA"><a href="#集成-PWA" class="headerlink" title="集成 PWA"></a>集成 PWA</h2><p>参考<a href="/2020/03/23/saber-pwa/">Saber 集成 PWA</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2020/03/23/saber-pwa/" itemprop="url">
                  Saber 集成 PWA
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2020-03-23T12:18:33+08:00" content="2020-03-23">
              2020-03-23
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Saber/" itemprop="url" rel="index">
                    <span itemprop="name">Saber</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>Saber 是基于 Vue CLI 构建，@vue/cli3.0 的 package 目录下有很多具体的可添加模块，其中就包括 cli-plugin-pwa。具体步骤如下。</p>
<h2 id="添加-pwa-插件"><a href="#添加-pwa-插件" class="headerlink" title="添加 pwa 插件"></a>添加 pwa 插件</h2><p>项目根目录下执行 <code>vue add @vue/pwa</code> ，会添加或修改如下文件</p>
<img src="/2020/03/23/saber-pwa/files.png" title="生成文件">
<h2 id="打包"><a href="#打包" class="headerlink" title="打包"></a>打包</h2><p><code>npm run build</code></p>
<h2 id="部署"><a href="#部署" class="headerlink" title="部署"></a>部署</h2><p>在 dist 目录下执行  <code>python -m SimpleHTTPServer 1888</code></p>
<h2 id="测试"><a href="#测试" class="headerlink" title="测试"></a>测试</h2><img src="/2020/03/23/saber-pwa/pwa.png" title="运行效果">
<h2 id="自定义配置"><a href="#自定义配置" class="headerlink" title="自定义配置"></a>自定义配置</h2><p>参考 <a href="https://github.com/vuejs/vue-cli/tree/dev/packages/%40vue/cli-plugin-pwa" target="_blank" rel="external">vue-cli/packages/@vue/cli-plugin-pwa at dev · vuejs/vue-cli · GitHub</a>，通过  <code>vue.config.js</code>  的 <code>pwa</code>  字段进行配置。</p>
<p>vue.config.js 添加如下内容：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">pwa: &#123;</div><div class="line">    name: &apos;My App&apos;,</div><div class="line">    themeColor: &apos;#4DBA87&apos;,</div><div class="line">    msTileColor: &apos;#000000&apos;,</div><div class="line">    appleMobileWebAppCapable: &apos;yes&apos;,</div><div class="line">    appleMobileWebAppStatusBarStyle: &apos;black&apos;,</div><div class="line"></div><div class="line">    // 配置 workbox 插件</div><div class="line">    workboxPluginMode: &apos;InjectManifest&apos;,</div><div class="line">    workboxOptions: &#123;</div><div class="line">      // InjectManifest 模式下 swSrc 是必填的。</div><div class="line">      swSrc: &apos;dev/sw.js&apos;,</div><div class="line">      // ...其它 Workbox 选项...</div><div class="line">    &#125;,</div><div class="line">  &#125;,</div></pre></td></tr></table></figure>
<p>dev 目录下添加 sw.js 文件：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div></pre></td><td class="code"><pre><div class="line">self.addEventListener(&apos;install&apos;, event =&gt; &#123;</div><div class="line">  console.log(&apos;Version installing&apos;, event);</div><div class="line">  event.waitUntil(</div><div class="line">    caches</div><div class="line">      .open(&apos;static-v1&apos;)</div><div class="line">      .then(cache =&gt;</div><div class="line">        cache.addAll([</div><div class="line">          &apos;/&apos;,</div><div class="line">          &apos;index.html&apos;,</div><div class="line">          &apos;/cdn&apos;,</div><div class="line">          &apos;/css&apos;,</div><div class="line">          &apos;/img&apos;,</div><div class="line">          &apos;/js&apos;,</div><div class="line">          &apos;/svg&apos;,</div><div class="line">          &apos;/util&apos;,</div><div class="line">        ])</div><div class="line">      )</div><div class="line">  );</div><div class="line">&#125;);</div><div class="line"></div><div class="line">self.addEventListener(&apos;activate&apos;, () =&gt; &#123;</div><div class="line">  console.log(&apos;Version now ready to handle&apos;);</div><div class="line">&#125;);</div><div class="line"></div><div class="line">self.addEventListener(&apos;fetch&apos;, event =&gt; &#123;</div><div class="line">  console.log(&apos;fetch&apos;, event.request);</div><div class="line">&#125;);</div></pre></td></tr></table></figure>
<p><strong>注意，src/registerServiceWorker.js  文件中修改内容 service-worker.js 为 sw.js。</strong></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2020/03/23/saber-code/" itemprop="url">
                  Saber 源码学习
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2020-03-23T12:12:35+08:00" content="2020-03-23">
              2020-03-23
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Saber/" itemprop="url" rel="index">
                    <span itemprop="name">Saber</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <img src="/2020/03/23/saber-code/saber-code.png" title="Saber 源码学习">
<p><a href="/2020/03/23/saber-code/Saber 源码学习.xmind">下载源文件</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2020/03/23/saber-lint/" itemprop="url">
                  Saber 项目集成代码检查
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2020-03-23T11:46:35+08:00" content="2020-03-23">
              2020-03-23
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Saber/" itemprop="url" rel="index">
                    <span itemprop="name">Saber</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>开发 Saber 项目使用 VSCode 作为编辑器。Saber 项目使用 @vue/cli 创建的，在此基础上再进行代码检查相关配置，包括拼写检查、JavaScript 代码检查、CSS 代码检查、代码风格检查、使用 Git Hook 工具进行提交前代码规范校验。</p>
<h2 id="拼写检查"><a href="#拼写检查" class="headerlink" title="拼写检查"></a>拼写检查</h2><ul>
<li>VSCode 中添加 <strong>Code Spell Checker</strong> 插件，进行单词的拼写检查，如果代码中出现了拼写错误编辑器会有提示</li>
</ul>
<img src="/2020/03/23/saber-lint/spell.png" width="400" title="错误提示">
<h2 id="JS-检查"><a href="#JS-检查" class="headerlink" title="JS 检查"></a>JS 检查</h2><ul>
<li>VSCode 中添加 <strong>ESLint</strong> 插件，参考 <a href="https://eslint.org/" target="_blank" rel="external">ESLint 官网</a> 进行配置，进行 JavaScript 语法和格式检查</li>
<li>项目安装 eslint-plugin-import、eslint-plugin-node、eslint-plugin-promise、eslint-plugin-vue 包</li>
<li>项目根目录添加 .eslintrc.js 文件，内容如下</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line">// .eslintrc.js 文件</div><div class="line">module.exports = &#123;</div><div class="line">  root: true,</div><div class="line">  env: &#123;</div><div class="line">    node: true</div><div class="line">  &#125;,</div><div class="line">  extends: [</div><div class="line">    &apos;plugin:vue/essential&apos;,</div><div class="line">    &apos;eslint:recommended&apos;,</div><div class="line">    &apos;prettier&apos;</div><div class="line">  ],</div><div class="line">  plugins: [&quot;import&quot;, &quot;prettier&quot;],</div><div class="line">  rules: &#123;</div><div class="line">    &quot;prettier/prettier&quot;: &quot;error&quot;,</div><div class="line">    &apos;no-console&apos;: process.env.NODE_ENV === &apos;production&apos; ? &apos;error&apos; : &apos;off&apos;,</div><div class="line">    &apos;no-debugger&apos;: process.env.NODE_ENV === &apos;production&apos; ? &apos;error&apos; : &apos;off&apos;,</div><div class="line">    &quot;no-var&quot;: &quot;error&quot;,</div><div class="line">    &quot;indent&quot;: [&quot;error&quot;, 2, &#123; &quot;SwitchCase&quot;: 1 &#125;],</div><div class="line">    &quot;quotes&quot;: [ &quot;error&quot;, &quot;single&quot;],</div><div class="line">    &quot;semi&quot;: [&quot;error&quot;, &quot;always&quot;],</div><div class="line">    &quot;comma-dangle&quot;: [</div><div class="line">      &quot;error&quot;,</div><div class="line">      &#123;</div><div class="line">        &quot;arrays&quot;: &quot;ignore&quot;,</div><div class="line">        &quot;objects&quot;: &quot;always-multiline&quot;,</div><div class="line">        &quot;imports&quot;: &quot;always-multiline&quot;,</div><div class="line">        &quot;exports&quot;: &quot;ignore&quot;,</div><div class="line">        &quot;functions&quot;: &quot;ignore&quot;</div><div class="line">      &#125;</div><div class="line">    ],</div><div class="line">    &quot;no-empty&quot;: 2,</div><div class="line">    &quot;no-eq-null&quot;: 2,</div><div class="line">    &quot;no-new&quot;: 0,</div><div class="line">    &quot;no-fallthrough&quot;: 0,</div><div class="line">    &quot;no-unreachable&quot;: 0,</div><div class="line">    &quot;space-before-function-paren&quot;: [2, &quot;never&quot;],</div><div class="line">    &quot;import/newline-after-import&quot;: 2</div><div class="line">  &#125;,</div><div class="line">  parserOptions: &#123;</div><div class="line">    parser: &apos;babel-eslint&apos;,</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<img src="/2020/03/23/saber-lint/eslint.png" width="500" title="错误提示">
<h2 id="CSS-检查"><a href="#CSS-检查" class="headerlink" title="CSS 检查"></a>CSS 检查</h2><ul>
<li>VSCode 中添加 <strong>stylelint</strong> 插件，参考 <a href="https://stylelint.io/" target="_blank" rel="external">stylelint</a> 进行配置，进行 CSS 语法和格式检查</li>
<li>项目添加 stylelint、stylelint-config-standard、stylelint-config-prettier、stylelint-order 包</li>
<li>项目根目录添加 .stylelintrc.js 文件，内容如下</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div><div class="line">50</div><div class="line">51</div><div class="line">52</div><div class="line">53</div><div class="line">54</div><div class="line">55</div><div class="line">56</div><div class="line">57</div><div class="line">58</div><div class="line">59</div><div class="line">60</div><div class="line">61</div><div class="line">62</div><div class="line">63</div><div class="line">64</div><div class="line">65</div><div class="line">66</div><div class="line">67</div><div class="line">68</div><div class="line">69</div><div class="line">70</div><div class="line">71</div><div class="line">72</div><div class="line">73</div><div class="line">74</div><div class="line">75</div><div class="line">76</div><div class="line">77</div><div class="line">78</div><div class="line">79</div><div class="line">80</div><div class="line">81</div><div class="line">82</div><div class="line">83</div><div class="line">84</div><div class="line">85</div><div class="line">86</div><div class="line">87</div><div class="line">88</div><div class="line">89</div><div class="line">90</div><div class="line">91</div><div class="line">92</div><div class="line">93</div><div class="line">94</div><div class="line">95</div><div class="line">96</div><div class="line">97</div><div class="line">98</div><div class="line">99</div><div class="line">100</div><div class="line">101</div><div class="line">102</div><div class="line">103</div><div class="line">104</div><div class="line">105</div><div class="line">106</div><div class="line">107</div><div class="line">108</div><div class="line">109</div><div class="line">110</div><div class="line">111</div><div class="line">112</div><div class="line">113</div><div class="line">114</div><div class="line">115</div><div class="line">116</div><div class="line">117</div><div class="line">118</div><div class="line">119</div><div class="line">120</div><div class="line">121</div><div class="line">122</div><div class="line">123</div><div class="line">124</div><div class="line">125</div><div class="line">126</div><div class="line">127</div><div class="line">128</div><div class="line">129</div><div class="line">130</div><div class="line">131</div><div class="line">132</div><div class="line">133</div><div class="line">134</div><div class="line">135</div><div class="line">136</div><div class="line">137</div><div class="line">138</div><div class="line">139</div><div class="line">140</div><div class="line">141</div><div class="line">142</div><div class="line">143</div><div class="line">144</div><div class="line">145</div><div class="line">146</div><div class="line">147</div><div class="line">148</div><div class="line">149</div><div class="line">150</div><div class="line">151</div><div class="line">152</div><div class="line">153</div><div class="line">154</div><div class="line">155</div><div class="line">156</div><div class="line">157</div><div class="line">158</div><div class="line">159</div><div class="line">160</div><div class="line">161</div><div class="line">162</div><div class="line">163</div><div class="line">164</div><div class="line">165</div><div class="line">166</div><div class="line">167</div><div class="line">168</div><div class="line">169</div><div class="line">170</div><div class="line">171</div><div class="line">172</div><div class="line">173</div><div class="line">174</div><div class="line">175</div><div class="line">176</div><div class="line">177</div><div class="line">178</div><div class="line">179</div><div class="line">180</div><div class="line">181</div><div class="line">182</div><div class="line">183</div><div class="line">184</div><div class="line">185</div><div class="line">186</div><div class="line">187</div><div class="line">188</div><div class="line">189</div><div class="line">190</div><div class="line">191</div></pre></td><td class="code"><pre><div class="line">// stylelintrc.js 文件</div><div class="line">module.exports = &#123;</div><div class="line">  extends: [&apos;stylelint-config-standard&apos;, &apos;stylelint-config-prettier&apos;],</div><div class="line">  plugins: [&apos;stylelint-order&apos;],</div><div class="line">  rules: &#123;</div><div class="line">    &apos;property-no-unknown&apos;: [</div><div class="line">      true,</div><div class="line">      &#123;</div><div class="line">        ignoreProperties: [&apos;composes&apos;],</div><div class="line">      &#125;,</div><div class="line">    ],</div><div class="line">    &apos;selector-pseudo-class-no-unknown&apos;: [</div><div class="line">      true,</div><div class="line">      &#123;</div><div class="line">        ignorePseudoClasses: [&apos;global&apos;],</div><div class="line">      &#125;,</div><div class="line">    ],</div><div class="line">    &apos;string-quotes&apos;: &apos;single&apos;,</div><div class="line">    &apos;order/order&apos;: [</div><div class="line">      &apos;custom-properties&apos;,</div><div class="line">      &apos;dollar-variables&apos;,</div><div class="line">      &apos;declarations&apos;,</div><div class="line">      &apos;at-rules&apos;,</div><div class="line">      &apos;rules&apos;,</div><div class="line">    ],</div><div class="line">    &apos;order/properties-order&apos;: [</div><div class="line">      &apos;composes&apos;,</div><div class="line">      &apos;position&apos;,</div><div class="line">      &apos;top&apos;,</div><div class="line">      &apos;right&apos;,</div><div class="line">      &apos;bottom&apos;,</div><div class="line">      &apos;left&apos;,</div><div class="line">      &apos;z-index&apos;,</div><div class="line">      &apos;display&apos;,</div><div class="line">      &apos;align-content&apos;,</div><div class="line">      &apos;align-items&apos;,</div><div class="line">      &apos;align-self&apos;,</div><div class="line">      &apos;flex&apos;,</div><div class="line">      &apos;flex-basis&apos;,</div><div class="line">      &apos;flex-direction&apos;,</div><div class="line">      &apos;flex-flow&apos;,</div><div class="line">      &apos;flex-grow&apos;,</div><div class="line">      &apos;flex-shrink&apos;,</div><div class="line">      &apos;flex-wrap&apos;,</div><div class="line">      &apos;justify-content&apos;,</div><div class="line">      &apos;order&apos;,</div><div class="line">      &apos;float&apos;,</div><div class="line">      &apos;width&apos;,</div><div class="line">      &apos;height&apos;,</div><div class="line">      &apos;max-width&apos;,</div><div class="line">      &apos;max-height&apos;,</div><div class="line">      &apos;min-width&apos;,</div><div class="line">      &apos;min-height&apos;,</div><div class="line">      &apos;padding&apos;,</div><div class="line">      &apos;padding-top&apos;,</div><div class="line">      &apos;padding-right&apos;,</div><div class="line">      &apos;padding-bottom&apos;,</div><div class="line">      &apos;padding-left&apos;,</div><div class="line">      &apos;margin&apos;,</div><div class="line">      &apos;margin-top&apos;,</div><div class="line">      &apos;margin-right&apos;,</div><div class="line">      &apos;margin-bottom&apos;,</div><div class="line">      &apos;margin-left&apos;,</div><div class="line">      &apos;margin-collapse&apos;,</div><div class="line">      &apos;margin-top-collapse&apos;,</div><div class="line">      &apos;margin-right-collapse&apos;,</div><div class="line">      &apos;margin-bottom-collapse&apos;,</div><div class="line">      &apos;margin-left-collapse&apos;,</div><div class="line">      &apos;overflow&apos;,</div><div class="line">      &apos;overflow-x&apos;,</div><div class="line">      &apos;overflow-y&apos;,</div><div class="line">      &apos;clip&apos;,</div><div class="line">      &apos;clear&apos;,</div><div class="line">      &apos;font&apos;,</div><div class="line">      &apos;font-family&apos;,</div><div class="line">      &apos;font-size&apos;,</div><div class="line">      &apos;font-smoothing&apos;,</div><div class="line">      &apos;osx-font-smoothing&apos;,</div><div class="line">      &apos;font-style&apos;,</div><div class="line">      &apos;font-weight&apos;,</div><div class="line">      &apos;hyphens&apos;,</div><div class="line">      &apos;src&apos;,</div><div class="line">      &apos;line-height&apos;,</div><div class="line">      &apos;letter-spacing&apos;,</div><div class="line">      &apos;word-spacing&apos;,</div><div class="line">      &apos;color&apos;,</div><div class="line">      &apos;text-align&apos;,</div><div class="line">      &apos;text-decoration&apos;,</div><div class="line">      &apos;text-indent&apos;,</div><div class="line">      &apos;text-overflow&apos;,</div><div class="line">      &apos;text-rendering&apos;,</div><div class="line">      &apos;text-size-adjust&apos;,</div><div class="line">      &apos;text-shadow&apos;,</div><div class="line">      &apos;text-transform&apos;,</div><div class="line">      &apos;word-break&apos;,</div><div class="line">      &apos;word-wrap&apos;,</div><div class="line">      &apos;white-space&apos;,</div><div class="line">      &apos;vertical-align&apos;,</div><div class="line">      &apos;list-style&apos;,</div><div class="line">      &apos;list-style-type&apos;,</div><div class="line">      &apos;list-style-position&apos;,</div><div class="line">      &apos;list-style-image&apos;,</div><div class="line">      &apos;pointer-events&apos;,</div><div class="line">      &apos;cursor&apos;,</div><div class="line">      &apos;background&apos;,</div><div class="line">      &apos;background-attachment&apos;,</div><div class="line">      &apos;background-color&apos;,</div><div class="line">      &apos;background-image&apos;,</div><div class="line">      &apos;background-position&apos;,</div><div class="line">      &apos;background-repeat&apos;,</div><div class="line">      &apos;background-size&apos;,</div><div class="line">      &apos;border&apos;,</div><div class="line">      &apos;border-collapse&apos;,</div><div class="line">      &apos;border-top&apos;,</div><div class="line">      &apos;border-right&apos;,</div><div class="line">      &apos;border-bottom&apos;,</div><div class="line">      &apos;border-left&apos;,</div><div class="line">      &apos;border-color&apos;,</div><div class="line">      &apos;border-image&apos;,</div><div class="line">      &apos;border-top-color&apos;,</div><div class="line">      &apos;border-right-color&apos;,</div><div class="line">      &apos;border-bottom-color&apos;,</div><div class="line">      &apos;border-left-color&apos;,</div><div class="line">      &apos;border-spacing&apos;,</div><div class="line">      &apos;border-style&apos;,</div><div class="line">      &apos;border-top-style&apos;,</div><div class="line">      &apos;border-right-style&apos;,</div><div class="line">      &apos;border-bottom-style&apos;,</div><div class="line">      &apos;border-left-style&apos;,</div><div class="line">      &apos;border-width&apos;,</div><div class="line">      &apos;border-top-width&apos;,</div><div class="line">      &apos;border-right-width&apos;,</div><div class="line">      &apos;border-bottom-width&apos;,</div><div class="line">      &apos;border-left-width&apos;,</div><div class="line">      &apos;border-radius&apos;,</div><div class="line">      &apos;border-top-right-radius&apos;,</div><div class="line">      &apos;border-bottom-right-radius&apos;,</div><div class="line">      &apos;border-bottom-left-radius&apos;,</div><div class="line">      &apos;border-top-left-radius&apos;,</div><div class="line">      &apos;border-radius-topright&apos;,</div><div class="line">      &apos;border-radius-bottomright&apos;,</div><div class="line">      &apos;border-radius-bottomleft&apos;,</div><div class="line">      &apos;border-radius-topleft&apos;,</div><div class="line">      &apos;content&apos;,</div><div class="line">      &apos;quotes&apos;,</div><div class="line">      &apos;outline&apos;,</div><div class="line">      &apos;outline-offset&apos;,</div><div class="line">      &apos;outline-width&apos;,</div><div class="line">      &apos;outline-style&apos;,</div><div class="line">      &apos;outline-color&apos;,</div><div class="line">      &apos;opacity&apos;,</div><div class="line">      &apos;filter&apos;,</div><div class="line">      &apos;visibility&apos;,</div><div class="line">      &apos;size&apos;,</div><div class="line">      &apos;zoom&apos;,</div><div class="line">      &apos;transform&apos;,</div><div class="line">      &apos;box-align&apos;,</div><div class="line">      &apos;box-flex&apos;,</div><div class="line">      &apos;box-orient&apos;,</div><div class="line">      &apos;box-pack&apos;,</div><div class="line">      &apos;box-shadow&apos;,</div><div class="line">      &apos;box-sizing&apos;,</div><div class="line">      &apos;table-layout&apos;,</div><div class="line">      &apos;animation&apos;,</div><div class="line">      &apos;animation-delay&apos;,</div><div class="line">      &apos;animation-duration&apos;,</div><div class="line">      &apos;animation-iteration-count&apos;,</div><div class="line">      &apos;animation-name&apos;,</div><div class="line">      &apos;animation-play-state&apos;,</div><div class="line">      &apos;animation-timing-function&apos;,</div><div class="line">      &apos;animation-fill-mode&apos;,</div><div class="line">      &apos;transition&apos;,</div><div class="line">      &apos;transition-delay&apos;,</div><div class="line">      &apos;transition-duration&apos;,</div><div class="line">      &apos;transition-property&apos;,</div><div class="line">      &apos;transition-timing-function&apos;,</div><div class="line">      &apos;background-clip&apos;,</div><div class="line">      &apos;backface-visibility&apos;,</div><div class="line">      &apos;resize&apos;,</div><div class="line">      &apos;appearance&apos;,</div><div class="line">      &apos;user-select&apos;,</div><div class="line">      &apos;interpolation-mode&apos;,</div><div class="line">      &apos;direction&apos;,</div><div class="line">      &apos;marks&apos;,</div><div class="line">      &apos;page&apos;,</div><div class="line">      &apos;set-link-source&apos;,</div><div class="line">      &apos;unicode-bidi&apos;,</div><div class="line">      &apos;speak&apos;,</div><div class="line">    ],</div><div class="line">  &#125;,</div><div class="line">&#125;;</div></pre></td></tr></table></figure>
<img src="/2020/03/23/saber-lint/stylelint.png" width="500" title="错误提示">
<h2 id="格式检查"><a href="#格式检查" class="headerlink" title="格式检查"></a>格式检查</h2><ul>
<li>VSCode 中添加 <strong>Prettier - Code formatter</strong> 插件，参考 <a href="https://prettier.io" target="_blank" rel="external">prettier 官网</a> 进行配置，配置完成可用 Alt + Shift + F 进行代码格式化</li>
<li>项目添加 eslint-config-prettier、eslint-plugin-prettier 包</li>
<li>项目根目录添加 .prettierrc.js 文件，内容如下</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">// .prettierrc.js 文件</div><div class="line">module.exports = &#123;</div><div class="line">  &quot;singleQuote&quot;: false, // 字符串是否使用单引号，默认为false，使用双引号</div><div class="line">  &quot;trailingComma&quot;: &quot;none&quot;, // 是否使用尾逗号，有三个可选值&quot;&lt;none|es5|all&gt;&quot;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<img src="/2020/03/23/saber-lint/prettier.png" title="格式化">
<h2 id="Git-Hook"><a href="#Git-Hook" class="headerlink" title="Git Hook"></a>Git Hook</h2><ul>
<li>利用 git 的 hooks 机制，在提交 commit 时自动调用格式校验</li>
<li>项目安装 husky、lint-staged 包</li>
<li>package.json 中添加如下内容</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">// package.json 文件</div><div class="line">&#123;</div><div class="line">	...</div><div class="line">  &quot;lint-staged&quot;: &#123;</div><div class="line">    &quot;*.js&quot;: [</div><div class="line">      &quot;vue-cli-service lint&quot;,</div><div class="line">      &quot;git add&quot;</div><div class="line">    ],</div><div class="line">    &quot;*.&#123;css,less,scss,sss&#125;&quot;: [</div><div class="line">      &quot;stylelint --fix&quot;,</div><div class="line">      &quot;git add&quot;</div><div class="line">    ],</div><div class="line">    &quot;*.vue&quot;: [</div><div class="line">      &quot;vue-cli-service lint&quot;,</div><div class="line">      &quot;git add&quot;</div><div class="line">    ]</div><div class="line">  &#125;,</div><div class="line">  &quot;husky&quot;: &#123;</div><div class="line">    &quot;hooks&quot;: &#123;</div><div class="line">      &quot;pre-commit&quot;: &quot;lint-staged&quot;</div><div class="line">    &#125;</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<img src="/2020/03/23/saber-lint/githook.png" title="Git Hook 执行">

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2020/03/23/saber-base/" itemprop="url">
                  Saber-基础
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2020-03-23T11:14:21+08:00" content="2020-03-23">
              2020-03-23
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Saber/" itemprop="url" rel="index">
                    <span itemprop="name">Saber</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <img src="/2020/03/23/saber-base/saber-base.png" title="Saber 基础">
<p><a href="/2020/03/23/saber-base/Saber 学习.xmind">下载源文件</a></p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2020/01/07/nolan-model/" itemprop="url">
                  诺兰模型
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2020-01-07T14:10:55+08:00" content="2020-01-07">
              2020-01-07
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Other/" itemprop="url" rel="index">
                    <span itemprop="name">Other</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>诺兰认为，任何组织由手工信息系统向以计算机为基础的信息系统发展时，都存在着一条客观的发展道路和规律。数据处理的发展涉及到技术的进步、应用的拓展、计划和控制策略的变化以及用户的状况四个方面。1979年，诺兰将计算机信息系统的发展道路划分为六个阶段。诺兰强调，任何组织在实现以计算机为基础的信息系统时都必须从一个阶段发展到下一个阶段，不能实现跳跃式发展。</p>
<p>诺兰模型的六个阶段分别是：初始阶段、传播阶段、控制阶段、集成阶段、数据管理阶段和成熟阶段。</p>
<p>六阶段模型反映了企业计算机应用发展的规律性，前三个阶段具有计算机时代的特征，后三个阶段具有信息时代的特征，其转折点处是进行信息资源规划的时机。”诺兰模型”的预见性，被其后国际上许多企业的计算机应用发展情况所证实。</p>
<img src="/2020/01/07/nolan-model/nuolan.jpg" title="诺兰6阶段模型">

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2019/12/25/css-grid/" itemprop="url">
                  CSS-网格布局
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2019-12-25T10:55:31+08:00" content="2019-12-25">
              2019-12-25
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/CSS/" itemprop="url" rel="index">
                    <span itemprop="name">CSS</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p><a href="http://www.ruanyifeng.com/blog/2019/03/grid-layout-tutorial.html" target="_blank" rel="external">CSS Grid 网格布局教程</a></p>
<h2 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h2><p>Grid 布局与 Flex 布局有一定的相似性，都可以指定容器内部多个项目的位置。但是，Flex 布局是轴线布局，只能指定”项目”针对轴线的位置，可以看作是一维布局。Grid 布局则是将容器划分成”行”和”列”，产生单元格，然后指定”项目所在”的单元格，可以看作是二维布局。Grid 布局远比 Flex 布局强大。</p>
<p>采用网格布局的区域，称为”容器”（container）。容器内部采用网格定位的子元素，称为”项目”（item）。项目只能是容器的顶层子元素，不包含项目的子元素。Grid 布局只对项目生效。Grid 布局的属性分成两类，一类定义在容器上面，称为容器属性；另一类定义在项目上面，称为项目属性。</p>
<p>容器里面的水平区域称为”行”（row），垂直区域称为”列”（column）。行和列的交叉区域，称为”单元格”（cell）。划分网格的线，称为”网格线”（grid line）。</p>
<h2 id="容器属性"><a href="#容器属性" class="headerlink" title="容器属性"></a>容器属性</h2><h3 id="display"><a href="#display" class="headerlink" title="display"></a>display</h3><p><code>display: grid</code> 指定一个容器内部采用网格布局，块级元素<br><code>display: inline-grid</code> 指定一个容器内部采用网格布局，行内元素</p>
<p>容器设为网格布局以后，子元素（项目）的 <code>float</code>、<code>display: inline-block</code>、<code>display: table-cell</code>、<code>vertical-align</code> 和 <code>column-*</code> 等设置都将失效。</p>
<h3 id="大小"><a href="#大小" class="headerlink" title="大小"></a>大小</h3><p><code>grid-template-columns</code> 属性设置每一列的列宽<br><code>grid-template-rows</code> 属性设置每一行的行高<br><code>grid-auto-columns</code> 属性设置浏览器自动创建的多余网格的列宽<br><code>grid-auto-rows</code> 属性设置浏览器自动创建的多余网格的行高</p>
<p>有时候，一些项目的指定位置，在现有网格的外部。这时，浏览器会自动生成多余的网格，以便放置项目。如果不指定 <code>grid-auto-columns</code> 和 <code>grid-auto-rows</code> 这两个属性，浏览器完全根据单元格内容的大小，决定新增网格的列宽和行高。</p>
<p>(1) 绝对单位或百分比</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.container</span> &#123;</div><div class="line">  <span class="attribute">display</span>: grid;</div><div class="line">  <span class="attribute">grid-template-columns</span>: <span class="number">100px</span> <span class="number">100px</span> <span class="number">100px</span>;</div><div class="line">  <span class="attribute">grid-template-rows</span>: <span class="number">33.33%</span> <span class="number">33.33%</span> <span class="number">33.33%</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>(2) repeat()</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.container</span> &#123;</div><div class="line">  <span class="attribute">display</span>: grid;</div><div class="line">  <span class="attribute">grid-template-columns</span>: <span class="built_in">repeat</span>(3, 33.33%);</div><div class="line">  <span class="attribute">grid-template-rows</span>: <span class="built_in">repeat</span>(3, 100px 20px 80px);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>(3) fr</p>
<p>表示比例关系，可以与绝对长度的单位结合使用</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.container</span> &#123;</div><div class="line">  <span class="attribute">display</span>: grid;</div><div class="line">  <span class="attribute">grid-template-columns</span>: <span class="number">100px</span> <span class="number">1</span>fr <span class="number">2</span>fr;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>(4) minmax()</p>
<p>表示长度就在这个范围之中</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.container</span> &#123;</div><div class="line">  <span class="attribute">display</span>: grid;</div><div class="line">  <span class="attribute">grid-template-columns</span>: <span class="number">1</span>fr <span class="number">1</span>fr <span class="built_in">minmax</span>(100px, 1fr);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>(5) auto</p>
<p>表示由浏览器自己决定长度</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.container</span> &#123;</div><div class="line">  <span class="attribute">display</span>: grid;</div><div class="line">  <span class="attribute">grid-template-columns</span>: <span class="number">100px</span> auto <span class="number">100px</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>(6) auto-fit</p>
<p>限制单元格的最小宽度，如果容器宽度足够就平均分配剩余空间给每个子元素</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.container</span> &#123;</div><div class="line">  <span class="attribute">display</span>: grid;</div><div class="line">  <span class="attribute">grid-template-columns</span>: <span class="built_in">repeat</span>(auto-fit, minmax(50px, 1fr));</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>(7) auto-fill</p>
<p>限制单元格的最小宽度，如果容器宽度足够保留剩余空间，不进行分配</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.container</span> &#123;</div><div class="line">  <span class="attribute">display</span>: grid;</div><div class="line">  <span class="attribute">grid-template-columns</span>: <span class="built_in">repeat</span>(auto-fill, minmax(50px, 1fr));</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<img src="/2019/12/25/css-grid/auto-fit.png" title="auto-fit VS. auto-fill">
<p>(8) 网格线名称</p>
<p>使用方括号，指定每一根网格线的名字，同一根线可以有多个名字</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.container</span> &#123;</div><div class="line">  <span class="attribute">display</span>: grid;</div><div class="line">  <span class="attribute">grid-template-columns</span>: [c1] <span class="number">100px</span> [c2] <span class="number">100px</span> [c3] auto [c4 right-line];</div><div class="line">  <span class="attribute">grid-template-rows</span>: [r1] <span class="number">100px</span> [r2] <span class="number">100px</span> [r3] auto [r4 bottom-line];</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="间距"><a href="#间距" class="headerlink" title="间距"></a>间距</h3><p><code>grid-column-gap</code> 属性设置列间距<br><code>grid-row-gap</code> 属性设置行间距<br><code>grid-gap: &lt;grid-row-gap&gt; &lt;grid-column-gap&gt;</code> 合并简写形式</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.container</span> &#123;</div><div class="line">  <span class="attribute">display</span>: grid;</div><div class="line">  <span class="attribute">grid-row-gap</span>: <span class="number">20px</span>;</div><div class="line">  <span class="attribute">grid-column-gap</span>: <span class="number">20px</span>;</div><div class="line">  <span class="attribute">grid-gap</span>: <span class="number">20px</span>;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="区域"><a href="#区域" class="headerlink" title="区域"></a>区域</h3><p><code>grid-template-areas</code> 指定”区域”（area），一个区域由单个或多个单元格组成，如果某些区域不需要利用，则使用”点”（.），每个区域的起始网格线，会自动命名为 <code>区域名-start</code>，终止网格线自动命名为 <code>区域名-end</code></p>
<figure class="highlight"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div><div class="line">45</div><div class="line">46</div><div class="line">47</div><div class="line">48</div><div class="line">49</div></pre></td><td class="code"><pre><div class="line">&lt;style&gt;</div><div class="line">.area &#123;</div><div class="line">    display: grid;</div><div class="line">    width: calc(5 * 60px);</div><div class="line">    height: calc(5 * 60px);</div><div class="line">    background: white;</div><div class="line">    grid-template-rows: repeat(5, 60px);</div><div class="line">    grid-template-columns: repeat(5, 60px);</div><div class="line">    grid-template-areas: ".  g  g  g  . " "o_ .  .  .  . " "o  .  e  e  . " "o  .  .  .  l " ".  g_ g_ g_ . ";</div><div class="line">&#125;</div><div class="line"></div><div class="line">.g &#123;</div><div class="line">    grid-area: g;</div><div class="line">    background: #ea4335;</div><div class="line">&#125;</div><div class="line">.o_ &#123;</div><div class="line">    grid-area: o_;</div><div class="line">    background: #ff9800;</div><div class="line">&#125;</div><div class="line">.o &#123;</div><div class="line">    grid-area: o;</div><div class="line">    background: #fbbc05;</div><div class="line">&#125;</div><div class="line">.g_ &#123;</div><div class="line">    grid-area: g_;</div><div class="line">    background: #34a853;</div><div class="line">&#125;</div><div class="line">.l &#123;</div><div class="line">    grid-area: l;</div><div class="line">    background: #00bcd4;</div><div class="line">&#125;</div><div class="line">.e &#123;</div><div class="line">    grid-area: e;</div><div class="line">    background: #4285f4;</div><div class="line">&#125;</div><div class="line">.x &#123;</div><div class="line">    grid-area: x;</div><div class="line">    background: #9e9e9e;</div><div class="line">&#125;</div><div class="line">&lt;/style&gt;</div><div class="line"></div><div class="line">&lt;div class="area"&gt;</div><div class="line">    &lt;div class="g"&gt;&lt;/div&gt;</div><div class="line">    &lt;div class="o_"&gt;&lt;/div&gt;</div><div class="line">    &lt;div class="o"&gt;&lt;/div&gt;</div><div class="line">    &lt;div class="g_"&gt;&lt;/div&gt;</div><div class="line">    &lt;div class="l"&gt;&lt;/div&gt;</div><div class="line">    &lt;div class="e"&gt;&lt;/div&gt;</div><div class="line">&lt;/div&gt;</div></pre></td></tr></table></figure>
<img src="/2019/12/25/css-grid/area.png" width="300" title="area 效果图">
<h3 id="顺序"><a href="#顺序" class="headerlink" title="顺序"></a>顺序</h3><p><code>grid-auto-flow</code> 默认值是 row，即”先行后列”，也可以将它设成 column，表示”先列后行”；row dense 表示”先行后列并且尽可能紧密填满”，column dense 表示”先列后行并且尽量填满空格”</p>
<h3 id="容器对齐"><a href="#容器对齐" class="headerlink" title="容器对齐"></a>容器对齐</h3><p><code>justify-content</code> 属性是整个内容区域在容器里面的水平位置（左中右）<br><code>align-content</code> 属性是整个内容区域的垂直位置（上中下）<br><code>place-content: &lt;align-content&gt; &lt;justify-content&gt;</code> 合并简写形式</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.container</span> &#123;</div><div class="line">  <span class="attribute">justify-content</span>: start | end | center | stretch | space-around | space-between | space-evenly;</div><div class="line">  <span class="attribute">align-content</span>: start | end | center | stretch | space-around | space-between | space-evenly;  </div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="项目对齐"><a href="#项目对齐" class="headerlink" title="项目对齐"></a>项目对齐</h3><p><code>justify-items</code> 属性设置单元格内容的水平位置（左中右）<br><code>align-items</code> 属性设置单元格内容的垂直位置（上中下）<br><code>place-items: &lt;align-items&gt; &lt;justify-items&gt;</code> 合并简写形式</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.container</span> &#123;</div><div class="line">  <span class="attribute">justify-items</span>: start | end | center | <span class="built_in">stretch</span>(默认);</div><div class="line">  <span class="attribute">align-items</span>: start | end | center | <span class="built_in">stretch</span>(默认);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h3 id="合并简写"><a href="#合并简写" class="headerlink" title="合并简写"></a>合并简写</h3><p><code>grid-template</code> 属性是 <code>grid-template-columns</code>、<code>grid-template-rows</code> 和 <code>grid-template-areas</code> 的合并简写形式</p>
<p><code>grid</code> 属性是 <code>grid-template-rows</code>、<code>grid-template-columns</code>、<code>grid-template-areas</code>、<code>grid-auto-rows</code>、<code>grid-auto-columns</code> 和 <code>grid-auto-flow</code> 的合并简写形式</p>
<h2 id="项目属性"><a href="#项目属性" class="headerlink" title="项目属性"></a>项目属性</h2><h3 id="位置"><a href="#位置" class="headerlink" title="位置"></a>位置</h3><p><code>grid-column-start</code> 属性设置项目左边框所在的垂直网格线，值为数字或网格线的名字<br><code>grid-column-end</code> 属性设置项目右边框所在的垂直网格线，值为数字或网格线的名字<br><code>grid-row-start</code> 属性设置项目上边框所在的水平网格线，值为数字或网格线的名字<br><code>grid-row-end</code> 属性设置项目下边框所在的水平网格线，值为数字或网格线的名字</p>
<p>上面四个属性的值可以为数字、网格线的名字，也可以使用 <code>span</code> 关键字，表示”跨越”，即左右边框（上下边框）之间跨越多少个网格。使用这四个属性，如果产生了项目的重叠，则使用 <code>z-index</code> 属性指定项目的重叠顺序。</p>
<p><code>grid-column: &lt;grid-column-start&gt;/&lt;grid-column-end&gt;</code> 属性是 <code>grid-column-start</code> 和 <code>grid-column-end</code> 的合并简写形式<br><code>grid-row: &lt;grid-row-start&gt;/&lt;grid-row-end&gt;</code> 属性是 <code>grid-row-start</code> 和 <code>grid-row-end</code> 的合并简写形式<br><code>grid-area</code> 属性指定项目放在哪一个区域，值可为区域名称或 <code>&lt;row-start&gt; / &lt;column-start&gt; / &lt;row-end&gt; / &lt;column-end&gt;</code> 的合并简写形式</p>
<h3 id="对齐"><a href="#对齐" class="headerlink" title="对齐"></a>对齐</h3><p><code>justify-self</code> 属性设置单个单元格内容的水平位置（左中右）<br><code>align-self</code> 属性设置单个单元格内容的垂直位置（上中下）<br><code>place-self: &lt;align-self&gt; &lt;justify-self&gt;</code> 合并简写形式</p>
<figure class="highlight css"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line"><span class="selector-class">.item</span> &#123;</div><div class="line">  <span class="attribute">justify-self</span>: start | end | center | <span class="built_in">stretch</span>(默认);</div><div class="line">  <span class="attribute">align-self</span>: start | end | center | <span class="built_in">stretch</span>(默认);</div><div class="line">&#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2019/12/24/html-special-tag/" itemprop="url">
                  HTML-特殊标签
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2019-12-24T14:59:42+08:00" content="2019-12-24">
              2019-12-24
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/HTML/" itemprop="url" rel="index">
                    <span itemprop="name">HTML</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div></pre></td><td class="code"><pre><div class="line"><span class="meta">&lt;!DOCTYPE html&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">"en"</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">"UTF-8"</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>HTML特殊标签<span class="tag">&lt;/<span class="name">title</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></div><div class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></div><div class="line">    <span class="comment">&lt;!-- 带有一定样式，不提倡使用的标签，目前HTML5仍然保留 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">b</span>&gt;</span>b加粗<span class="tag">&lt;/<span class="name">b</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">i</span>&gt;</span>i斜体<span class="tag">&lt;/<span class="name">i</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">tt</span>&gt;</span>tt打字机字体<span class="tag">&lt;/<span class="name">tt</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">small</span>&gt;</span>small小一些的字体<span class="tag">&lt;/<span class="name">small</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span></div><div class="line">    <span class="comment">&lt;!-- 带有明确语义的标签 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">del</span>&gt;</span>del删除<span class="tag">&lt;/<span class="name">del</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">ins</span>&gt;</span>ins添加<span class="tag">&lt;/<span class="name">ins</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">s</span>&gt;</span>s过时废弃<span class="tag">&lt;/<span class="name">s</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">sup</span>&gt;</span>sup上标<span class="tag">&lt;/<span class="name">sup</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">sub</span>&gt;</span>sub下标<span class="tag">&lt;/<span class="name">sub</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">mark</span>&gt;</span>mark特别强调<span class="tag">&lt;/<span class="name">mark</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">em</span>&gt;</span>em强调<span class="tag">&lt;/<span class="name">em</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">strong</span>&gt;</span>strong着重<span class="tag">&lt;/<span class="name">strong</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">dfn</span>&gt;</span>definition定义<span class="tag">&lt;/<span class="name">dfn</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">code</span>&gt;</span>code代码<span class="tag">&lt;/<span class="name">code</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">samp</span>&gt;</span>samp例子代码<span class="tag">&lt;/<span class="name">samp</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">kbd</span>&gt;</span>kbd用户输入<span class="tag">&lt;/<span class="name">kbd</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">var</span>&gt;</span>variable变量<span class="tag">&lt;/<span class="name">var</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">cite</span>&gt;</span>cite引用<span class="tag">&lt;/<span class="name">cite</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span></div><div class="line">    <span class="comment">&lt;!-- 英文单词过长时，根据浏览器宽度指定单词换行时机裁切换行 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">p</span>&gt;</span>To learn AJAX, you must be familiar with the XMLHttpRequest Object.To learn AJAX, you must be familiar with the XMLHttp<span class="tag">&lt;<span class="name">wbr</span>&gt;</span>Request Object.<span class="tag">&lt;/<span class="name">p</span>&gt;</span></div><div class="line">    <span class="comment">&lt;!-- 既表达语义又带有一定样式的标签 --&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">address</span>&gt;</span>address地址<span class="tag">&lt;/<span class="name">address</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">blockquote</span>&gt;</span>blockquote缩进<span class="tag">&lt;/<span class="name">blockquote</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">q</span>&gt;</span>q小引用<span class="tag">&lt;/<span class="name">q</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">pre</span>&gt;</span>pre预格式化标签<span class="tag">&lt;/<span class="name">pre</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">abbr</span> <span class="attr">title</span>=<span class="string">"中华人民共和国"</span>&gt;</span>abbr简写<span class="tag">&lt;/<span class="name">abbr</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">br</span>&gt;</span></div><div class="line">    <span class="tag">&lt;<span class="name">bdo</span> <span class="attr">dir</span>=<span class="string">"rtl"</span>&gt;</span>bdo反向<span class="tag">&lt;/<span class="name">bdo</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></div><div class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></div></pre></td></tr></table></figure>
<img src="/2019/12/24/html-special-tag/tag.png" title="效果图">

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2019/12/11/service-worker/" itemprop="url">
                  PWA
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2019-12-11T15:59:48+08:00" content="2019-12-11">
              2019-12-11
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/前端知识/" itemprop="url" rel="index">
                    <span itemprop="name">前端知识</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="PWA"><a href="#PWA" class="headerlink" title="PWA"></a>PWA</h2><p>PWA 就是渐进式 web 应用(Progressive Web App)。早在2016年初，Google 便提出 PWA，希望提供更强大的 web 体验，引导开发者回归开放互联网。它弥补了 web 对比 Native App 急缺的几个能力，比如离线使用、后台加载、添加到主屏和消息推送等，同时它还具备了小程序标榜的“无需安装、用完即走”的特性。目的就是在移动端利用提供的标准化框架，在网页应用中实现和原生应用相近的用户体验的渐进式网页应用。虽然 PWA 技术已经被 W3C 列为标准，但是其落地情况一直以来是很让人失望的，始终受到苹果的阻碍，最重要的原因在于 PWA 绕过 Apple Store 审核，直接推给用户。</p>
<p>如 <a href="https://cn.vuejs.org/" target="_blank" rel="external">Vue.js 官网</a> <a href="https://react.docschina.org/" target="_blank" rel="external">React 官网</a></p>
<h3 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h3><ul>
<li>可靠的——即时加载，即使在不确定的网络条件下也不会受到影响</li>
<li>快速的——快速响应用，用平滑的动画和滚动快速响应用户交互</li>
<li>迷人的——感觉就像设备上的原生应用程序，具有沉浸式的用户体验</li>
</ul>
<h3 id="核心技术"><a href="#核心技术" class="headerlink" title="核心技术"></a>核心技术</h3><ul>
<li>Web App Manifest</li>
<li>Service Worker</li>
<li>Cache API</li>
<li>Push &amp; Notification</li>
<li>App Shell &amp; App Skeleton</li>
<li>Background Sync</li>
</ul>
<h2 id="Web-App-Manifest"><a href="#Web-App-Manifest" class="headerlink" title="Web App Manifest"></a>Web App Manifest</h2><p>实现添加至主屏。Web应用程序中，可以通过 manifest.json 控制应用程序的显示方式和启动方式，指定主屏幕图标、启动应用程序时要加载的页面、屏幕方向，甚至可以指定是否显示浏览器 Chrome。<a href="https://developer.mozilla.org/zh-CN/docs/Web/Manifest" target="_blank" rel="external">Manifest 参考文档</a></p>
<h2 id="Service-Worker"><a href="#Service-Worker" class="headerlink" title="Service Worker"></a>Service Worker</h2><p>实现离线缓存。由于 JavaScript 是单线程的，随着 web 业务的复杂化，开发者逐渐在 js 中做了许多耗费资源的运算过程，这使得单线程的弊端更加凹显。web worker 正是基于此被创造出来，它是脱离在主线程之外的，我们可以将复杂耗费时间的事情交给 web worker 来做。但是 web worker 作为一个独立的线程，它的功能应当不仅于此。Service Worker 便是在 web worker 的基础上增加了离线缓存的能力。当然在 Service Worker 之前也有在 HTML5 上做离线缓存的 API 叫 AppCache, 但是 AppCache 存在很多缺点。<a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Service_Worker_API/Using_Service_Workers" target="_blank" rel="external">Service Worker 参考文档</a> <a href="https://github.com/GoogleChrome/workbox" target="_blank" rel="external">GoogleChrome/workbox 库</a></p>
<p>Service Worker 是由事件驱动的，具有生命周期，可以拦截处理页面的所有网络请求(fetch)，可以访问 cache 和 indexDB，支持推送，并且可以让开发者自己控制管理缓存的内容以及版本，为离线弱网环境下的 web 的运行提供了可能，让 web 在体验上更加贴近 native。</p>
<h3 id="基本特征"><a href="#基本特征" class="headerlink" title="基本特征"></a>基本特征</h3><ul>
<li>不能操作页面 DOM，但可以通过事件机制来处理</li>
<li>事件驱动型服务线程</li>
<li>必须使用 HTTPS 和 localhost</li>
<li>运行于浏览器后台，不受页面刷新的影响，可以监听和截拦作用域范围内所有页面的 HTTP 请求</li>
<li>单独的作用域范围，单独的运行环境和执行线程，与主线程独立不会被阻塞</li>
<li>完全异步，无法使用 XHR 和 localStorage</li>
<li>一旦被 install，就永远存在，除非被 uninstall 或者 dev 模式手动删除</li>
</ul>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/4/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/4/">4</a><span class="page-number current">5</span><a class="page-number" href="/page/6/">6</a><span class="space">&hellip;</span><a class="page-number" href="/page/17/">17</a><a class="extend next" rel="next" href="/page/6/"><i class="fa fa-angle-right"></i></a>
  </nav>



          </div>
          


          

        </div>
       
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">小朱</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="//cdn.jsdelivr.net/jquery/2.1.3/jquery.min.js"></script>

  
  <script type="text/javascript" src="//cdn.jsdelivr.net/fastclick/1.0.6/fastclick.min.js"></script>

  
  <script type="text/javascript" src="//cdn.jsdelivr.net/jquery.lazyload/1.9.3/jquery.lazyload.min.js"></script>

  
  <script type="text/javascript" src="//cdn.jsdelivr.net/velocity/1.2.3/velocity.min.js"></script>

  
  <script type="text/javascript" src="//cdn.jsdelivr.net/velocity/1.2.3/velocity.ui.min.js"></script>

  
  <script type="text/javascript" src="//cdn.jsdelivr.net/fancybox/2.1.5/jquery.fancybox.pack.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.0.1"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  



  



  
  
  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
       search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body").append('<div class="popoverlay">').css('overflow', 'hidden');
      $('.popup').toggle();

    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
    'use strict';
    $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
            // get the contents from search data
            isfetched = true;

            $('.popup').detach().appendTo('.container');
            //$('.popup').detach().appendTo('.header-inner');

            var datas = $( "entry", xmlResponse ).map(function() {
                return {
                    title: $( "title", this ).text(),
                    content: $("content",this).text(),
                    url: $( "url" , this).text()
                };
            }).get();
            var $input = document.getElementById(search_id);
            var $resultContent = document.getElementById(content_id);
            $input.addEventListener('input', function(){
                var matchcounts = 0;
                var str='<ul class=\"search-result-list\">';                
                var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                $resultContent.innerHTML = "";
                if (this.value.trim().length > 1) {
                // perform local searching
                datas.forEach(function(data) {
                    var isMatch = true;
                    var content_index = [];
                    var data_title = data.title.trim().toLowerCase();
                    var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                    var data_url = data.url;
                    var index_title = -1;
                    var index_content = -1;
                    var first_occur = -1;
                    // only match artiles with not empty titles and contents
                    if(data_title != '' && data_content != '') {
                        keywords.forEach(function(keyword, i) {
                            index_title = data_title.indexOf(keyword);
                            index_content = data_content.indexOf(keyword);
                            if( index_title < 0 && index_content < 0 ){
                                isMatch = false;
                            } else {
                                if (index_content < 0) {
                                    index_content = 0;
                                }
                                if (i == 0) {
                                    first_occur = index_content;
                                }
                            }
                        });
                    }
                    // show search results
                    if (isMatch) {
                        matchcounts += 1;
                        str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                        var content = data.content.trim().replace(/<[^>]+>/g,"");
                        if (first_occur >= 0) {
                            // cut out 100 characters
                            var start = first_occur - 20;
                            var end = first_occur + 80;
                            if(start < 0){
                                start = 0;
                            }
                            if(start == 0){
                                end = 50;
                            }
                            if(end > content.length){
                                end = content.length;
                            }
                            var match_content = content.substring(start, end);
                            // highlight all keywords
                            keywords.forEach(function(keyword){
                                var regS = new RegExp(keyword, "gi");
                                match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                            });
                            
                            str += "<p class=\"search-result\">" + match_content +"...</p>"
                        }
                        str += "</li>";
                    }
                })};
                str += "</ul>";
                if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
                if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
                $resultContent.innerHTML = str;
            });
            proceedsearch();
        }
    });}

    // handle and trigger popup window;
    $('.popup-trigger').mousedown(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };

    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".popoverlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>

  

  

  

</body>
</html>
