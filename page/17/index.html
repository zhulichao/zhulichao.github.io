<!doctype html>



  


<html class="theme-next pisces use-motion">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>



<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />












  
  
    
  
  <link href="//cdn.jsdelivr.net/fancybox/2.1.5/jquery.fancybox.min.css" rel="stylesheet" type="text/css" />




  
  
  
  

  

  

  

  

  

  






  

<link href="//maxcdn.bootstrapcdn.com/font-awesome/4.6.2/css/font-awesome.min.css" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.0.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="Hexo, NexT" />





  <link rel="alternate" href="/atom.xml" title="前端学习之路" type="application/atom+xml" />




  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.0.1" />






<meta name="description" content="前端学习之路">
<meta property="og:type" content="website">
<meta property="og:title" content="前端学习之路">
<meta property="og:url" content="https://zhulichao.github.io/page/17/index.html">
<meta property="og:site_name" content="前端学习之路">
<meta property="og:description" content="前端学习之路">
<meta property="og:locale" content="zh-Hans">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="前端学习之路">
<meta name="twitter:description" content="前端学习之路">



<script type="text/javascript" id="hexo.configuration">
  var NexT = window.NexT || {};
  var CONFIG = {
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post"},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: undefined,
      author: '博主'
    }
  };
</script>

  <title> 前端学习之路 </title>
</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  



  <script type="text/javascript">
    var _hmt = _hmt || [];
    (function() {
      var hm = document.createElement("script");
      hm.src = "//hm.baidu.com/hm.js?41d77ee7657d4e19a7f8a6361fe2121f";
      var s = document.getElementsByTagName("script")[0];
      s.parentNode.insertBefore(hm, s);
    })();
  </script>








  
  
    
  

  <div class="container one-collumn sidebar-position-left 
   page-home 
 ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-meta ">
  

  <div class="custom-logo-site-title">
    <a href="/"  class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <span class="site-title">前端学习之路</span>
      <span class="logo-line-after"><i></i></span>
    </a>
  </div>
  <p class="site-subtitle"></p>
</div>

<div class="site-nav-toggle">
  <button>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
    <span class="btn-bar"></span>
  </button>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-categories">
          <a href="/categories" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-th"></i> <br />
            
            分类
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="#" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      

  <div class="popup">
 <span class="search-icon fa fa-search"></span>
 <input type="text" id="local-search-input">
 <div id="local-search-result"></div>
 <span class="popup-btn-close">close</span>
</div>

    </div>
  
</nav>

 </div>
      
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel  sidebar-panel-active ">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/uploads/me.png"
               alt="小朱" />
          <p class="site-author-name" itemprop="name">小朱</p>
          <p class="site-description motion-element" itemprop="description">前端学习之路</p>
        </div>
        <nav class="site-state motion-element">
          <div class="site-state-item site-state-posts">
            <a href="/archives">
              <span class="site-state-item-count">168</span>
              <span class="site-state-item-name">日志</span>
            </a>
          </div>

          
            <div class="site-state-item site-state-categories">
              <a href="/categories">
                <span class="site-state-item-count">37</span>
                <span class="site-state-item-name">分类</span>
              </a>
            </div>
          

          
            <div class="site-state-item site-state-tags">
              <a href="/tags">
                <span class="site-state-item-count">37</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        
          <div class="feed-link motion-element">
            <a href="/atom.xml" rel="alternate">
              <i class="fa fa-rss"></i>
              RSS
            </a>
          </div>
        

        <div class="links-of-author motion-element">
          
            
              <span class="links-of-author-item">
                <a href="https://github.com/zhulichao" target="_blank" title="GitHub">
                  
                    <i class="fa fa-fw fa-github"></i>
                  
                  GitHub
                </a>
              </span>
            
          
        </div>

        
        

        
        
          <div class="links-of-blogroll motion-element links-of-blogroll-inline">
            <div class="links-of-blogroll-title">
              <i class="fa  fa-fw fa-globe"></i>
              友情链接
            </div>
            <ul class="links-of-blogroll-list">
              
                <li class="links-of-blogroll-item">
                  <a href="http://www.jikexueyuan.com/" title="极客学院" target="_blank">极客学院</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://caniuse.com" title="caniuse" target="_blank">caniuse</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://codepen.io" title="codepen" target="_blank">codepen</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://jsbin.com/?html,css,output" title="JS Bin" target="_blank">JS Bin</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://babeljs.io/repl/" title="Babel在线编译" target="_blank">Babel在线编译</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://www.iconfinder.com/iconsets/miu" title="Iconfinder图标" target="_blank">Iconfinder图标</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="http://www.bejson.com/" title="在线JSON格式化" target="_blank">在线JSON格式化</a>
                </li>
              
                <li class="links-of-blogroll-item">
                  <a href="https://img.top/" title="智能图像压缩" target="_blank">智能图像压缩</a>
                </li>
              
            </ul>
          </div>
        

      </section>

      

    </div>
  </aside>


        
    </header>
 
    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            
  <section id="posts" class="posts-expand">
    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/09/18/css-layout1/" itemprop="url">
                  CSS-布局基础1
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-09-18T21:08:17+08:00" content="2016-09-18">
              2016-09-18
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/CSS/" itemprop="url" rel="index">
                    <span itemprop="name">CSS</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="display属性"><a href="#display属性" class="headerlink" title="display属性"></a>display属性</h2><p>大多数元素的默认值通常是 block 或 inline 。一个 block 元素通常被叫做块级元素。一个 inline 元素通常被叫做行内元素。注意是控制当前元素的，而不是其内部元素。  </p>
<p><strong>none:</strong></p>
<ul>
<li>在不删除元素的情况下隐藏元素，不会保留元素本该显示的空间    </li>
<li>visibility:hidden 会保留元素的空间  </li>
</ul>
<p><strong>block:</strong> </p>
<ul>
<li>前后有换行符，如不指定宽度，会尽可能撑满容器  </li>
<li>高度，行高及顶和底边距都可控制   </li>
<li>常见块级元素：<code>div、p、form、header、footer、section</code>等</li>
</ul>
<p><strong>inline（默认）:</strong> </p>
<ul>
<li>前后没有换行符、不撑满容器  </li>
<li>高，行高及顶和底边距不可改变  </li>
<li>包裹一些文字而不会打乱段落的布局</li>
</ul>
<p><strong>inline-block:</strong>  </p>
<ul>
<li>将对象呈递为内联对象，但是对象的内容作为块对象呈递（准确地说，应用此特性的元素呈现为内联对象，周围元素保持在同一行，但可以设置宽度和高度地块元素的属性）  </li>
<li>可以实现浮动（float）的效果，如果HTML源代码中元素之间有空格，那么元素之间会产生空隙，使用float不会有空隙；但不能实现float的文字环绕图片  </li>
<li>如果不设置width和height，会按元素的内容大小显示  </li>
<li>这一行的高度为该行内最大高度的元素高度，vertical-align属性会影响到元素在垂直方向的对齐方式  </li>
</ul>
<p><strong>list-item:</strong> </p>
<ul>
<li>此元素会作为列表显示，如果不设置width和height，每个列表项尽可能撑满容器</li>
</ul>
<p><strong>flex:</strong>  </p>
<ul>
<li>详见下文</li>
</ul>
<p><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/display" target="_blank" rel="external">display其它属性值详细列表</a>  </p>
<hr>
<h2 id="Flexbox-布局"><a href="#Flexbox-布局" class="headerlink" title="Flexbox 布局"></a>Flexbox 布局</h2><p>参考阮一峰的网络日志：<br><a href="http://www.ruanyifeng.com/blog/2015/07/flex-grammar.html" target="_blank" rel="external">《Flex 布局教程：语法篇》</a><br><a href="http://www.ruanyifeng.com/blog/2015/07/flex-examples.html" target="_blank" rel="external">《Flex 布局教程：实例篇》</a>  </p>
<blockquote>
<p><code>display: flex |inline-flex</code> </p>
<p>指定Flex布局后，子元素的float、clear和vertical-align属性将失效</p>
<p>几个基本概念： 容器、项目、主轴、交叉轴</p>
</blockquote>
<h3 id="容器的属性"><a href="#容器的属性" class="headerlink" title="容器的属性"></a>容器的属性</h3><p><strong>flex-direction</strong>  </p>
<ul>
<li>主轴的方向（即项目的排列方向） </li>
<li>row | row-reverse | column | column-revers</li>
</ul>
<p><strong>flex-wrap</strong> </p>
<ul>
<li>owrap | wrap | wrap-reverse</li>
<li>一条轴线排不下，如何换行  </li>
</ul>
<p><strong>flex-flow</strong></p>
<ul>
<li>flex-direction属性和flex-wrap属性的简写形式  </li>
<li>默认值为row nowrap</li>
</ul>
<p><strong>justify-content</strong></p>
<ul>
<li>项目在主轴上的对齐方式</li>
<li>flex-start | flex-end | center | space-between | space-around</li>
</ul>
<p><strong>align-items</strong></p>
<ul>
<li>项目在交叉轴上的对齐方式</li>
<li>flex-start | flex-end | center | baseline | stretch</li>
</ul>
<p><strong>align-content</strong></p>
<ul>
<li>多根轴线的对齐方式。如果项目只有一根轴线，该属性不起作用</li>
<li>flex-start | flex-end | center | space-between | space-around | stretch</li>
</ul>
<h3 id="项目的属性"><a href="#项目的属性" class="headerlink" title="项目的属性"></a>项目的属性</h3><p><strong>order</strong></p>
<ul>
<li>项目的排列顺序，数值越小，排列越靠前</li>
<li>整数，默认为0</li>
</ul>
<p><strong>flex-grow</strong></p>
<ul>
<li>项目的放大比例，0表示如果存在剩余空间，也不放大</li>
<li>整数，默认为0</li>
<li>如果所有项目的属性都为1，则它们将等分剩余空间；如果一个项目的属性为2，其他项目都为1，则前者占据的剩余空间将比其他项多一倍</li>
</ul>
<p><strong>flex-shrink</strong></p>
<ul>
<li>项目的缩小比例，1表示如果空间不足，该项目将缩小</li>
<li>非负整数，默认为1</li>
<li>如果所有项目的属性都为1，当空间不足时，都将等比例缩小；如果一个项目的属性为0，其他项目都为1，则空间不足时，前者不缩小</li>
</ul>
<p><strong>flex-basis</strong></p>
<ul>
<li>在分配多余空间之前，项目占据的主轴空间，浏览器根据这个属性，计算主轴是否有多余空间</li>
<li>[length] | auto，默认为auto</li>
<li>可以设为跟width或height属性一样的值，则项目将占据固定空间</li>
</ul>
<p><strong>flex</strong>  </p>
<ul>
<li>flex-grow, flex-shrink 和 flex-basis的简写，后两个属性可选</li>
<li>默认值为 0 1 auto</li>
<li>none (0 0 auto) 表示无论窗口如何变化宽度不变</li>
<li>auto (1 1 auto) 表示空间足够时放大，空间不足时缩小</li>
<li>initial (0 1 auto) 表示空间足够时不放大，空间不足时缩小</li>
<li>建议优先使用这个属性，因为浏览器会推算相关值</li>
</ul>
<p><strong>align-self</strong></p>
<ul>
<li>允许单个项目有与其他项目不一样的对齐方式，可覆盖align-items属性</li>
<li>auto | flex-start | flex-end | center | baseline | stretch，默认值为auto</li>
<li>auto 表示继承父元素的align-items属性，如果没有父元素，则等同于stretch</li>
</ul>
<hr>
<h2 id="多列布局"><a href="#多列布局" class="headerlink" title="多列布局"></a>多列布局</h2><p>CSS3多列布局可以自动将内容按指定的列数排列，这种特性实现的布局效果和报纸、杂志排版非常相似。<br>常用属性如下：</p>
<p><strong>column-width:</strong></p>
<blockquote>
<p>auto 默认值，元素多列的列宽由其它属性决定，没有显示设置的情况下，将默认显示一列<br>[length] 数值和长度单位组成，非负；如果单独使用，容器超出列宽时显示多列，小于列宽时显示一列</p>
</blockquote>
<p><strong>column-count:</strong></p>
<blockquote>
<p>auto 默认值，表示元素只有一列，依靠浏览器计算自动设置<br>[integer] 正整数值，定义想要的列数和最大列数，当容器没有足够空间来包含具有指定宽度的列数，元素列数会自动往下计算；如果单独使用，显示固定列数<br>列数 = (容器宽度 - 列间距)/列宽 向下取整</p>
</blockquote>
<p><strong>columns:</strong></p>
<blockquote>
<p>column-width和column-count的缩写</p>
</blockquote>
<p><strong>column-gap:</strong></p>
<blockquote>
<p>normal 默认值，一般情况相当于1em<br>[length] 浮点数据和单位标识符组成的长度值，非负，常用px、em单位的任何整数值；<br>如果同时设置了column-width属性，可能会导致列被撑破，使列数减1</p>
</blockquote>
<p><strong>column-rule:</strong></p>
<blockquote>
<p>定义列之间的边框宽度、样式、颜色，类似border属性，但不占用任何空间位置<br>[column-rule-width]|[column-rule-style]|[column-rule-color]<br>默认值分别为 medium | none | 前景色color值<br>如果column-rule-width宽度超过列间距，列边框就会消失</p>
</blockquote>
<p><strong>column-span:</strong></p>
<blockquote>
<p>定义一个分列元素中的子元素能跨多少列<br>none 默认值，表示不跨任何列<br>all 表示跨所有列，并定位在列的Z轴之上  </p>
</blockquote>
<p><strong>column-fill:</strong></p>
<blockquote>
<p>定义多列中每一列的高度是否统一<br>auto 默认值，各列的高度随其内容的变化自动变化<br>balance 各列的高度将会根据内容最多的一列的高度进行统一  </p>
</blockquote>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/09/14/ant-design-study/" itemprop="url">
                  Ant Design 组件学习经验
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-09-14T14:39:06+08:00" content="2016-09-14">
              2016-09-14
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/Ant-Design/" itemprop="url" rel="index">
                    <span itemprop="name">Ant Design</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <hr>
<h2 id="Tree组件"><a href="#Tree组件" class="headerlink" title="Tree组件"></a>Tree组件</h2><p>参考 <a href="https://ant.design/components/tree-select/" target="_blank" rel="external">TreeSelect</a></p>
<h3 id="异步加载数据"><a href="#异步加载数据" class="headerlink" title="异步加载数据"></a>异步加载数据</h3><p>使用redux时，TreeSelect异步加载数据需要通过触发action调用后台获取数据，根据reducer更新的state显示出加载的数据。需添加loadData属性，值为一个方法，如onLoadData，内容如下。<br>这个函数的返回值好像必须是一个Promise对象，如果不这么写，会报<code>Uncaught TypeError: Cannot read property &#39;then&#39; of undefined(…)</code>。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div></pre></td><td class="code"><pre><div class="line">onLoadData(treeNode) &#123;</div><div class="line">    return new Promise((resolve) =&gt; &#123;</div><div class="line">        // 树形显示的数据在this.state.treeData中，在this.state.treeData中找到当前操作节点</div><div class="line">        const pathArr = treeNode.props.pos.split(&apos;-&apos;);</div><div class="line">        let findTreeNode = null;</div><div class="line">        for (let i=1,len=pathArr.length; i &lt; len ; i++) &#123;</div><div class="line">            if( i === 1)&#123;</div><div class="line">                findTreeNode = this.state.treeData[pathArr[i]];</div><div class="line">            &#125; else &#123;</div><div class="line">                findTreeNode = findTreeNode.children[pathArr[i]];</div><div class="line">            &#125;</div><div class="line">        &#125;</div><div class="line">        // 如果该节点没有子节点，表示没加载过其子节点，进行加载</div><div class="line">        if (findTreeNode.children.length &lt;= 0) &#123;</div><div class="line">            // 设置展开的节点为当前节点</div><div class="line">            this.state.openKey = treeNode.props.eventKey;</div><div class="line">            // 组织后台查询条件</div><div class="line">            const queryData = &#123;</div><div class="line">                LEVEL: 1, // TODO  不知道什么规则</div><div class="line">                _extWhere: this.state.queryData._extWhere,</div><div class="line">                PID: treeNode.props.eventKey,</div><div class="line">                NAME: treeNode.props.title,</div><div class="line">                checkstate: &apos;&apos;</div><div class="line">            &#125;</div><div class="line">            const dict = &#123;</div><div class="line">                dictId: this.state.dictId,</div><div class="line">                dictData: this.props.dict.dictData</div><div class="line">            &#125;</div><div class="line">            // 发起action，获取数据</div><div class="line">            this.props.updataDictByPid(this.props.servId, this.props.itemCode, objectUtils.clone(dict), queryData, this.props.servType, this.props.opeCode, this.props.queryServId);</div><div class="line">        &#125;</div><div class="line">        resolve();</div><div class="line">        &#125;);</div><div class="line">    &#125;</div></pre></td></tr></table></figure>
<hr>
<h2 id="Form组件"><a href="#Form组件" class="headerlink" title="Form组件"></a>Form组件</h2><p>参考 <a href="https://ant.design/components/form/" target="_blank" rel="external">Form</a> 和 <a href="http://react-component.github.io/form/" target="_blank" rel="external">rc-form</a></p>
<h3 id="使用mapPropsToFields和onFieldsChange的校验问题"><a href="#使用mapPropsToFields和onFieldsChange的校验问题" class="headerlink" title="使用mapPropsToFields和onFieldsChange的校验问题"></a>使用mapPropsToFields和onFieldsChange的校验问题</h3><p>Form组件如下方式使用，获取不到校验信息了，浏览器的控制台会有打印的校验结果，但没有反映在页面上，但如果不使用mapPropsToFields是好使的。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div></pre></td><td class="code"><pre><div class="line">// 必填校验</div><div class="line">const validateArray = [&#123;</div><div class="line">    rules: [&#123;</div><div class="line">        required: true,</div><div class="line">        message: &apos;邮箱必填&apos;</div><div class="line">    &#125;],</div><div class="line">    trigger: [&apos;onChange&apos;]</div><div class="line">&#125;];</div><div class="line"></div><div class="line">let fieldPropsOptions = &#123;</div><div class="line">    validate: validateArray</div><div class="line">&#125;;</div><div class="line">...</div><div class="line">&lt;FormItem</div><div class="line">    label=&quot;email&quot;</div><div class="line">    validateStatus=&#123;getFieldError(&apos;email&apos;) ? &apos;success&apos; : &apos;error&apos;&#125;</div><div class="line">    help=&#123;isFieldValidating(&apos;email&apos;) ? &apos;&apos; : errMessage&#125;</div><div class="line">&gt;</div><div class="line">    &lt;Input &#123;...getFieldProps(&apos;email&apos;, fieldPropsOptions)&#125; /&gt;;</div><div class="line">&lt;/FormItem&gt;</div><div class="line">...</div><div class="line">NewForm = Form.create(&#123;onFieldsChange, mapPropsToFields&#125;)(NewForm);</div></pre></td></tr></table></figure></p>
<p>解决方法是调用Form组件是传入一个props及更新该props的方法，如formErrItem、updateFormErrItem，在onFieldsChange中添加<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">function onFieldsChange(props, fields)&#123;</div><div class="line">    // 调用父组件更新formErrItem的方法</div><div class="line">    const newFormErrItem = &#123;</div><div class="line">        ...props.formErrItem,</div><div class="line">        ...fields,</div><div class="line">    &#125;;</div><div class="line">    props.updateFormErrItem(newFormErrItem);</div><div class="line">    ...</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p>在Form组件中通过，this.props.formErrItem可获取校验信息。</p>
<h3 id="ref引用"><a href="#ref引用" class="headerlink" title="ref引用"></a>ref引用</h3><p>在使用Form组件时，在Form.create时需要添加<code>withRef: true</code>才能获取到组件内部定义的方法或state。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div></pre></td><td class="code"><pre><div class="line">// MyForm.jsx中，定义了 MyForm 组件，是对Form组件的封装，返回的是antd的Form组件。</div><div class="line">class MyForm extends Component &#123;</div><div class="line">    render() &#123;</div><div class="line">        return &lt;Form /&gt;;</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">MyForm = Form.create(&#123;onFieldsChange, mapPropsToFields, withRef: true&#125;)(MyForm);</div><div class="line">export default MyForm;</div><div class="line">// App.jsx中，引用了MyForm组件，如果要引用到MyForm组件内部定义的方法或state，需要使用如下方式。</div><div class="line">class App extends Component &#123;</div><div class="line">    clickHandler() &#123;</div><div class="line">        // 引用MyForm组件中定义的方法或state</div><div class="line">        const formRef = this.refs.myForm.refs.wrappedComponent.refs.formWrappedComponent;</div><div class="line">    &#125;</div><div class="line">    render() &#123;</div><div class="line">        return (</div><div class="line">            &lt;div&gt;</div><div class="line">                &lt;MyForm ref=&quot;myForm&quot; /&gt;</div><div class="line">                &lt;Button onClick=&#123;this.clickHandler.bind(this)&#125;&gt;点击&lt;/Button&gt;</div><div class="line">            &lt;/div&gt;</div><div class="line">        );</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<hr>
<h2 id="Table组件"><a href="#Table组件" class="headerlink" title="Table组件"></a>Table组件</h2><p>参考 <a href="https://ant.design/components/table/" target="_blank" rel="external">Table</a></p>
<h3 id="单选"><a href="#单选" class="headerlink" title="单选"></a>单选</h3><p>如果Table组件中要进行单选，需要进行如下配置：</p>
<ul>
<li>将Table组件rowSelection属性的type值设置为radio，当前选中的数据由radioIndex控制</li>
<li>注意，ant-design的Table组件，对于单选类型的，无法自己管理radioIndex值，如果想要自己管理radioIndex值，需要在Table组件中添加如下代码<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">if ((&apos;radioIndex&apos; in nextProps) &amp;&amp; nextProps.radioIndex !== null ) &#123;</div><div class="line">    this.setState(&#123;</div><div class="line">        radioIndex: nextProps.radioIndex || null</div><div class="line">    &#125;);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="行样式"><a href="#行样式" class="headerlink" title="行样式"></a>行样式</h3><p>Table组件的rowClassName属性，如：<code>rowClassName={(record, index) =&gt; record[&#39;_delete_&#39;] ? &#39;ant-table-row-delete&#39; : &#39;&#39; }</code></p>
<h3 id="不显示页码"><a href="#不显示页码" class="headerlink" title="不显示页码"></a>不显示页码</h3><p>Table组件的pagination属性为false</p>
<h3 id="pagination"><a href="#pagination" class="headerlink" title="pagination"></a>pagination</h3><p>pagination.pageSize不为10、20、30、40中的值时，分页处显示的只有一个值，如15，而不是像10 条/页这样<br>需要给Table组件传入的pagination中有自定义的pageSizeOptions属性，该属性的值为所有需要显示的每页条数的数组</p>
<h3 id="列表勾选行样式问题"><a href="#列表勾选行样式问题" class="headerlink" title="列表勾选行样式问题"></a>列表勾选行样式问题</h3><p>在勾选列表行的checkbox或是列表可编辑的下拉框时，点击所在的行会发生颜色抖动，直接运行官方例子也有这个问题。后来发现可能是Chrome浏览器的问题，如果用360浏览器就不会有这个问题。很奇怪！</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/09/13/react-experience2/" itemprop="url">
                  React-学习经验2
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-09-13T08:44:03+08:00" content="2016-09-13">
              2016-09-13
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/React/" itemprop="url" rel="index">
                    <span itemprop="name">React</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="MVVM-Model-View-ViewModel"><a href="#MVVM-Model-View-ViewModel" class="headerlink" title="MVVM(Model-View-ViewModel)"></a>MVVM(Model-View-ViewModel)</h2><p>MVC—&gt;MVP—&gt;MVVM<br>MVVM框架的由来是MVP（Model-View-Presenter）模式与WPF（Windows Presentation Foundation）结合的应用方式时发展演变过来的一种新型架构框架。它立足于原有MVP框架并且把WPF的新特性糅合进去，以应对客户日益复杂的需求变化。<br>低耦合 可重用性 独立开发 可测试</p>
<h2 id="零散知识"><a href="#零散知识" class="headerlink" title="零散知识"></a>零散知识</h2><ul>
<li>ReactDOM.render(Component,dom) 执行后，这个dom还会存在，这个Component是在最外层。<br>感觉很奇怪  <figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">// 在componentDidMount方法中</div><div class="line">ReactDOM.render(this.state.customScript.buttonAndPopoverComponents(), document.getElementById(&lt;Button type=&quot;primary&quot;&gt;自定义添加的按钮&lt;/Button&gt;,&apos;ANTD_CDP_TABLE1_ZLC-btnBar_after&apos;));</div></pre></td></tr></table></figure>
</li>
</ul>
<img src="/2016/09/13/react-experience2/renderDOM.png" title="结果如图">
<h2 id="解析jsx"><a href="#解析jsx" class="headerlink" title="解析jsx"></a>解析jsx</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">return (  </div><div class="line">  &lt;div className=&quot;commentBox&quot;&gt;  </div><div class="line">    Hello, world! I am a CommentBox.  </div><div class="line">  &lt;/div&gt;  </div><div class="line">);</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">return (  </div><div class="line">  React.createElement(&apos;div&apos;, &#123;className: &quot;commentBox&quot;&#125;,  </div><div class="line">    &quot;Hello, world! I am a CommentBox.&quot;  </div><div class="line">  )  </div><div class="line">);</div></pre></td></tr></table></figure>
<p>Babel 设置匹配后缀，文件后缀为.jsx，就不会对&lt;报错。Babel之所以可以按照各种要求编译JavaScript代码文件，是因为使用了各种插件和预设(预设是插件的打包封装)。</p>
<h2 id="key-的作用"><a href="#key-的作用" class="headerlink" title="key 的作用"></a>key 的作用</h2><p>今天遇到了一个奇怪的现象，下面代码是在同一个页面中，点击不同按钮时显示单选或多选树，结果出现了错误，debugger调试时看到是组件在更新时出了问题，更新时没有找到正确的组件，先显示单选树再显示多选树会在单选的树上更新的，由于没有多选的一些属性而报错。解决办法就是放开注释的key属性，这样更新时就能找到相应的组件了。这是我第一次体会到key的作用。</p>
<p>善于 key 值得使用，如果不同的路由进入同一个组件，但要清空原有的所有状态，相当于是一个新组件的效果，使用不同的 key 值即可达到效果。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line">...</div><div class="line">render() &#123;</div><div class="line">    return (</div><div class="line">        &lt;div&gt;</div><div class="line">            &#123;</div><div class="line">                this.props.multi ?</div><div class="line">                    &lt;Tree</div><div class="line">                        // key=&quot;tree-multi&quot;</div><div class="line">                        checkable</div><div class="line">                        onCheck=&#123;this.onCheck&#125;</div><div class="line">                        checkedKeys=&#123;this.state.selectedKeys&#125;</div><div class="line">                    &gt;</div><div class="line">                        &#123;loop(this.props.userData)&#125;</div><div class="line">                    &lt;/Tree&gt;</div><div class="line">                :</div><div class="line">                    &lt;Tree</div><div class="line">                        // key=&quot;tree-single&quot;</div><div class="line">                        onSelect=&#123;this.onSelect&#125;</div><div class="line">                    &gt;</div><div class="line">                        &#123;loop(this.props.userData)&#125;</div><div class="line">                    &lt;/Tree&gt;</div><div class="line">            &#125;</div><div class="line">        &lt;/div&gt;</div><div class="line">    );</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="引用图片"><a href="#引用图片" class="headerlink" title="引用图片"></a>引用图片</h2><p>使用require静态资源，打包时会自动打入，不需要再处理静态资源。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;img src=&#123;require(&apos;../../resources/images/logo.png&apos;)&#125; /&gt;</div></pre></td></tr></table></figure>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">const url = `url($&#123;require(&quot;../../resources/images/banner-home.jpg&quot;)&#125;)`;</div><div class="line">&lt;div style=&#123;&#123;backgroundImage: url&#125;&#125; /&gt;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/09/13/es6-study/" itemprop="url">
                  ES6-学习
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-09-13T08:22:05+08:00" content="2016-09-13">
              2016-09-13
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/ES6/" itemprop="url" rel="index">
                    <span itemprop="name">ES6</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>最近看了<a href="http://es6.ruanyifeng.com/#docs/intro" target="_blank" rel="external">《ES6标准入门》</a>第二版，在对语法有了初步了解的基础上，首先建议真正开发前看一下该书第21章——编程风格，从开始就养成良好的编程风格。</p>
<h2 id="ES6语法"><a href="#ES6语法" class="headerlink" title="ES6语法"></a>ES6语法</h2><h3 id="编程风格"><a href="#编程风格" class="headerlink" title="编程风格"></a>编程风格</h3><p>let取代var，const优先<br>静态字符串使用单引号或反引号<br>为变量赋数组优先使用解构赋值<br>函数的参数如果是对象优先使用解构赋值<br>如果函数的返回多个值，优先使用对象的解构赋值而不是数组的解构赋值<br>单行定义的对象，最后一个成员不以逗号结尾，多行定义的对象，最后一个成员以逗号结尾<br>对象尽量静态化，可以使用Object.assign()添加属性<br>使用扩展运算符（…）赋值数组<br>需要使用函数表达式的场合尽量使用箭头函数<br>函数的所有配置项应集中在一个对象，防在最后一个参数<br>只有模拟实体对象时才使用Object，如果只是要key:value的数据结构则使用Map<br>不要export default 与 普通的export同时使用  </p>
<p><strong>以下是我在项目开发中使用到的、个人认为比较有用的ES6语法，总结如下：</strong></p>
<h3 id="let和const"><a href="#let和const" class="headerlink" title="let和const"></a>let和const</h3><p>let、const与var相比：</p>
<blockquote>
<p>使用未声明的变量，直接报错<br>重复声明同一个变量，直接报错<br>是块级作用域<br>必须声明 ‘use strict’ 后才能使用let声明变量</p>
</blockquote>
<p>用了 let、const，typeof 就不那么安全了。<br>声明宣称一个名字的存在，定义则为这个名字分配存储空间，而初始化则是为名字分配的存储空间赋初值。</p>
<h3 id="对象的扩展"><a href="#对象的扩展" class="headerlink" title="对象的扩展"></a>对象的扩展</h3><p>Object.keys()   – 返回对象的键组成的数组<br>Object.values() – 返回对象的值组成的数组<br>Object.assign() – 对象的合并    </p>
<h3 id="Generator函数"><a href="#Generator函数" class="headerlink" title="Generator函数"></a>Generator函数</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">// 定义</div><div class="line">function* helloWorldGenerator() &#123;</div><div class="line">    yield &apos;hello&apos;;</div><div class="line">    yield &apos;world&apos;;</div><div class="line">    return &apos;ending&apos;;</div><div class="line">&#125;</div><div class="line">// 调用</div><div class="line">var hw = helloWorldGenerator();</div><div class="line">hw.next();// &#123;value: &apos;hello&apos;, done: false&#125;</div><div class="line">hw.next();// &#123;value: &apos;world&apos;, done: false&#125;</div><div class="line">hw.next();// &#123;value: &apos;ending&apos;, done: true&#125;</div></pre></td></tr></table></figure>
<p>调用Generator函数后，函数并不执行，返回的也不是函数运行结果，而是一个指向内部状态的指针对象（Iterator对象），必须调用next方法，是的指针移向下一个状态。总之，Generator函数是分段执行的，yield语句是暂停执行的标记，而next方法可以恢复执行。<br><strong>Generator函数可以达到多个return的效果。</strong><br>for…of循环、扩展运算符（…）、解构赋值和Array.from方法内部调用的都是遍历器接口，因此可以将Generator函数返回的Iterator对象作为参数使用。<br><strong>调用Generator函数的返回结果可以类似数组使用</strong><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[...hw()]// [&apos;hello&apos;, &apos;world&apos;, &apos;ending&apos;]</div></pre></td></tr></table></figure></p>
<h3 id="字符串的扩展"><a href="#字符串的扩展" class="headerlink" title="字符串的扩展"></a>字符串的扩展</h3><p>includes()   – 返回布尔值，表示是否找到了参数字符串<br>startsWith() – 返回布尔值，表示参数字符串是否在源字符串的头部<br>endsWith()   – 返回布尔值，表示参数字符串是否在源字符串的尾部</p>
<h3 id="Class的取值函数（getter）和赋值函数（setter）"><a href="#Class的取值函数（getter）和赋值函数（setter）" class="headerlink" title="Class的取值函数（getter）和赋值函数（setter）"></a>Class的取值函数（getter）和赋值函数（setter）</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div></pre></td><td class="code"><pre><div class="line">class MyClass &#123;</div><div class="line">  constructor() &#123;</div><div class="line">    // ...</div><div class="line">  &#125;</div><div class="line">  get prop() &#123;</div><div class="line">    return &apos;getter&apos;;</div><div class="line">  &#125;</div><div class="line">  set prop(value) &#123;</div><div class="line">    console.log(&apos;setter: &apos;+value);</div><div class="line">  &#125;</div><div class="line">&#125;</div><div class="line">let inst = new MyClass();</div><div class="line">inst.prop = 123; // 调用 setter</div><div class="line">inst.prop; // 调用 getter</div></pre></td></tr></table></figure>
<hr>
<h2 id="ES7语法"><a href="#ES7语法" class="headerlink" title="ES7语法"></a>ES7语法</h2><h3 id="对象的解构赋值"><a href="#对象的解构赋值" class="headerlink" title="对象的解构赋值"></a>对象的解构赋值</h3><p>对象的解构赋值是ES7的语法，需要<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">需要安装依赖 npm install babel-preset-stage-0 --save-dev   </div><div class="line">并配置预设 presets: [&apos;es2015&apos;, &apos;stage-0&apos;, &apos;react&apos;]  </div><div class="line">使用 const newObj = &#123; ...oldObj &#125;;</div></pre></td></tr></table></figure></p>
<h3 id="async-await"><a href="#async-await" class="headerlink" title="async await"></a>async await</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div></pre></td><td class="code"><pre><div class="line">async search(item) &#123;</div><div class="line">  try &#123;</div><div class="line">    // 会等待setState执行之后再向下执行</div><div class="line">    await this.setState(&#123;</div><div class="line">      query: item</div><div class="line">    &#125;);</div><div class="line">    this.fetchData();</div><div class="line">  &#125; catch (error) &#123;</div><div class="line">    console.log(error);</div><div class="line">  &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/09/12/react-warning/" itemprop="url">
                  React-警告
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-09-12T14:52:43+08:00" content="2016-09-12">
              2016-09-12
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/React/" itemprop="url" rel="index">
                    <span itemprop="name">React</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="请求数据放在componentDidMount方法中的警告"><a href="#请求数据放在componentDidMount方法中的警告" class="headerlink" title="请求数据放在componentDidMount方法中的警告"></a>请求数据放在componentDidMount方法中的警告</h2><p>需要请求数据的，或者使用redux触发action请求数据，最终会更新组件的state时，这种操作最好放在componentDidMount中，我以前总认为这种准备工作要放在constructor方法中，会报下面的警告。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Warning: setState(...): Cannot update during an existing state transition (such as within `render` or another component&apos;s constructor). Render methods should be a pure function of props and state; constructor side-effects are an anti-pattern, but can be moved to `componentWillMount`.</div></pre></td></tr></table></figure></p>
<h2 id="类似数组的组件没有key属性的警告"><a href="#类似数组的组件没有key属性的警告" class="headerlink" title="类似数组的组件没有key属性的警告"></a>类似数组的组件没有key属性的警告</h2><p>类似数组的组件，如Col、li等，有多个值时需要加key属性，否则会报如下警告。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Warning: Each child in an array or iterator should have a unique &quot;key&quot; prop. Check the render method of `AdvSearch`.</div></pre></td></tr></table></figure></p>
<h2 id="react组件销毁后渲染其它组件报警告"><a href="#react组件销毁后渲染其它组件报警告" class="headerlink" title="react组件销毁后渲染其它组件报警告"></a>react组件销毁后渲染其它组件报警告</h2><p>可以将react组件销毁后渲染其它组件报警告<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">const dom = document.getElementById(&apos;item_code&apos;);</div><div class="line">if (dom !== null) &#123;</div><div class="line">    ReactDOM.unmountComponentAtNode(dom);</div><div class="line">    ReactDOM.render(&lt;Input placeholder=&quot;这是新渲染的组件&quot;/&gt;, dom);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<img src="/2016/09/12/react-warning/unmountWarning.png" title="结果如图">
<h2 id="IE11下报的render中Object类型错误"><a href="#IE11下报的render中Object类型错误" class="headerlink" title="IE11下报的render中Object类型错误"></a>IE11下报的render中Object类型错误</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">Unhandled promise rejection Invariant Violation: Objects are not valid as a React child (found: [object Generator]). If you meant to render a collection of children, use an array instead or wrap the object using createFragment(object) from the React add-ons. Check the render method of `QueryChoose`.</div></pre></td></tr></table></figure>
<p>原因是jsx中调用generator函数返回的结果没有进行解构。将<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">this.state.customScript[&apos;customRender&apos;]()</div></pre></td></tr></table></figure></p>
<p>改为<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">[...this.state.customScript[&apos;customRender&apos;]()]</div></pre></td></tr></table></figure></p>
<h2 id="IE11下报的deprecated错误"><a href="#IE11下报的deprecated错误" class="headerlink" title="IE11下报的deprecated错误"></a>IE11下报的deprecated错误</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">Warning: isMounted(...) is deprecated in plain JavaScript React classes. Instead, make sure to clean up subscriptions and pending requests in componentWillUnmount to prevent memory leaks.</div><div class="line">Warning: replaceState(...) is deprecated in plain JavaScript React classes. Refactor your code to use setState instead (see https://github.com/facebook/react/issues/3236).</div></pre></td></tr></table></figure>
<p>这个很奇怪，是发现在根组件App的render方法中有<code>console.log(this);</code>导致的警告，不明白为什么。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/09/12/react-experience1/" itemprop="url">
                  React-学习经验1
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-09-12T14:05:21+08:00" content="2016-09-12">
              2016-09-12
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/React/" itemprop="url" rel="index">
                    <span itemprop="name">React</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h2 id="React基础知识"><a href="#React基础知识" class="headerlink" title="React基础知识"></a>React基础知识</h2><p><strong>React</strong> 是一个声明式、高效、灵活的、创建用户界面的JavaScript库，本质是将图形界面（GUI）函数化。</p>
<p><strong>Universal渲染</strong> 指的是一套代码可以同时在服务端和客户端渲染。</p>
<p><strong>Redux</strong> 是一个JavaScript状态容器，提供可预测的状态管理。</p>
<p><strong>Webpack</strong> 是当下最热门的前端资源模块化管理和打包工具。</p>
<p><strong>开发服务器</strong>是可以为程序提供资源服务的服务器。通常情况下，在页面中引入的脚本文件等静态资源都放在硬盘中，使用了开发服务器，这些资源将被读到内存里，然后可以通过开发服务器的端口访问这些资源。webpack-dev-server就是开发服务器。</p>
<p><strong>组件</strong> 是一个函数或类，它决定了如何把数据变为视图。ReactElement是一个普通对象，描述了组件实例或DOM节点；组件实例则是组件类的实例化对象。</p>
<p><strong>ReactElement</strong> 就是大名鼎鼎的“虚拟DOM”，其本质是一个不可变对象，描述了一个组件的实例或一个DOM节点，包含组件的类型、属性以及子元素等信息。ReactElement不是组件的实例，不能在ReactElement中调用React组件的任何方法，它只是告诉React你想在屏幕上显示什么。JSX中的闭合标签就是ReactElement。对一个组件而言，props就是输入，ReactElement就是输出，也就是render方法的返回值。</p>
<p><strong>组件实例</strong> 是组件类的实例化对象，同样被用来管理内部状态、处理生命周期函数。ReactDOM.render方法返回的就是组件实例，某些组件方法中的this也指向组件实例，利用组件的Refs也可以获取组件实例。无状态函数是没有实例化对象的，因此无法使用生命周期函数，也没有内部状态。</p>
<h2 id="JSX返回多个组件"><a href="#JSX返回多个组件" class="headerlink" title="JSX返回多个组件"></a>JSX返回多个组件</h2><p>JSX中返回多个组件，如果不想包面包一层父节点，可以使用数组，注意要有key属性。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">const arr = [</div><div class="line">    &lt;h3 key=&#123;0&#125;&gt;第一个组件&lt;/h3&gt;,</div><div class="line">    &lt;h2 key=&#123;1&#125;&gt;第二个组件&lt;/h2&gt;,</div><div class="line">];</div></pre></td></tr></table></figure></p>
<h2 id="组件间交互方式"><a href="#组件间交互方式" class="headerlink" title="组件间交互方式"></a>组件间交互方式</h2><p>我个人常用的组件间交互的方式有：</p>
<ul>
<li>如果是父子关系的组件，可以通过props由父组件将属性和回调方法传递给子组件进行交互</li>
<li>如果是兄弟关系的组件，可以将需要交互的属性和方法提取到共同的父组件中，通过props传递给这两个兄弟组件进行交互</li>
<li>如果是兄弟关系的组件，如A、B，且需要在B中使用A的属性，这个属性是A特有的，不能直接提取到公共父组件中，那么可以在父组件的state中添加一个属性，如form，初始值为null，在A的可以componentDidMount方法中对父组件的form属性进行赋值，这样就可以让B使用A特有的属性</li>
<li>可以使用redux进行交互</li>
</ul>
<h2 id="render方法外渲染组件"><a href="#render方法外渲染组件" class="headerlink" title="render方法外渲染组件"></a>render方法外渲染组件</h2><p>在render方法外也可以渲染组件，但需要在render方法中预留好div，如<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div></pre></td><td class="code"><pre><div class="line">// 正常渲染的组件</div><div class="line">class CommonComponent extends Component &#123;</div><div class="line">	render() &#123;</div><div class="line">		return (</div><div class="line">			&lt;div&gt;</div><div class="line">				&lt;Button&gt;正常显示的组件&lt;/Button&gt;</div><div class="line">				&lt;div id=&quot;specialComponent&quot;&gt;&lt;/div&gt;</div><div class="line">			&lt;/div&gt;</div><div class="line">		);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line">// 在其他地方，个人认为应该在componentDidMount方法中</div><div class="line">componentDidMount() &#123;</div><div class="line">	const dom = document.getElementById(&apos;specialComponent&apos;);</div><div class="line">	if (dom !== null) &#123;</div><div class="line">		ReactDOM.render(&lt;Input placeholder=&quot;render外渲染的组件&quot; /&gt;, dom);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<p><strong>注意：</strong><br>如果采用这种特殊方式渲染的组件引用到了其父组件的props或state，还需要在componentDidUpdate方法中进行同样的在操作，否则这个特殊方式渲染的组件不会刷新。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div></pre></td><td class="code"><pre><div class="line">componentDidUpdate() &#123;</div><div class="line">	const dom = document.getElementById(&apos;specialComponent&apos;);</div><div class="line">	if (dom !== null) &#123;</div><div class="line">		ReactDOM.render(&lt;Input placeholder=&quot;render外渲染的组件&quot; /&gt;, dom);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="应避免使用style属性"><a href="#应避免使用style属性" class="headerlink" title="应避免使用style属性"></a>应避免使用style属性</h2><p>React可以通过给组件设置style属性，进行CSS样式控制，但是不建议这么做，最好是通过指定className来进行样式控制，方便维护。</p>
<h2 id="使用数据结构解决问题"><a href="#使用数据结构解决问题" class="headerlink" title="使用数据结构解决问题"></a>使用数据结构解决问题</h2><p>如果组件本身的属性无法支持某些功能，可以考虑通过定义数据结构进行解决，如对属性值进行拼接，再拆分，如菜单的key以ID%|%NAME的形式出现。</p>
<h2 id="与redux关联的组件ref问题"><a href="#与redux关联的组件ref问题" class="headerlink" title="与redux关联的组件ref问题"></a>与redux关联的组件ref问题</h2><p>如果组件（如QueryChoose）组件，是与redux相关联的，对于使用react-redux的情况，也就是组件外调用了connect方法，需要在connect方法的mapStateToProps参数的返回对象中，添加ref属性（如ref:’innerQueryChoose’），在外层组件A引用到QueryChoose时指定ref属性（如ref:’wapperQueryChoose’），则在A中调用QueryChoose组件的方法或属性时，这样引用。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">// A组件中</div><div class="line">this.refs.wapperQueryChoose.refs.innerQueryChoose.someMethod();</div></pre></td></tr></table></figure></p>
<h2 id="setTimeout更新state"><a href="#setTimeout更新state" class="headerlink" title="setTimeout更新state"></a>setTimeout更新state</h2><p>有时使用this.setState()更新组件的状态，不会反映到页面上，具体什么时候可以反映到页面上还不清楚，目前发现会出现这种现象的地方有两处：Tabs.TabPane内部的组件、Modal内部的组件。需要使用setTimeout才能达到更新状态的效果。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">setTimeout(() =&gt; &#123;</div><div class="line">	this.setState(&#123;</div><div class="line">		newState</div><div class="line">	&#125;);</div><div class="line">&#125;,0);</div></pre></td></tr></table></figure></p>
<h2 id="带着信息跳转路由"><a href="#带着信息跳转路由" class="headerlink" title="带着信息跳转路由"></a>带着信息跳转路由</h2><p>跳转到新路由时，需要带有某些信息，并且不想在url中显示这些信息<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">this.context.router.push(&#123;</div><div class="line">	pathname: &apos;xxxx&apos;,// 跳转的新路由</div><div class="line">	state: &#123;&#125;// 信息放在这里</div><div class="line">&#125;);</div></pre></td></tr></table></figure></p>
<p>在路由跳转的页面中，获取这些信息<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">const urlInfo = this.props.location.state;</div></pre></td></tr></table></figure></p>
<h2 id="Smart-Components-and-Dumb-Components"><a href="#Smart-Components-and-Dumb-Components" class="headerlink" title="Smart Components and Dumb Components"></a>Smart Components and Dumb Components</h2><p>也有叫Container Components and Presentational components的。</p>
<p><strong>Smart component：</strong><br>是连接Redux的组件(@connect)，一般不可复用，类似MVC的C层  </p>
<blockquote>
<p>描述事物怎样工作<br>不提供DOM标签和样式<br>提供数据，进行数据获取<br>发起action<br>存放在containers目录  </p>
</blockquote>
<p><strong>Dumb component：</strong><br>是纯粹的组件，一般可复用，类似MVC的V层  </p>
<blockquote>
<p>描述事物的样子<br>不依赖应用<br>直接收props，包括数据和回调方法<br>很少有自己的state，有也是跟UI相关的<br>存放在components目录  </p>
</blockquote>
<p>两者的共同点是：无状态，或者说状态提取到上层，统一由 redux 的 store 来管理。redux state -&gt; Smart component -&gt; Dumb component -&gt; Dumb component（通过 props 传递）。在实践中，少量 Dumb component 允许自带 UI 状态信息（组件 unmount 后，不需要保留 UI 状态）。<br>值得注意的是：Smart component 是应用更新状态的最小单元。实践中，可以将 route handlers 作为 Smart component，一个 Smart component 对应一个 reducer。</p>
<img src="/2016/09/12/react-experience1/smart-dumb-components.png" title="结果如图">
<h2 id="ref回调函数"><a href="#ref回调函数" class="headerlink" title="ref回调函数"></a>ref回调函数</h2><p>今天无意看到了ref可以使用回调函数的用法，这个回调函数在组件安装后立即执行，被引用的组件作为一个参数传递，且回调函数可以立即使用这个组件，或保存供以后使用(或实现这两种行为)。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&lt;TextInput ref=&#123;(node) =&gt; (this._input = node)&#125; /&gt;</div></pre></td></tr></table></figure></p>
<h2 id="将函数传递到父组件的state中"><a href="#将函数传递到父组件的state中" class="headerlink" title="将函数传递到父组件的state中"></a>将函数传递到父组件的state中</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div></pre></td><td class="code"><pre><div class="line">+---------------------------------------------------------+</div><div class="line">| +---------+                                             |</div><div class="line">| |C        |                                           A |</div><div class="line">| +---------+                                             |</div><div class="line">+---------------------------------------------------------+</div><div class="line">|                                                         |</div><div class="line">|                        Dashboard                        |</div><div class="line">|                                                         |</div><div class="line">|                                                         |</div><div class="line">|   +---------------------+    +----------------------+   |</div><div class="line">|   |    B                |    |                      |   |</div><div class="line">|   | +              +    |    +---------&gt;            |   |</div><div class="line">|   | |              |    |    |                      |   |</div><div class="line">|   | |   +          |    |    +-------------&gt;        |   |</div><div class="line">|   | |   |    +     |    |    |                      |   |</div><div class="line">|   | |   |    |     |    |    |                      |   |</div><div class="line">|   +-+---+----+-----+----+    +----------------------+   |</div><div class="line">|                                                         |</div><div class="line">+---------------------------------------------------------+</div></pre></td></tr></table></figure>
<p>A组件是B、C组件的公共祖先组件，C组件需要用到B组件的方法method，首先想到的是把method放到A中定义，然后传入B和C。但是如果不使用ref在A中定义无法获取B私有的状态和其它信息，而且实际中C是A的第一层子组件，B是A的第。我想到的解决方法是：A定义一个方法update接收参数更新自己的state，将update方法传入B中，B将method作为参数调用update方法，这样就将method定义为了A的state的一个属性，再传入C中，即可实现C中调用B中定义的方法。</p>
<h2 id="修改state的问题"><a href="#修改state的问题" class="headerlink" title="修改state的问题"></a>修改state的问题</h2><p>特别注意，当state中的属性是一个对象是，获取该对象进行属性值的修改后，页面当前不会按新状态显示，从react调试工具看该组件的状态时是修改后的值，可能操作几下页面会按新状态显示。原因是react不能直接修改state，如果是属性值是对象，需要进行深拷贝，修改值后在setState就没问题了。</p>
<h2 id="依赖更新的问题"><a href="#依赖更新的问题" class="headerlink" title="依赖更新的问题"></a>依赖更新的问题</h2><p>我和同事是同一套代码，没有任何不同，由于他npm install太慢，我把我的node_modules打成压缩包发给他，他的项目启动后会报一些奇怪的警告，我的就没有。执行完npm update就好了，很不明白这是为什么。</p>
<p>还有一个奇怪的问题，更新了antd依赖后，使用Tabs组件直接使用<tabs.tabpane>定义的内容可以显示，而调用一个方法返回<tabs.tabpane>会正常显示切换标签，切换后内容是空的，不报任何错误或警告。将整个node_modules删除后，重新安装依赖就正常了。</tabs.tabpane></tabs.tabpane></p>
<h2 id="Controller-View-Pattern"><a href="#Controller-View-Pattern" class="headerlink" title="Controller View Pattern"></a>Controller View Pattern</h2><p><a href="http://blog.andrewray.me/the-reactjs-controller-view-pattern/" target="_blank" rel="external">The ReactJS Controller View Pattern</a></p>
<h2 id="refs取不到组件的方法"><a href="#refs取不到组件的方法" class="headerlink" title="refs取不到组件的方法"></a>refs取不到组件的方法</h2><p>refs如果能取到组件的state和props，但是取不到组件定义的方法，可能是因为这些方法没有在构造函数中bind(this)。</p>
<h2 id="关于setState"><a href="#关于setState" class="headerlink" title="关于setState"></a>关于setState</h2><ul>
<li>如果setState函数的新状态没有改变当前状态，也会重新执行render方法</li>
<li>setState第二个参数可以是个回调函数，如果有些操作要求在界面重新渲染完成后进行，可以放在回调函数中<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div></pre></td><td class="code"><pre><div class="line">class CompB extends React.Component &#123;</div><div class="line">    render()&#123;</div><div class="line">		console.log(&quot;触发了CompB重新render&quot;)</div><div class="line">          	return (</div><div class="line">	            &lt;div&gt;</div><div class="line">	              	&lt;h1&gt;&#123;this.props.value&#125;&lt;/h1&gt;</div><div class="line">	            &lt;/div&gt;</div><div class="line">          	);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line">class CompA extends React.Component &#123;</div><div class="line">    constructor(props) &#123;</div><div class="line">        super(props);</div><div class="line">        this.state = &#123;</div><div class="line">            value: &apos;Hello, world!&apos;,</div><div class="line">        &#125;</div><div class="line">        this.onClick = this.onClick.bind(this);</div><div class="line">    &#125;</div><div class="line">    onClick() &#123;</div><div class="line">        this.setState(&#123;</div><div class="line">            value: &apos;你好！&apos;</div><div class="line">        &#125;, () =&gt; console.log(&quot;CompA的setState回调！&quot;));</div><div class="line">    &#125;</div><div class="line">    render()&#123;</div><div class="line">        console.log(&quot;触发了CompA重新render&quot;)</div><div class="line">        return (</div><div class="line">            &lt;div&gt;</div><div class="line">              	&lt;h1&gt;&#123;this.state.value&#125;&lt;/h1&gt;</div><div class="line">              	&lt;button onClick=&#123;this.onClick&#125;&gt;点击&lt;/button&gt;</div><div class="line">             	 &lt;hr/&gt;</div><div class="line">              	&lt;CompB value=&#123;this.state.value&#125; /&gt;</div><div class="line">            &lt;/div&gt;</div><div class="line">        );</div><div class="line">    &#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure>
</li>
</ul>
<img src="/2016/09/12/react-experience1/setState1.png" title="运行结果如图">
<h2 id="forceUpdate函数"><a href="#forceUpdate函数" class="headerlink" title="forceUpdate函数"></a>forceUpdate函数</h2><ul>
<li>会导致组件本身及其包含的所有级别的子组件重新读取、计算与渲染，与其同级的无关组件不会重新渲染</li>
<li>所有UI组件的生命周期函数都会按生命周期规则来执行，如先进入componentWillUpdate再进入render</li>
<li>不会调用shouldComponentUpdate来检查是否允许重新渲染</li>
<li>可以提供一个回调函数，这个回调函数将在所有组件渲染完成后被调用<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div></pre></td><td class="code"><pre><div class="line">class CompB extends React.Component &#123;</div><div class="line">    componentWillUpdate()&#123;</div><div class="line">        console.log(&quot;触发了CompB的componentWillUpdate：&quot;,this.props.value)</div><div class="line">    &#125;</div><div class="line">    render()&#123;</div><div class="line">        console.log(&quot;触发了CompB重新render：&quot;,this.props.value)</div><div class="line">        return (</div><div class="line">            &lt;div&gt;</div><div class="line">            	&lt;h1&gt;&#123;this.props.value&#125;&lt;/h1&gt;</div><div class="line">            &lt;/div&gt;</div><div class="line">        );</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">class CompA extends React.Component &#123;</div><div class="line">    constructor(props) &#123;</div><div class="line">        super(props);</div><div class="line">        this.state = &#123;</div><div class="line">            value: &apos;Hello, world!&apos;,</div><div class="line">        &#125;</div><div class="line">        this.onClick = this.onClick.bind(this);</div><div class="line">    &#125;</div><div class="line">    shouldComponentUpdate() &#123;</div><div class="line">        console.log(&quot;进入shouldComponentUpdate&quot;);</div><div class="line">    &#125;</div><div class="line">    onClick() &#123;</div><div class="line">        this.forceUpdate(() =&gt; console.log(&quot;渲染完成!!!&quot;));</div><div class="line">    &#125;</div><div class="line">    render()&#123;</div><div class="line">        console.log(&quot;触发了CompA重新render&quot;)</div><div class="line">        return (</div><div class="line">            &lt;div&gt;</div><div class="line">              	&lt;h1&gt;&#123;this.state.value&#125;&lt;/h1&gt;</div><div class="line">              	&lt;button onClick=&#123;this.onClick&#125;&gt;点击&lt;/button&gt;</div><div class="line">              	&lt;hr/&gt;</div><div class="line">              	&lt;CompB value=&quot;CompA的子组件&quot; /&gt;</div><div class="line">            &lt;/div&gt;</div><div class="line">        );</div><div class="line">    &#125;</div><div class="line">&#125;</div><div class="line">ReactDOM.render(</div><div class="line">    &lt;div&gt;&lt;CompA /&gt;&lt;CompB value=&quot;与CompA无关的组件&quot;/&gt;&lt;/div&gt;,</div><div class="line">    document.getElementById(&apos;example&apos;)</div><div class="line">);</div></pre></td></tr></table></figure>
</li>
</ul>
<img src="/2016/09/12/react-experience1/forceUpdate1.png" title="运行结果如图">
<h2 id="关于render函数"><a href="#关于render函数" class="headerlink" title="关于render函数"></a>关于render函数</h2><p>可以在自己的代码中调用这个函数以重新刷新组件，注意只刷新了组件本身，不会刷新子组件，但这不是一个好办法。如在点击按钮的onClick方法中可直接调用this.render()方法。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div></pre></td><td class="code"><pre><div class="line">class CompB extends React.Component &#123;</div><div class="line">	render()&#123;</div><div class="line">		console.log(&quot;触发了CompB重新render&quot;)</div><div class="line">		return (</div><div class="line">			&lt;div&gt;</div><div class="line">				&lt;h1&gt;&#123;this.props.value&#125;&lt;/h1&gt;</div><div class="line">			&lt;/div&gt;</div><div class="line">		);</div><div class="line">	&#125;</div><div class="line">&#125;</div><div class="line">class CompA extends React.Component &#123;</div><div class="line">	constructor(props) &#123;</div><div class="line">		super(props);</div><div class="line">		this.state = &#123;</div><div class="line">			value: &apos;Hello, world!&apos;,</div><div class="line">		&#125;</div><div class="line">		this.onClick = this.onClick.bind(this);</div><div class="line">	&#125;</div><div class="line">	onClick() &#123;</div><div class="line">		this.render();</div><div class="line">	&#125;</div><div class="line">	render()&#123;</div><div class="line">		console.log(&quot;触发了CompA重新render&quot;)</div><div class="line">		return (</div><div class="line">			&lt;div&gt;</div><div class="line">				&lt;h1&gt;&#123;this.state.value&#125;&lt;/h1&gt;</div><div class="line">				&lt;button onClick=&#123;this.onClick&#125;&gt;点击&lt;/button&gt;</div><div class="line">				&lt;hr/&gt;</div><div class="line">				&lt;CompB value=&#123;this.state.value&#125; /&gt;</div><div class="line">			&lt;/div&gt;</div><div class="line">		);</div><div class="line">	&#125;</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<img src="/2016/09/12/react-experience1/render1.png" title="运行结果如图">
<h2 id="组件定义外的代码"><a href="#组件定义外的代码" class="headerlink" title="组件定义外的代码"></a>组件定义外的代码</h2><p>在React和React Native都发现，在每次系统刷新时（刷新浏览器或重新打开App程序），个人感觉会执行一遍所有文件（在几类文件中都输出了日志），就像此时是对所有的组件进行一遍声明一样，后面用到的地方才是正式的引用。<strong>这里需要注意的是，所有的文件都会在系统刷新时执行一遍，如果在组件定义外部进行了一些操作，如获取数据，那这个时候获取对不对，如果获取数据需要用户登录信息，这是很可能没有登录信息，有没有做处理。</strong></p>
<h2 id="children属性"><a href="#children属性" class="headerlink" title="children属性"></a>children属性</h2><p>如果使用了<code>{this.props.children}</code>显示子组件，想给子组件传递一些属性，可以使用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">&#123;React.cloneElement(this.props.children, &#123;changeOpenState: this.changeOpenState&#125;)&#125;</div></pre></td></tr></table></figure>
<p>注意此时<code>this.props.children</code>是Object，如果<code>this.props.children</code>是数组，则需要遍历每个元素执行上面的cloneElement。</p>
<h2 id="监听浏览器窗口大小变化"><a href="#监听浏览器窗口大小变化" class="headerlink" title="监听浏览器窗口大小变化"></a>监听浏览器窗口大小变化</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line">handleResize() &#123;</div><div class="line">    console.log(&quot;输出&quot;)</div><div class="line">&#125;</div><div class="line">componentDidMount() &#123;</div><div class="line">    window.addEventListener(&apos;resize&apos;, this.handleResize);</div><div class="line">&#125;</div><div class="line">componentWillUnmount() &#123;</div><div class="line">    window.removeEventListener(&apos;resize&apos;, this.handleResize);</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="巧用setTimeout"><a href="#巧用setTimeout" class="headerlink" title="巧用setTimeout"></a>巧用setTimeout</h2><p>项目中遇到一个问题，点击按钮执行了一个更新值的操作，然后调用保存方法，发现保存方法中获取的值并不是更新后的值，感觉是更新后的值没有执行完页面刷新呢，就进入了保存方法。由于setTimeout是在下一轮开始时进行，所以使用setTimeout可使更新在本轮刷新完成后在执行保存操作，达到保存更新后的效果。<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">export function callSaveClickHandler() &#123;</div><div class="line">    const newData = &#123;</div><div class="line">        &apos;COL1&apos;: &apos;改变一个字段值&apos;,</div><div class="line">    &#125;;</div><div class="line">    this.props.cardActions.modifyCardChangedData(this.state.servDef.servDef.SERV_ID, newData, true, this.props.servType);</div><div class="line">    // 这样做的目的是样保存操作在下一轮开始时执行，这样才能获取到页面更新的内容</div><div class="line">    setTimeout(()=&gt;this.refs.btnBar.saveClickHandler(), 0);</div><div class="line">&#125;</div></pre></td></tr></table></figure></p>
<h2 id="巧用路由"><a href="#巧用路由" class="headerlink" title="巧用路由"></a>巧用路由</h2><p>/list路由对应的是List组件，该组件主体是一个Tabs组件，默认选中的是第一个Tab。在什么都不处理的情况下，选中不同的Tab不会改变路由，当进入下一个页面并想返回时，总是返回到同一个路由，并且每次选中的只能是第一个Tab，这样的用户体验不好，用户想要的是在进入其它页面前选中的是哪个Tab，返回到上一页面也应该选中哪个Tab。</p>
<p>我的解决方法是，在点击不同Tab时添加回调函数，在里面根据当前选中哪个Tab更新一次路由（this.context.router.replace），也就是路由为/list/tab1、/list/tab2、…这种形式，这样无论是哪种方式进入到相应的路由，只要从路由中取出第二个斜杠后的值，就可以知道当前页面应该选中哪个Tab了。这样相比两个独立页面的好处：非 tab 部分都是公用的，无需重新渲染；点击 tab 切换后滚动条不会回到顶部。</p>
<h2 id="阻止默认事件"><a href="#阻止默认事件" class="headerlink" title="阻止默认事件"></a>阻止默认事件</h2><p>项目中遇到的问题是，在使用Table组件时，定义了行点击事件，这时行首部的复选框、行中带连接的文字、输入框等，点击的时候都会触发行点击事件。解决方式是在Table行上的组件外包一层div，并添加如下点击事件。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div></pre></td><td class="code"><pre><div class="line">function stopPropagation(e) &#123;</div><div class="line">  e.stopPropagation();</div><div class="line">  e.nativeEvent.stopImmediatePropagation();</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<h2 id="Context"><a href="#Context" class="headerlink" title="Context"></a>Context</h2><p>使用props可以进行上下层组件间属性的传递，使用context可以实现跨层组件间属性的传递。适合使用context的场景包括床底登录信息、当前语言以及主题信息等。而且，react-redux的Provider组件就使用了context来传递store。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div><div class="line">43</div><div class="line">44</div></pre></td><td class="code"><pre><div class="line">class Level2 extends React.Component &#123;</div><div class="line">    render() &#123;</div><div class="line">        return (</div><div class="line">            &lt;div id=&quot;parent2&quot;&gt;</div><div class="line">                &lt;p&gt;&#123;this.context.name&#125;&lt;/p&gt;</div><div class="line">            &lt;/div&gt;</div><div class="line">        );</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line">Level2.contextTypes = &#123;</div><div class="line">    name: React.PropTypes.string.isRequired,</div><div class="line">&#125;;</div><div class="line"></div><div class="line">class Level1 extends React.Component &#123;</div><div class="line">    render() &#123;</div><div class="line">        return (</div><div class="line">            &lt;div id=&quot;parent1&quot;&gt;</div><div class="line">                &lt;Level2 /&gt;</div><div class="line">            &lt;/div&gt;</div><div class="line">        );</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line"></div><div class="line">class Root extends React.Component &#123;</div><div class="line">    // 注意如果name的属性值为null，会报警告，如下图所示</div><div class="line">    getChildContext() &#123;</div><div class="line">        return &#123;name: &apos;顶层属性&apos;&#125;;</div><div class="line">    &#125;</div><div class="line">    render() &#123;</div><div class="line">        return (</div><div class="line">            &lt;div id=&quot;parent&quot;&gt;</div><div class="line">                &lt;Level1 /&gt;</div><div class="line">            &lt;/div&gt;</div><div class="line">        );</div><div class="line">    &#125;</div><div class="line">&#125;;</div><div class="line">Root.childContextTypes = &#123;</div><div class="line">    name: React.PropTypes.string.isRequired,</div><div class="line">&#125;;</div><div class="line"></div><div class="line">ReactDOM.render(</div><div class="line">    &lt;Root /&gt;,</div><div class="line">    document.getElementById(&apos;example&apos;)</div><div class="line">);</div></pre></td></tr></table></figure>
<img src="/2016/09/12/react-experience1/null.png" title="getChildContext返回name为null">
<p>在使用中发现了一个问题，在一个组件提供的context值改变时，使用这个值的子节点并没有接受到context的改变，没有达到要跨级共享数据的效果。网上说可以在这个提供context组件值改变时执行setState这样就会更新了，但通常使用context都是在组件顶层，这样进行整个重新渲染感觉不太好。</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/09/04/html5-base/" itemprop="url">
                  HTML5-基础
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-09-04T14:55:34+08:00" content="2016-09-04">
              2016-09-04
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/HTML/" itemprop="url" rel="index">
                    <span itemprop="name">HTML</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <p>最近看的《HTML秘籍》，对HTML5有了初步的了解，总结如下。</p>
<h2 id="推出理由"><a href="#推出理由" class="headerlink" title="推出理由"></a>推出理由</h2><ul>
<li>Web浏览器之间兼容性低</li>
<li>文档结构不明确</li>
<li>Web应用程序功能受限制</li>
</ul>
<h2 id="主要原理"><a href="#主要原理" class="headerlink" title="主要原理"></a>主要原理</h2><ul>
<li>标准不应该引入导致已有网页无法工作的改变</li>
<li>标准化了非官方、但广泛应用的技术</li>
<li>以实用为目的</li>
</ul>
<h2 id="最佳实践"><a href="#最佳实践" class="headerlink" title="最佳实践"></a>最佳实践</h2><ul>
<li>包含可选的<code>&lt;html&gt;&lt;body&gt;&lt;head&gt;</code>元素</li>
<li>标签全部小写</li>
<li>为属性值加引号</li>
</ul>
<h2 id="元素家族"><a href="#元素家族" class="headerlink" title="元素家族"></a>元素家族</h2><p><strong>新增的元素</strong></p>
<blockquote>
<p>用于构建页面的语义元素 <code>&lt;article&gt;&lt;aside&gt;&lt;figcaption&gt;&lt;figure&gt;&lt;footer&gt;&lt;header&gt;&lt;nav&gt;&lt;section&gt;&lt;details&gt;&lt;summary&gt;</code></p>
<p>用于标识文本的语义元素 <code>&lt;mark&gt;&lt;time&gt;&lt;wbr&gt;</code></p>
<p>Web表单及交互 <code>&lt;input&gt;&lt;datalist&gt;&lt;keygen&gt;&lt;meter&gt;&lt;progress&gt;&lt;command&gt;&lt;menu&gt;&lt;output&gt;</code></p>
<p>音频、视频及插件 <code>&lt;autio&gt;&lt;video&gt;&lt;source&gt;&lt;embed&gt;</code></p>
<p>Canvas <code>&lt;canvas&gt;</code></p>
<p>非英语支持 <code>&lt;bdo&gt;&lt;rp&gt;&lt;rt&gt;&lt;ruby&gt;</code></p>
</blockquote>
<p><strong>删除的元素</strong></p>
<blockquote>
<p>为网页添加样式的元素，如 <code>&lt;big&gt;&lt;center&gt;&lt;font&gt;&lt;tt&gt;&lt;strike&gt;</code></p>
<p>HTML框架，如 <code>&lt;frameset&gt;&lt;frame&gt;</code>，但保留了 <code>&lt;iframe&gt;</code></p>
<p>冗余或容易导致误会的元素，如 <code>&lt;acronym&gt;&lt;applet&gt;</code></p>
</blockquote>
<p><strong>改变的元素</strong></p>
<blockquote>
<p>将旧元素用于新目的，如 <code>&lt;small&gt;&lt;hr&gt;&lt;s&gt;</code></p>
<p>停止从格式角度看问题，转换成具有真实逻辑含义的元素，如 <code>&lt;b&gt;&lt;i&gt;</code> 分别被 <code>&lt;strong&gt;&lt;em&gt;</code> 取代</p>
</blockquote>
<p><strong>调整的元素</strong></p>
<blockquote>
<p>调整了元素的使用规则，如 <code>&lt;address&gt;&lt;cite&gt;</code></p>
</blockquote>
<p><strong>标准化的元素</strong></p>
<blockquote>
<p><code>&lt;embed&gt;&lt;wbr&gt;</code></p>
</blockquote>
<h2 id="构建更好的表单"><a href="#构建更好的表单" class="headerlink" title="构建更好的表单"></a>构建更好的表单</h2><blockquote>
<p>改良了input元素，url、email、date、number、range等类型</p>
<p>占位水印 placeholder、自动获取焦点 autofocus</p>
<p>增加了表单验证，required、pattern、自定义验证</p>
<p>进度条 <code>&lt;progerss&gt;</code>、计量条 <code>&lt;meter&gt;</code></p>
</blockquote>
<h2 id="新增功能"><a href="#新增功能" class="headerlink" title="新增功能"></a>新增功能</h2><blockquote>
<p>音频、视频、canvas</p>
<p>File API，有说 File API 不是HTML5规范的内容，但得到了浏览器较好的支持</p>
<p>Web存储，localStorage 和 sessionStorage</p>
<p>通过描述文件缓存资源</p>
<p>服务器发送事件</p>
<p>WebSocket</p>
<p>地理定位</p>
<p>Web Worker</p>
</blockquote>
<h2 id="零散知识"><a href="#零散知识" class="headerlink" title="零散知识"></a>零散知识</h2><p>文字循环滚动</p>
<figure class="highlight html"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line"><span class="tag">&lt;<span class="name">marquee</span> <span class="attr">behavior</span>=<span class="string">"scroll"</span> <span class="attr">direction</span>=<span class="string">"row"</span>&gt;</span>啦啦啦，真的会动耶！<span class="tag">&lt;/<span class="name">marquee</span>&gt;</span></div></pre></td></tr></table></figure>
          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
      

  
  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">
            
            
              
                
                <a class="post-title-link" href="/2016/09/03/study-plan/" itemprop="url">
                  学习计划
                </a>
              
            
          </h1>
        

        <div class="post-meta">
          <span class="post-time">
            <span class="post-meta-item-icon">
              <i class="fa fa-calendar-o"></i>
            </span>
            <span class="post-meta-item-text">发表于</span>
            <time itemprop="dateCreated" datetime="2016-09-03T14:53:03+08:00" content="2016-09-03">
              2016-09-03
            </time>
          </span>

          
            <span class="post-category" >
              &nbsp; | &nbsp;
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">分类于</span>
              
                <span itemprop="about" itemscope itemtype="https://schema.org/Thing">
                  <a href="/categories/前端知识/" itemprop="url" rel="index">
                    <span itemprop="name">前端知识</span>
                  </a>
                </span>

                
                

              
            </span>
          

          
            
          

          

          
          

          
        </div>
      </header>
    


    <div class="post-body" itemprop="articleBody">

      
      

      
        
          
            <h1 id="Web前端知识"><a href="#Web前端知识" class="headerlink" title="Web前端知识"></a>Web前端知识</h1><h2 id="学习路径"><a href="#学习路径" class="headerlink" title="学习路径"></a>学习路径</h2><p><a href="https://roadmap.sh/" target="_blank" rel="external">Developer Roadmaps</a><br><a href="https://github.com/thedaviddias/Front-End-Checklist" target="_blank" rel="external">Front-End-Checklist</a></p>
<h2 id="参考博客"><a href="#参考博客" class="headerlink" title="参考博客"></a>参考博客</h2><p><a href="http://www.ruanyifeng.com/blog/" target="_blank" rel="external">阮一峰的网络日志</a><br><a href="http://blog.andrewray.me/" target="_blank" rel="external">Andrew Ray’s Blog</a><br><a href="https://github.com/reactnativecn/react-native-guide" target="_blank" rel="external">React Native指南汇集了各类react-native学习资源、开源App和组件</a><br><a href="https://github.com/lcxfs1991/blog" target="_blank" rel="external">leehey’s blog</a><br><a href="http://www.jianshu.com/users/4713cde8f222/latest_articles" target="_blank" rel="external">有情怀的程序猿</a> </p>
<h2 id="HTML5"><a href="#HTML5" class="headerlink" title="HTML5"></a>HTML5</h2><p>《HTML5秘籍》</p>
<h2 id="CSS3"><a href="#CSS3" class="headerlink" title="CSS3"></a>CSS3</h2><p>《图解CSS3:核心技术与案例实战》</p>
<h2 id="JavaScript"><a href="#JavaScript" class="headerlink" title="JavaScript"></a>JavaScript</h2><p>《JavaScript高级程序设计》<br>《JavaScript语言精粹》</p>
<h2 id="ES6"><a href="#ES6" class="headerlink" title="ES6"></a>ES6</h2><p>《ES6标准入门 2》</p>
<h2 id="jQuery"><a href="#jQuery" class="headerlink" title="jQuery"></a>jQuery</h2><p>…</p>
<h2 id="React"><a href="#React" class="headerlink" title="React"></a>React</h2><p>《React精髓》<br>《React导学》<br>《React:引领未来的用户界面开发框架》<br>《React与Redux开发实例精解》<br><a href="http://www.ruanyifeng.com/blog/2016/11/javascript.html" target="_blank" rel="external">JavaScript 全栈工程师培训教程</a></p>
<h2 id="React-Router"><a href="#React-Router" class="headerlink" title="React-Router"></a>React-Router</h2><p><a href="http://www.ruanyifeng.com/blog/2016/05/react_router.html" target="_blank" rel="external">React Router 使用教程</a><br><a href="https://github.com/reactjs/react-router-tutorial/tree/master/lessons" target="_blank" rel="external">react-router-tutorial</a><br><a href="https://github.com/ReactTraining/react-router" target="_blank" rel="external">react-router</a> </p>
<h2 id="Redux"><a href="#Redux" class="headerlink" title="Redux"></a>Redux</h2><p><a href="http://www.ruanyifeng.com/blog/2016/09/redux_tutorial_part_one_basic_usages.html" target="_blank" rel="external">Redux 入门教程（一）：基本用法</a><br><a href="http://www.ruanyifeng.com/blog/2016/09/redux_tutorial_part_two_async_operations.html" target="_blank" rel="external">Redux 入门教程（二）：中间件与异步操作</a><br><a href="http://www.ruanyifeng.com/blog/2016/09/redux_tutorial_part_three_react-redux.html" target="_blank" rel="external">Redux 入门教程（三）：React-Redux 的用法</a> </p>
<h2 id="NPM"><a href="#NPM" class="headerlink" title="NPM"></a>NPM</h2><h2 id="其它"><a href="#其它" class="headerlink" title="其它"></a>其它</h2><p>《Web全栈工程师的自我修养》<br>《哈佛情商课:献给奋斗中的你》<br>《精益创业》<br>《关键对话》<br>…</p>
<h2 id="Webpack"><a href="#Webpack" class="headerlink" title="Webpack"></a>Webpack</h2><p><a href="http://webpack.github.io/docs/tutorials/getting-started/" target="_blank" rel="external">快速上手</a><br><a href="http://www.cnblogs.com/vajoy/p/4650467.html" target="_blank" rel="external">一小时包教会</a><br><a href="https://github.com/ruanyf/webpack-demos" target="_blank" rel="external">webpack-demos</a> </p>
<h2 id="Git"><a href="#Git" class="headerlink" title="Git"></a>Git</h2><p><a href="http://www.ruanyifeng.com/blog/2014/06/git_remote.html" target="_blank" rel="external">Git远程操作详解</a><br><a href="http://www.liaoxuefeng.com/wiki/0013739516305929606dd18361248578c67b8067c8c017b000/" target="_blank" rel="external">Git教程</a></p>
<h2 id="Node"><a href="#Node" class="headerlink" title="Node"></a>Node</h2><p>…</p>
<hr>
<h1 id="设计"><a href="#设计" class="headerlink" title="设计"></a>设计</h1><p>《写给大家看的设计书》<br>《精益创业UX篇 高效用户体验设计》<br>《Web表单设计：点石成金的艺术》<br>《用户体验要素》</p>
<hr>
<h1 id="移动端知识"><a href="#移动端知识" class="headerlink" title="移动端知识"></a>移动端知识</h1><h2 id="React-Native"><a href="#React-Native" class="headerlink" title="React Native"></a>React Native</h2><p>《React Native 跨平台移动应用开发》<br>《React Native 入门与实战》<br>《React Native 开发指南》</p>
<h2 id="小程序"><a href="#小程序" class="headerlink" title="小程序"></a>小程序</h2><p>《微信小程序入门指南》</p>

          
        
      
    </div>

    <div>
      
    </div>

    <div>
      
    </div>

    <footer class="post-footer">
      

      

      
      
        <div class="post-eof"></div>
      
    </footer>
  </article>


    
  </section>

  
  <nav class="pagination">
    <a class="extend prev" rel="prev" href="/page/16/"><i class="fa fa-angle-left"></i></a><a class="page-number" href="/">1</a><span class="space">&hellip;</span><a class="page-number" href="/page/16/">16</a><span class="page-number current">17</span>
  </nav>



          </div>
          


          

        </div>
       
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2021</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">小朱</span>
</div>

<div class="powered-by">
  由 <a class="theme-link" href="http://hexo.io">Hexo</a> 强力驱动
</div>

<div class="theme-info">
  主题 -
  <a class="theme-link" href="https://github.com/iissnan/hexo-theme-next">
    NexT.Pisces
  </a>
</div>

        

        
      </div>
    </footer>

    <div class="back-to-top">
      <i class="fa fa-arrow-up"></i>
    </div>
  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  



  
  <script type="text/javascript" src="//cdn.jsdelivr.net/jquery/2.1.3/jquery.min.js"></script>

  
  <script type="text/javascript" src="//cdn.jsdelivr.net/fastclick/1.0.6/fastclick.min.js"></script>

  
  <script type="text/javascript" src="//cdn.jsdelivr.net/jquery.lazyload/1.9.3/jquery.lazyload.min.js"></script>

  
  <script type="text/javascript" src="//cdn.jsdelivr.net/velocity/1.2.3/velocity.min.js"></script>

  
  <script type="text/javascript" src="//cdn.jsdelivr.net/velocity/1.2.3/velocity.ui.min.js"></script>

  
  <script type="text/javascript" src="//cdn.jsdelivr.net/fancybox/2.1.5/jquery.fancybox.pack.js"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.0.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.0.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.0.1"></script>



  

  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.0.1"></script>



  



  



  
  
  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length == 0) {
       search_path = "search.xml";
    }
    var path = "/" + search_path;
    // monitor main search box;

    function proceedsearch() {
      $("body").append('<div class="popoverlay">').css('overflow', 'hidden');
      $('.popup').toggle();

    }
    // search function;
    var searchFunc = function(path, search_id, content_id) {
    'use strict';
    $.ajax({
        url: path,
        dataType: "xml",
        async: true,
        success: function( xmlResponse ) {
            // get the contents from search data
            isfetched = true;

            $('.popup').detach().appendTo('.container');
            //$('.popup').detach().appendTo('.header-inner');

            var datas = $( "entry", xmlResponse ).map(function() {
                return {
                    title: $( "title", this ).text(),
                    content: $("content",this).text(),
                    url: $( "url" , this).text()
                };
            }).get();
            var $input = document.getElementById(search_id);
            var $resultContent = document.getElementById(content_id);
            $input.addEventListener('input', function(){
                var matchcounts = 0;
                var str='<ul class=\"search-result-list\">';                
                var keywords = this.value.trim().toLowerCase().split(/[\s\-]+/);
                $resultContent.innerHTML = "";
                if (this.value.trim().length > 1) {
                // perform local searching
                datas.forEach(function(data) {
                    var isMatch = true;
                    var content_index = [];
                    var data_title = data.title.trim().toLowerCase();
                    var data_content = data.content.trim().replace(/<[^>]+>/g,"").toLowerCase();
                    var data_url = data.url;
                    var index_title = -1;
                    var index_content = -1;
                    var first_occur = -1;
                    // only match artiles with not empty titles and contents
                    if(data_title != '' && data_content != '') {
                        keywords.forEach(function(keyword, i) {
                            index_title = data_title.indexOf(keyword);
                            index_content = data_content.indexOf(keyword);
                            if( index_title < 0 && index_content < 0 ){
                                isMatch = false;
                            } else {
                                if (index_content < 0) {
                                    index_content = 0;
                                }
                                if (i == 0) {
                                    first_occur = index_content;
                                }
                            }
                        });
                    }
                    // show search results
                    if (isMatch) {
                        matchcounts += 1;
                        str += "<li><a href='"+ data_url +"' class='search-result-title'>"+ data_title +"</a>";
                        var content = data.content.trim().replace(/<[^>]+>/g,"");
                        if (first_occur >= 0) {
                            // cut out 100 characters
                            var start = first_occur - 20;
                            var end = first_occur + 80;
                            if(start < 0){
                                start = 0;
                            }
                            if(start == 0){
                                end = 50;
                            }
                            if(end > content.length){
                                end = content.length;
                            }
                            var match_content = content.substring(start, end);
                            // highlight all keywords
                            keywords.forEach(function(keyword){
                                var regS = new RegExp(keyword, "gi");
                                match_content = match_content.replace(regS, "<b class=\"search-keyword\">"+keyword+"</b>");
                            });
                            
                            str += "<p class=\"search-result\">" + match_content +"...</p>"
                        }
                        str += "</li>";
                    }
                })};
                str += "</ul>";
                if (matchcounts == 0) { str = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>' }
                if (keywords == "") { str = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>' }
                $resultContent.innerHTML = str;
            });
            proceedsearch();
        }
    });}

    // handle and trigger popup window;
    $('.popup-trigger').mousedown(function(e) {
      e.stopPropagation();
      if (isfetched == false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };

    });

    $('.popup-btn-close').click(function(e){
      $('.popup').hide();
      $(".popoverlay").remove();
      $('body').css('overflow', '');
    });
    $('.popup').click(function(e){
      e.stopPropagation();
    });
  </script>

  

  

  

</body>
</html>
